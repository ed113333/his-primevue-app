(function($r){typeof define=="function"&&define.amd?define($r):$r()})((function(){"use strict";var $r={};/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mh(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const nr=$r.NODE_ENV!=="production"?Object.freeze({}):{},gh=$r.NODE_ENV!=="production"?Object.freeze([]):[],rr=()=>{},yh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),et=Object.assign,vh=Object.prototype.hasOwnProperty,$i=(t,e)=>vh.call(t,e),de=Array.isArray,Dn=t=>Ai(t)==="[object Map]",Ta=t=>Ai(t)==="[object Set]",ve=t=>typeof t=="function",ot=t=>typeof t=="string",rn=t=>typeof t=="symbol",Ne=t=>t!==null&&typeof t=="object",bh=t=>(Ne(t)||ve(t))&&ve(t.then)&&ve(t.catch),Oa=Object.prototype.toString,Ai=t=>Oa.call(t),Na=t=>Ai(t).slice(8,-1),Ma=t=>Ai(t)==="[object Object]",io=t=>ot(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,so=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Sh=/-\w/g,Di=so(t=>t.replace(Sh,e=>e.slice(1).toUpperCase())),Ar=so(t=>t.charAt(0).toUpperCase()+t.slice(1)),xh=so(t=>t?`on${Ar(t)}`:""),sn=(t,e)=>!Object.is(t,e),kh=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})};let $a;const Pi=()=>$a||($a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function oo(t){if(de(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=ot(r)?Eh(r):oo(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(ot(t)||Ne(t))return t}const wh=/;(?![^(]*\))/g,_h=/:([^]+)/,Ch=/\/\*[^]*?\*\//g;function Eh(t){const e={};return t.replace(Ch,"").split(wh).forEach(n=>{if(n){const r=n.split(_h);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ht(t){let e="";if(ot(t))e=t;else if(de(t))for(let n=0;n<t.length;n++){const r=ht(t[n]);r&&(e+=r+" ")}else if(Ne(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Aa=t=>!!(t&&t.__v_isRef===!0),we=t=>ot(t)?t:t==null?"":de(t)||Ne(t)&&(t.toString===Oa||!ve(t.toString))?Aa(t)?we(t.value):JSON.stringify(t,Da,2):String(t),Da=(t,e)=>Aa(e)?Da(t,e.value):Dn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[lo(r,s)+" =>"]=i,n),{})}:Ta(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>lo(n))}:rn(e)?lo(e):Ne(e)&&!de(e)&&!Ma(e)?String(e):e,lo=(t,e="")=>{var n;return rn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};var fe={};function At(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let ue;const ao=new WeakSet;class Th{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ao.has(this)&&(ao.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ia(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,za(this),Ra(this);const e=ue,n=wt;ue=this,wt=!0;try{return this.fn()}finally{fe.NODE_ENV!=="production"&&ue!==this&&At("Active effect was not restored correctly - this is likely a Vue internal bug."),Va(this),ue=e,wt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)po(e);this.deps=this.depsTail=void 0,za(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ao.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fo(this)&&this.run()}get dirty(){return fo(this)}}let Pa=0,Dr,Pr;function Ia(t,e=!1){if(t.flags|=8,e){t.next=Pr,Pr=t;return}t.next=Dr,Dr=t}function co(){Pa++}function uo(){if(--Pa>0)return;if(Pr){let e=Pr;for(Pr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Dr;){let e=Dr;for(Dr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Ra(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Va(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),po(r),Oh(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function fo(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(La(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function La(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ir)||(t.globalVersion=Ir,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!fo(t))))return;t.flags|=2;const e=t.dep,n=ue,r=wt;ue=t,wt=!0;try{Ra(t);const i=t.fn(t._value);(e.version===0||sn(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{ue=n,wt=r,Va(t),t.flags&=-3}}function po(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),fe.NODE_ENV!=="production"&&n.subsHead===t&&(n.subsHead=i),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)po(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Oh(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let wt=!0;const Ba=[];function ir(){Ba.push(wt),wt=!1}function sr(){const t=Ba.pop();wt=t===void 0?!0:t}function za(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ue;ue=void 0;try{e()}finally{ue=n}}}let Ir=0;class Nh{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ii{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0,fe.NODE_ENV!=="production"&&(this.subsHead=void 0)}track(e){if(!ue||!wt||ue===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ue)n=this.activeLink=new Nh(ue,this),ue.deps?(n.prevDep=ue.depsTail,ue.depsTail.nextDep=n,ue.depsTail=n):ue.deps=ue.depsTail=n,ja(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ue.depsTail,n.nextDep=void 0,ue.depsTail.nextDep=n,ue.depsTail=n,ue.deps===n&&(ue.deps=r)}return fe.NODE_ENV!=="production"&&ue.onTrack&&ue.onTrack(et({effect:ue},e)),n}trigger(e){this.version++,Ir++,this.notify(e)}notify(e){co();try{if(fe.NODE_ENV!=="production")for(let n=this.subsHead;n;n=n.nextSub)n.sub.onTrigger&&!(n.sub.flags&8)&&n.sub.onTrigger(et({effect:n.sub},e));for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{uo()}}}function ja(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)ja(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),fe.NODE_ENV!=="production"&&t.dep.subsHead===void 0&&(t.dep.subsHead=t),t.dep.subs=t}}const ho=new WeakMap,Pn=Symbol(fe.NODE_ENV!=="production"?"Object iterate":""),mo=Symbol(fe.NODE_ENV!=="production"?"Map keys iterate":""),Rr=Symbol(fe.NODE_ENV!=="production"?"Array iterate":"");function tt(t,e,n){if(wt&&ue){let r=ho.get(t);r||ho.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Ii),i.map=r,i.key=n),fe.NODE_ENV!=="production"?i.track({target:t,type:e,key:n}):i.track()}}function on(t,e,n,r,i,s){const o=ho.get(t);if(!o){Ir++;return}const l=a=>{a&&(fe.NODE_ENV!=="production"?a.trigger({target:t,type:e,key:n,newValue:r,oldValue:i,oldTarget:s}):a.trigger())};if(co(),e==="clear")o.forEach(l);else{const a=de(t),c=a&&io(n);if(a&&n==="length"){const u=Number(r);o.forEach((d,p)=>{(p==="length"||p===Rr||!rn(p)&&p>=u)&&l(d)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),c&&l(o.get(Rr)),e){case"add":a?c&&l(o.get("length")):(l(o.get(Pn)),Dn(t)&&l(o.get(mo)));break;case"delete":a||(l(o.get(Pn)),Dn(t)&&l(o.get(mo)));break;case"set":Dn(t)&&l(o.get(Pn));break}}uo()}function or(t){const e=se(t);return e===t?e:(tt(e,"iterate",Rr),Ke(t)?e:e.map(Ie))}function Ri(t){return tt(t=se(t),"iterate",Rr),t}const Mh={__proto__:null,[Symbol.iterator](){return go(this,Symbol.iterator,Ie)},concat(...t){return or(this).concat(...t.map(e=>de(e)?or(e):e))},entries(){return go(this,"entries",t=>(t[1]=Ie(t[1]),t))},every(t,e){return Ft(this,"every",t,e,void 0,arguments)},filter(t,e){return Ft(this,"filter",t,e,n=>n.map(Ie),arguments)},find(t,e){return Ft(this,"find",t,e,Ie,arguments)},findIndex(t,e){return Ft(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ft(this,"findLast",t,e,Ie,arguments)},findLastIndex(t,e){return Ft(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ft(this,"forEach",t,e,void 0,arguments)},includes(...t){return yo(this,"includes",t)},indexOf(...t){return yo(this,"indexOf",t)},join(t){return or(this).join(t)},lastIndexOf(...t){return yo(this,"lastIndexOf",t)},map(t,e){return Ft(this,"map",t,e,void 0,arguments)},pop(){return Vr(this,"pop")},push(...t){return Vr(this,"push",t)},reduce(t,...e){return Fa(this,"reduce",t,e)},reduceRight(t,...e){return Fa(this,"reduceRight",t,e)},shift(){return Vr(this,"shift")},some(t,e){return Ft(this,"some",t,e,void 0,arguments)},splice(...t){return Vr(this,"splice",t)},toReversed(){return or(this).toReversed()},toSorted(t){return or(this).toSorted(t)},toSpliced(...t){return or(this).toSpliced(...t)},unshift(...t){return Vr(this,"unshift",t)},values(){return go(this,"values",Ie)}};function go(t,e,n){const r=Ri(t),i=r[e]();return r!==t&&!Ke(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const $h=Array.prototype;function Ft(t,e,n,r,i,s){const o=Ri(t),l=o!==t&&!Ke(t),a=o[e];if(a!==$h[e]){const d=a.apply(t,s);return l?Ie(d):d}let c=n;o!==t&&(l?c=function(d,p){return n.call(this,Ie(d),p,t)}:n.length>2&&(c=function(d,p){return n.call(this,d,p,t)}));const u=a.call(o,c,r);return l&&i?i(u):u}function Fa(t,e,n,r){const i=Ri(t);let s=n;return i!==t&&(Ke(t)?n.length>3&&(s=function(o,l,a){return n.call(this,o,l,a,t)}):s=function(o,l,a){return n.call(this,o,Ie(l),a,t)}),i[e](s,...r)}function yo(t,e,n){const r=se(t);tt(r,"iterate",Rr);const i=r[e](...n);return(i===-1||i===!1)&&Fi(n[0])?(n[0]=se(n[0]),r[e](...n)):i}function Vr(t,e,n=[]){ir(),co();const r=se(t)[e].apply(t,n);return uo(),sr(),r}const Ah=mh("__proto__,__v_isRef,__isVue"),Ha=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(rn));function Dh(t){rn(t)||(t=String(t));const e=se(this);return tt(e,"has",t),e.hasOwnProperty(t)}class Ua{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Qa:Ya:s?Ga:Ja).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=de(e);if(!i){let a;if(o&&(a=Mh[n]))return a;if(n==="hasOwnProperty")return Dh}const l=Reflect.get(e,n,qe(e)?e:r);return(rn(n)?Ha.has(n):Ah(n))||(i||tt(e,"get",n),s)?l:qe(l)?o&&io(n)?l:l.value:Ne(l)?i?So(l):bo(l):l}}class Wa extends Ua{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const a=Dt(s);if(!Ke(r)&&!Dt(r)&&(s=se(s),r=se(r)),!de(e)&&qe(s)&&!qe(r))return a?(fe.NODE_ENV!=="production"&&At(`Set operation on key "${String(n)}" failed: target is readonly.`,e[n]),!0):(s.value=r,!0)}const o=de(e)&&io(n)?Number(n)<e.length:$i(e,n),l=Reflect.set(e,n,r,qe(e)?e:i);return e===se(i)&&(o?sn(r,s)&&on(e,"set",n,r,s):on(e,"add",n,r)),l}deleteProperty(e,n){const r=$i(e,n),i=e[n],s=Reflect.deleteProperty(e,n);return s&&r&&on(e,"delete",n,void 0,i),s}has(e,n){const r=Reflect.has(e,n);return(!rn(n)||!Ha.has(n))&&tt(e,"has",n),r}ownKeys(e){return tt(e,"iterate",de(e)?"length":Pn),Reflect.ownKeys(e)}}class Ka extends Ua{constructor(e=!1){super(!0,e)}set(e,n){return fe.NODE_ENV!=="production"&&At(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0}deleteProperty(e,n){return fe.NODE_ENV!=="production"&&At(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}}const Ph=new Wa,Ih=new Ka,Rh=new Wa(!0),Vh=new Ka(!0),vo=t=>t,Vi=t=>Reflect.getPrototypeOf(t);function Lh(t,e,n){return function(...r){const i=this.__v_raw,s=se(i),o=Dn(s),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=i[t](...r),u=n?vo:e?Hi:Ie;return!e&&tt(s,"iterate",a?mo:Pn),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:l?[u(d[0]),u(d[1])]:u(d),done:p}},[Symbol.iterator](){return this}}}}function Li(t){return function(...e){if(fe.NODE_ENV!=="production"){const n=e[0]?`on key "${e[0]}" `:"";At(`${Ar(t)} operation ${n}failed: target is readonly.`,se(this))}return t==="delete"?!1:t==="clear"?void 0:this}}function Bh(t,e){const n={get(i){const s=this.__v_raw,o=se(s),l=se(i);t||(sn(i,l)&&tt(o,"get",i),tt(o,"get",l));const{has:a}=Vi(o),c=e?vo:t?Hi:Ie;if(a.call(o,i))return c(s.get(i));if(a.call(o,l))return c(s.get(l));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&tt(se(i),"iterate",Pn),i.size},has(i){const s=this.__v_raw,o=se(s),l=se(i);return t||(sn(i,l)&&tt(o,"has",i),tt(o,"has",l)),i===l?s.has(i):s.has(i)||s.has(l)},forEach(i,s){const o=this,l=o.__v_raw,a=se(l),c=e?vo:t?Hi:Ie;return!t&&tt(a,"iterate",Pn),l.forEach((u,d)=>i.call(s,c(u),c(d),o))}};return et(n,t?{add:Li("add"),set:Li("set"),delete:Li("delete"),clear:Li("clear")}:{add(i){!e&&!Ke(i)&&!Dt(i)&&(i=se(i));const s=se(this);return Vi(s).has.call(s,i)||(s.add(i),on(s,"add",i,i)),this},set(i,s){!e&&!Ke(s)&&!Dt(s)&&(s=se(s));const o=se(this),{has:l,get:a}=Vi(o);let c=l.call(o,i);c?fe.NODE_ENV!=="production"&&qa(o,l,i):(i=se(i),c=l.call(o,i));const u=a.call(o,i);return o.set(i,s),c?sn(s,u)&&on(o,"set",i,s,u):on(o,"add",i,s),this},delete(i){const s=se(this),{has:o,get:l}=Vi(s);let a=o.call(s,i);a?fe.NODE_ENV!=="production"&&qa(s,o,i):(i=se(i),a=o.call(s,i));const c=l?l.call(s,i):void 0,u=s.delete(i);return a&&on(s,"delete",i,void 0,c),u},clear(){const i=se(this),s=i.size!==0,o=fe.NODE_ENV!=="production"?Dn(i)?new Map(i):new Set(i):void 0,l=i.clear();return s&&on(i,"clear",void 0,void 0,o),l}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Lh(i,t,e)}),n}function Bi(t,e){const n=Bh(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get($i(n,i)&&i in r?n:r,i,s)}const zh={get:Bi(!1,!1)},jh={get:Bi(!1,!0)},Fh={get:Bi(!0,!1)},Hh={get:Bi(!0,!0)};function qa(t,e,n){const r=se(n);if(r!==n&&e.call(t,r)){const i=Na(t);At(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Ja=new WeakMap,Ga=new WeakMap,Ya=new WeakMap,Qa=new WeakMap;function Uh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wh(t){return t.__v_skip||!Object.isExtensible(t)?0:Uh(Na(t))}function bo(t){return Dt(t)?t:ji(t,!1,Ph,zh,Ja)}function Kh(t){return ji(t,!1,Rh,jh,Ga)}function So(t){return ji(t,!0,Ih,Fh,Ya)}function zi(t){return ji(t,!0,Vh,Hh,Qa)}function ji(t,e,n,r,i){if(!Ne(t))return fe.NODE_ENV!=="production"&&At(`value cannot be made ${e?"readonly":"reactive"}: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=Wh(t);if(s===0)return t;const o=i.get(t);if(o)return o;const l=new Proxy(t,s===2?r:n);return i.set(t,l),l}function In(t){return Dt(t)?In(t.__v_raw):!!(t&&t.__v_isReactive)}function Dt(t){return!!(t&&t.__v_isReadonly)}function Ke(t){return!!(t&&t.__v_isShallow)}function Fi(t){return t?!!t.__v_raw:!1}function se(t){const e=t&&t.__v_raw;return e?se(e):t}function Xa(t){return!$i(t,"__v_skip")&&Object.isExtensible(t)&&kh(t,"__v_skip",!0),t}const Ie=t=>Ne(t)?bo(t):t,Hi=t=>Ne(t)?So(t):t;function qe(t){return t?t.__v_isRef===!0:!1}function M(t){return Za(t,!1)}function lr(t){return Za(t,!0)}function Za(t,e){return qe(t)?t:new qh(t,e)}class qh{constructor(e,n){this.dep=new Ii,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:se(e),this._value=n?e:Ie(e),this.__v_isShallow=n}get value(){return fe.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Ke(e)||Dt(e);e=r?e:se(e),sn(e,n)&&(this._rawValue=e,this._value=r?e:Ie(e),fe.NODE_ENV!=="production"?this.dep.trigger({target:this,type:"set",key:"value",newValue:e,oldValue:n}):this.dep.trigger())}}function be(t){return qe(t)?t.value:t}const Jh={get:(t,e,n)=>e==="__v_raw"?t:be(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return qe(i)&&!qe(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Gh(t){return In(t)?t:new Proxy(t,Jh)}class Yh{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ii,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Qh(t){return new Yh(t)}class Xh{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ii(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ir-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ue!==this)return Ia(this,!0),!0}get value(){const e=fe.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track();return La(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter?this.setter(e):fe.NODE_ENV!=="production"&&At("Write operation failed: computed value is readonly")}}function Zh(t,e,n=!1){let r,i;return ve(t)?r=t:(r=t.get,i=t.set),new Xh(r,i,n)}const Ui={},Wi=new WeakMap;let Rn;function em(t,e=!1,n=Rn){if(n){let r=Wi.get(n);r||Wi.set(n,r=[]),r.push(t)}else fe.NODE_ENV!=="production"&&!e&&At("onWatcherCleanup() was called when there was no active watcher to associate with.")}function tm(t,e,n=nr){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:l,call:a}=n,c=x=>{(n.onWarn||At)("Invalid watch source: ",x,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=x=>i?x:Ke(x)||i===!1||i===0?Ht(x,1):Ht(x);let d,p,f,h,m=!1,g=!1;if(qe(t)?(p=()=>t.value,m=Ke(t)):In(t)?(p=()=>u(t),m=!0):de(t)?(g=!0,m=t.some(x=>In(x)||Ke(x)),p=()=>t.map(x=>{if(qe(x))return x.value;if(In(x))return u(x);if(ve(x))return a?a(x,2):x();fe.NODE_ENV!=="production"&&c(x)})):ve(t)?e?p=a?()=>a(t,2):t:p=()=>{if(f){ir();try{f()}finally{sr()}}const x=Rn;Rn=d;try{return a?a(t,3,[h]):t(h)}finally{Rn=x}}:(p=rr,fe.NODE_ENV!=="production"&&c(t)),e&&i){const x=p,_=i===!0?1/0:i;p=()=>Ht(x(),_)}const v=()=>{d.stop()};if(s&&e){const x=e;e=(..._)=>{x(..._),v()}}let b=g?new Array(t.length).fill(Ui):Ui;const E=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(e){const _=d.run();if(i||m||(g?_.some((N,T)=>sn(N,b[T])):sn(_,b))){f&&f();const N=Rn;Rn=d;try{const T=[_,b===Ui?void 0:g&&b[0]===Ui?[]:b,h];b=_,a?a(e,3,T):e(...T)}finally{Rn=N}}}else d.run()};return l&&l(E),d=new Th(p),d.scheduler=o?()=>o(E,!1):E,h=x=>em(x,!1,d),f=d.onStop=()=>{const x=Wi.get(d);if(x){if(a)a(x,4);else for(const _ of x)_();Wi.delete(d)}},fe.NODE_ENV!=="production"&&(d.onTrack=n.onTrack,d.onTrigger=n.onTrigger),e?r?E(!0):b=d.run():o?o(E.bind(null,!0),!0):d.run(),v.pause=d.pause.bind(d),v.resume=d.resume.bind(d),v.stop=v,v}function Ht(t,e=1/0,n){if(e<=0||!Ne(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,qe(t))Ht(t.value,e,n);else if(de(t))for(let r=0;r<t.length;r++)Ht(t[r],e,n);else if(Ta(t)||Dn(t))t.forEach(r=>{Ht(r,e,n)});else if(Ma(t)){for(const r in t)Ht(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ht(t[r],e,n)}return t}var ne={};const Vn=[];function nm(t){Vn.push(t)}function rm(){Vn.pop()}let xo=!1;function me(t,...e){if(xo)return;xo=!0,ir();const n=Vn.length?Vn[Vn.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=im();if(r)Ki(r,n,11,[t+e.map(s=>{var o,l;return(l=(o=s.toString)==null?void 0:o.call(s))!=null?l:JSON.stringify(s)}).join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${Oc(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${t}`,...e];i.length&&s.push(`
`,...sm(i)),console.warn(...s)}sr(),xo=!1}function im(){let t=Vn[Vn.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function sm(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...om(n))}),e}function om({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${Oc(t.component,t.type,r)}`,s=">"+n;return t.props?[i,...lm(t.props),s]:[i+s]}function lm(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...ec(r,t[r]))}),n.length>3&&e.push(" ..."),e}function ec(t,e,n){return ot(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:qe(e)?(e=ec(t,se(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):ve(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=se(e),n?e:[`${t}=`,e])}const ko={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ki(t,e,n,r){try{return r?t(...r):t()}catch(i){_o(i,e,n)}}function wo(t,e,n,r){if(ve(t)){const i=Ki(t,e,n,r);return i&&bh(i)&&i.catch(s=>{_o(s,e,n)}),i}if(de(t)){const i=[];for(let s=0;s<t.length;s++)i.push(wo(t[s],e,n,r));return i}else ne.NODE_ENV!=="production"&&me(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof t}`)}function _o(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||nr;if(e){let l=e.parent;const a=e.proxy,c=ne.NODE_ENV!=="production"?ko[n]:`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,a,c)===!1)return}l=l.parent}if(s){ir(),Ki(s,null,10,[t,a,c]),sr();return}}am(t,n,i,r,o)}function am(t,e,n,r=!0,i=!1){if(ne.NODE_ENV!=="production"){const s=ko[e];if(n&&nm(n),me(`Unhandled error${s?` during execution of ${s}`:""}`),n&&rm(),r)throw t;console.error(t)}else{if(i)throw t;console.error(t)}}const mt=[];let Ut=-1;const ar=[];let ln=null,cr=0;const tc=Promise.resolve();let qi=null;const cm=100;function Ji(t){const e=qi||tc;return t?e.then(this?t.bind(this):t):e}function um(t){let e=Ut+1,n=mt.length;for(;e<n;){const r=e+n>>>1,i=mt[r],s=Lr(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Co(t){if(!(t.flags&1)){const e=Lr(t),n=mt[mt.length-1];!n||!(t.flags&2)&&e>=Lr(n)?mt.push(t):mt.splice(um(e),0,t),t.flags|=1,nc()}}function nc(){qi||(qi=tc.then(ic))}function rc(t){de(t)?ar.push(...t):ln&&t.id===-1?ln.splice(cr+1,0,t):t.flags&1||(ar.push(t),t.flags|=1),nc()}function dm(t){if(ar.length){const e=[...new Set(ar)].sort((n,r)=>Lr(n)-Lr(r));if(ar.length=0,ln){ln.push(...e);return}for(ln=e,ne.NODE_ENV!=="production"&&(t=t||new Map),cr=0;cr<ln.length;cr++){const n=ln[cr];ne.NODE_ENV!=="production"&&sc(t,n)||(n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2)}ln=null,cr=0}}const Lr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ic(t){ne.NODE_ENV!=="production"&&(t=t||new Map);const e=ne.NODE_ENV!=="production"?n=>sc(t,n):rr;try{for(Ut=0;Ut<mt.length;Ut++){const n=mt[Ut];if(n&&!(n.flags&8)){if(ne.NODE_ENV!=="production"&&e(n))continue;n.flags&4&&(n.flags&=-2),Ki(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2)}}}finally{for(;Ut<mt.length;Ut++){const n=mt[Ut];n&&(n.flags&=-2)}Ut=-1,mt.length=0,dm(t),qi=null,(mt.length||ar.length)&&ic(t)}}function sc(t,e){const n=t.get(e)||0;if(n>cm){const r=e.i,i=r&&Ro(r.type);return _o(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return t.set(e,n+1),!1}const Eo=new Map;if(ne.NODE_ENV!=="production"){const t=Pi();t.__VUE_HMR_RUNTIME__||(t.__VUE_HMR_RUNTIME__={createRecord:To(fm),rerender:To(pm),reload:To(hm)})}const Gi=new Map;function fm(t,e){return Gi.has(t)?!1:(Gi.set(t,{initialDef:Yi(e),instances:new Set}),!0)}function Yi(t){return Nc(t)?t.__vccOpts:t}function pm(t,e){const n=Gi.get(t);n&&(n.initialDef.render=e,[...n.instances].forEach(r=>{e&&(r.render=e,Yi(r.type).render=e),r.renderCache=[],r.job.flags&8||r.update()}))}function hm(t,e){const n=Gi.get(t);if(!n)return;e=Yi(e),oc(n.initialDef,e);const r=[...n.instances];for(let i=0;i<r.length;i++){const s=r[i],o=Yi(s.type);let l=Eo.get(o);l||(o!==n.initialDef&&oc(o,e),Eo.set(o,l=new Set)),l.add(s),s.appContext.propsCache.delete(s.type),s.appContext.emitsCache.delete(s.type),s.appContext.optionsCache.delete(s.type),s.ceReload?(l.add(s),s.ceReload(e.styles),l.delete(s)):s.parent?Co(()=>{s.job.flags&8||(s.parent.update(),l.delete(s))}):s.appContext.reload?s.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required."),s.root.ce&&s!==s.root&&s.root.ce._removeChildStyle(o)}rc(()=>{Eo.clear()})}function oc(t,e){et(t,e);for(const n in t)n!=="__file"&&!(n in e)&&delete t[n]}function To(t){return(e,n)=>{try{return t(e,n)}catch(r){console.error(r),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}function mm(t,...e){}const gm=ym("component:updated");function ym(t){return e=>{mm(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}let Re=null,lc=null;function ac(t){const e=Re;return Re=t,lc=t&&t.type.__scopeId||null,e}function A(t,e=Re,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&ns(-1);const s=ac(e);let o;try{o=t(...i)}finally{ac(s),r._d&&ns(1)}return ne.NODE_ENV!=="production"&&gm(e),o};return r._n=!0,r._c=!0,r._d=!0,r}function Qi(t,e){if(Re===null)return ne.NODE_ENV!=="production"&&me("withDirectives can only be used inside render functions."),t;const n=Tc(Re),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,l,a=nr]=e[i];s&&(ve(s)&&(s={mounted:s,updated:s}),s.deep&&Ht(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:l,modifiers:a}))}return t}const vm=t=>t.__isTeleport;function cc(t,e){t.shapeFlag&6&&t.component?(t.transition=e,cc(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _e(t,e){return ve(t)?et({name:t.name},e,{setup:t}):t}function bm(){const t=cn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:(ne.NODE_ENV!=="production"&&me("useId() is called when there is no active component instance to be associated with."),"")}Pi().requestIdleCallback,Pi().cancelIdleCallback;const Sm=t=>!!t.type.__asyncLoader;function xm(t,e,n=gt,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{ir();const l=Ec(n),a=wo(e,n,t,o);return l(),sr(),a});return r?i.unshift(s):i.push(s),s}else if(ne.NODE_ENV!=="production"){const i=xh(ko[t].replace(/ hook$/,""));me(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const uc=t=>(e,n=gt)=>{(!jr||t==="sp")&&xm(t,(...r)=>e(...r),n)},_t=uc("m"),dc=uc("bum"),Xi="components",km="directives";function D(t,e){return Oo(Xi,t,!0,e)||t}const fc=Symbol.for("v-ndc");function ur(t){return ot(t)?Oo(Xi,t,!1)||t:t||fc}function pc(t){return Oo(km,t)}function Oo(t,e,n=!0,r=!1){const i=Re||gt;if(i){const s=i.type;if(t===Xi){const l=Ro(s,!1);if(l&&(l===e||l===Di(e)||l===Ar(Di(e))))return s}const o=hc(i[t]||s[t],e)||hc(i.appContext[t],e);if(!o&&r)return s;if(ne.NODE_ENV!=="production"&&n&&!o){const l=t===Xi?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";me(`Failed to resolve ${t.slice(0,-1)}: ${e}${l}`)}return o}else ne.NODE_ENV!=="production"&&me(`resolve${Ar(t.slice(0,-1))} can only be used in render() or setup().`)}function hc(t,e){return t&&(t[e]||t[Di(e)]||t[Ar(Di(e))])}function Se(t,e,n,r){let i;const s=n,o=de(t);if(o||ot(t)){const l=o&&In(t);let a=!1,c=!1;l&&(a=!Ke(t),c=Dt(t),t=Ri(t)),i=new Array(t.length);for(let u=0,d=t.length;u<d;u++)i[u]=e(a?c?Hi(Ie(t[u])):Ie(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){ne.NODE_ENV!=="production"&&!Number.isInteger(t)&&me(`The v-for range expect an integer value but got ${t}.`),i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,s)}else if(Ne(t))if(t[Symbol.iterator])i=Array.from(t,(l,a)=>e(l,a,void 0,s));else{const l=Object.keys(t);i=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];i[a]=e(t[u],u,a,s)}}else i=[];return i}function Pt(t,e,n={},r,i){if(Re.ce||Re.parent&&Sm(Re.parent)&&Re.parent.ce)return e!=="default"&&(n.name=e),S(),G(oe,null,[k("slot",n,r)],64);let s=t[e];ne.NODE_ENV!=="production"&&s&&s.length>1&&(me("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),s=()=>[]),s&&s._c&&(s._d=!1),S();const o=s&&mc(s(n)),l=n.key||o&&o.key,a=G(oe,{key:(l&&!rn(l)?l:`_${e}`)+(!o&&r?"_fb":"")},o||[],o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function mc(t){return t.some(e=>rs(e)?!(e.type===es||e.type===oe&&!mc(e.children)):!0)?t:null}const No=t=>t?Hm(t)?Tc(t):No(t.parent):null,Mo=et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>ne.NODE_ENV!=="production"?zi(t.props):t.props,$attrs:t=>ne.NODE_ENV!=="production"?zi(t.attrs):t.attrs,$slots:t=>ne.NODE_ENV!=="production"?zi(t.slots):t.slots,$refs:t=>ne.NODE_ENV!=="production"?zi(t.refs):t.refs,$parent:t=>No(t.parent),$root:t=>No(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>_m(t),$forceUpdate:t=>t.f||(t.f=()=>{Co(t.update)}),$nextTick:t=>t.n||(t.n=Ji.bind(t.proxy)),$watch:t=>Dm.bind(t)}),wm={};ne.NODE_ENV!=="production"&&(wm.ownKeys=t=>(me("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t)));function gc(t){return de(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function _m(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,l=s.get(e);let a;return l?a=l:!i.length&&!n&&!r?a=e:(a={},i.length&&i.forEach(c=>Zi(a,c,o,!0)),Zi(a,e,o)),Ne(e)&&s.set(e,a),a}function Zi(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Zi(t,s,n,!0),i&&i.forEach(o=>Zi(t,o,n,!0));for(const o in e)if(r&&o==="expose")ne.NODE_ENV!=="production"&&me('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const l=Cm[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const Cm={data:yc,props:bc,emits:bc,methods:Br,computed:Br,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:Br,directives:Br,watch:Tm,provide:yc,inject:Em};function yc(t,e){return e?t?function(){return et(ve(t)?t.call(this,this):t,ve(e)?e.call(this,this):e)}:e:t}function Em(t,e){return Br(vc(t),vc(e))}function vc(t){if(de(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Je(t,e){return t?[...new Set([].concat(t,e))]:e}function Br(t,e){return t?et(Object.create(null),t,e):e}function bc(t,e){return t?de(t)&&de(e)?[...new Set([...t,...e])]:et(Object.create(null),gc(t),gc(e??{})):e}function Tm(t,e){if(!t)return e;if(!e)return t;const n=et(Object.create(null),t);for(const r in e)n[r]=Je(t[r],e[r]);return n}let Om=null;function $o(t,e){if(!gt)ne.NODE_ENV!=="production"&&me("provide() can only be used inside setup().");else{let n=gt.provides;const r=gt.parent&&gt.parent.provides;r===n&&(n=gt.provides=Object.create(r)),n[t]=e}}function an(t,e,n=!1){const r=cn();if(r||Om){let i=r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ve(e)?e.call(r&&r.proxy):e;ne.NODE_ENV!=="production"&&me(`injection "${String(t)}" not found.`)}else ne.NODE_ENV!=="production"&&me("inject() can only be used inside setup() or functional components.")}const Nm={},Sc=t=>Object.getPrototypeOf(t)===Nm,Mm=Rm,$m=Symbol.for("v-scx"),Am=()=>{{const t=an($m);return t||ne.NODE_ENV!=="production"&&me("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function xc(t,e){return Do(t,null,e)}function Ao(t,e,n){return ne.NODE_ENV!=="production"&&!ve(e)&&me("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Do(t,e,n)}function Do(t,e,n=nr){const{immediate:r,deep:i,flush:s,once:o}=n;ne.NODE_ENV!=="production"&&!e&&(r!==void 0&&me('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),i!==void 0&&me('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&me('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const l=et({},n);ne.NODE_ENV!=="production"&&(l.onWarn=me);const a=e&&r||!e&&s!=="post";let c;if(jr){if(s==="sync"){const f=Am();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!a){const f=()=>{};return f.stop=rr,f.resume=rr,f.pause=rr,f}}const u=gt;l.call=(f,h,m)=>wo(f,u,h,m);let d=!1;s==="post"?l.scheduler=f=>{Mm(f,u&&u.suspense)}:s!=="sync"&&(d=!0,l.scheduler=(f,h)=>{h?f():Co(f)}),l.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const p=tm(t,e,l);return jr&&(c?c.push(p):a&&p()),p}function Dm(t,e,n){const r=this.proxy,i=ot(t)?t.includes(".")?Pm(r,t):()=>r[t]:t.bind(r,r);let s;ve(e)?s=e:(s=e.handler,n=e);const o=Ec(this),l=Do(i,s.bind(r),n);return o(),l}function Pm(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const Im=t=>t.__isSuspense;function Rm(t,e){e&&e.pendingBranch?de(t)?e.effects.push(...t):e.effects.push(t):rc(t)}const oe=Symbol.for("v-fgt"),Vm=Symbol.for("v-txt"),es=Symbol.for("v-cmt"),Lm=Symbol.for("v-stc"),ts=[];let lt=null;function S(t=!1){ts.push(lt=t?null:[])}function Bm(){ts.pop(),lt=ts[ts.length-1]||null}let zr=1;function ns(t,e=!1){zr+=t,t<0&&lt&&e&&(lt.hasOnce=!0)}function kc(t){return t.dynamicChildren=zr>0?lt||gh:null,Bm(),zr>0&&lt&&lt.push(t),t}function C(t,e,n,r,i,s){return kc(y(t,e,n,r,i,s,!0))}function G(t,e,n,r,i){return kc(k(t,e,n,r,i,!0))}function rs(t){return t?t.__v_isVNode===!0:!1}const zm=(...t)=>_c(...t),wc=({key:t})=>t??null,is=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ot(t)||qe(t)||ve(t)?{i:Re,r:t,k:e,f:!!n}:t:null);function y(t,e=null,n=null,r=0,i=null,s=t===oe?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&wc(e),ref:e&&is(e),scopeId:lc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Re};return l?(Po(a,n),s&128&&t.normalize(a)):n&&(a.shapeFlag|=ot(n)?8:16),ne.NODE_ENV!=="production"&&a.key!==a.key&&me("VNode created with invalid key (NaN). VNode type:",a.type),zr>0&&!o&&lt&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&lt.push(a),a}const k=ne.NODE_ENV!=="production"?zm:_c;function _c(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===fc)&&(ne.NODE_ENV!=="production"&&!t&&me(`Invalid vnode type when creating vnode: ${t}.`),t=es),rs(t)){const l=ss(t,e,!0);return n&&Po(l,n),zr>0&&!s&&lt&&(l.shapeFlag&6?lt[lt.indexOf(t)]=l:lt.push(l)),l.patchFlag=-2,l}if(Nc(t)&&(t=t.__vccOpts),e){e=jm(e);let{class:l,style:a}=e;l&&!ot(l)&&(e.class=ht(l)),Ne(a)&&(Fi(a)&&!de(a)&&(a=et({},a)),e.style=oo(a))}const o=ot(t)?1:Im(t)?128:vm(t)?64:Ne(t)?4:ve(t)?2:0;return ne.NODE_ENV!=="production"&&o&4&&Fi(t)&&(t=se(t),me("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),y(t,e,n,r,i,o,s,!0)}function jm(t){return t?Fi(t)||Sc(t)?et({},t):t:null}function ss(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:l,transition:a}=t,c=e?Ce(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&wc(c),ref:e&&e.ref?n&&s?de(s)?s.concat(is(e)):[s,is(e)]:is(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:ne.NODE_ENV!=="production"&&o===-1&&de(l)?l.map(Cc):l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==oe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ss(t.ssContent),ssFallback:t.ssFallback&&ss(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&r&&cc(u,a.clone(u)),u}function Cc(t){const e=ss(t);return de(t.children)&&(e.children=t.children.map(Cc)),e}function F(t=" ",e=0){return k(Vm,null,t,e)}function Fm(t,e){const n=k(Lm,null,t);return n.staticCount=e,n}function Ln(t="",e=!1){return e?(S(),G(es,null,t)):k(es,null,t)}function Po(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(de(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Po(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Sc(e)?e._ctx=Re:i===3&&Re&&(Re.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ve(e)?(e={default:e,_ctx:Re},n=32):(e=String(e),r&64?(n=16,e=[F(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ce(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ht([e.class,r.class]));else if(i==="style")e.style=oo([e.style,r.style]);else if(yh(i)){const s=e[i],o=r[i];o&&s!==o&&!(de(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}let gt=null;const cn=()=>gt||Re;let Io;{const t=Pi(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Io=e("__VUE_INSTANCE_SETTERS__",n=>gt=n),e("__VUE_SSR_SETTERS__",n=>jr=n)}const Ec=t=>{const e=gt;return Io(t),t.scope.on(),()=>{t.scope.off(),Io(e)}};function Hm(t){return t.vnode.shapeFlag&4}let jr=!1;function Tc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Gh(Xa(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Mo)return Mo[n](t)},has(e,n){return n in e||n in Mo}})):t.proxy}const Um=/(?:^|[-_])\w/g,Wm=t=>t.replace(Um,e=>e.toUpperCase()).replace(/[-_]/g,"");function Ro(t,e=!0){return ve(t)?t.displayName||t.name:t.name||e&&t.__name}function Oc(t,e,n=!1){let r=Ro(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=s=>{for(const o in s)if(s[o]===e)return o};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?Wm(r):n?"App":"Anonymous"}function Nc(t){return ve(t)&&"__vccOpts"in t}const nt=(t,e)=>{const n=Zh(t,e,jr);if(ne.NODE_ENV!=="production"){const r=cn();r&&r.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function Vo(t,e,n){const r=(s,o,l)=>{ns(-1);try{return k(s,o,l)}finally{ns(1)}},i=arguments.length;return i===2?Ne(e)&&!de(e)?rs(e)?r(t,null,[e]):r(t,e):r(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&rs(n)&&(n=[n]),r(t,e,n))}function Km(){if(ne.NODE_ENV==="production"||typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#1677ff"},n={style:"color:#f5222d"},r={style:"color:#eb2f96"},i={__vue_custom_formatter:!0,header(d){if(!Ne(d))return null;if(d.__isVue)return["div",t,"VueInstance"];if(qe(d)){ir();const p=d.value;return sr(),["div",{},["span",t,u(d)],"<",l(p),">"]}else{if(In(d))return["div",{},["span",t,Ke(d)?"ShallowReactive":"Reactive"],"<",l(d),`>${Dt(d)?" (readonly)":""}`];if(Dt(d))return["div",{},["span",t,Ke(d)?"ShallowReadonly":"Readonly"],"<",l(d),">"]}return null},hasBody(d){return d&&d.__isVue},body(d){if(d&&d.__isVue)return["div",{},...s(d.$)]}};function s(d){const p=[];d.type.props&&d.props&&p.push(o("props",se(d.props))),d.setupState!==nr&&p.push(o("setup",d.setupState)),d.data!==nr&&p.push(o("data",se(d.data)));const f=a(d,"computed");f&&p.push(o("computed",f));const h=a(d,"inject");return h&&p.push(o("injected",h)),p.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:d}]]),p}function o(d,p){return p=et({},p),Object.keys(p).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},d],["div",{style:"padding-left:1.25em"},...Object.keys(p).map(f=>["div",{},["span",r,f+": "],l(p[f],!1)])]]:["span",{}]}function l(d,p=!0){return typeof d=="number"?["span",e,d]:typeof d=="string"?["span",n,JSON.stringify(d)]:typeof d=="boolean"?["span",r,d]:Ne(d)?["object",{object:p?se(d):d}]:["span",n,String(d)]}function a(d,p){const f=d.type;if(ve(f))return;const h={};for(const m in d.ctx)c(f,m,p)&&(h[m]=d.ctx[m]);return h}function c(d,p,f){const h=d[f];if(de(h)&&h.includes(p)||Ne(h)&&p in h||d.extends&&c(d.extends,p,f)||d.mixins&&d.mixins.some(m=>c(m,p,f)))return!0}function u(d){return Ke(d)?"ShallowRef":d.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}const qm=ne.NODE_ENV!=="production"?me:rr;var Jm={};let Gm;const Mc=typeof window<"u"&&window.trustedTypes;if(Mc)try{Gm=Mc.createPolicy("vue",{createHTML:t=>t})}catch(t){Jm.NODE_ENV!=="production"&&qm(`Error creating trusted types policy: ${t}`)}const $c=Symbol("_vod"),Ym=Symbol("_vsh"),Qm={name:"show",beforeMount(t,{value:e},{transition:n}){t[$c]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Fr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Fr(t,!0),r.enter(t)):r.leave(t,()=>{Fr(t,!1)}):Fr(t,e))},beforeUnmount(t,{value:e}){Fr(t,e)}};function Fr(t,e){t.style.display=e?t[$c]:"none",t[Ym]=!e}var Xm={};function Zm(){Km()}Xm.NODE_ENV!=="production"&&Zm();function Lo(...t){if(t){let e=[];for(let n=0;n<t.length;n++){let r=t[n];if(!r)continue;let i=typeof r;if(i==="string"||i==="number")e.push(r);else if(i==="object"){let s=Array.isArray(r)?[Lo(...r)]:Object.entries(r).map(([o,l])=>l?o:void 0);e=s.length?e.concat(s.filter(o=>!!o)):e}}return e.join(" ").trim()}}function eg(t,e){return t?t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className):!1}function tg(t,e){if(t&&e){let n=r=>{eg(t,r)||(t.classList?t.classList.add(r):t.className+=" "+r)};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(n))}}function Bo(t,e){if(t&&e){let n=r=>{t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")};[e].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(n))}}function Ac(t){return t?Math.abs(t.scrollLeft):0}function Dc(t){return t?getComputedStyle(t).direction==="rtl":!1}function Pc(t,e){return t instanceof HTMLElement?t.offsetWidth:0}function ng(t){if(t){let e=t.parentNode;return e&&e instanceof ShadowRoot&&e.host&&(e=e.host),e}return null}function rg(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&ng(t))}function Hr(t){return typeof Element<"u"?t instanceof Element:t!==null&&typeof t=="object"&&t.nodeType===1&&typeof t.nodeName=="string"}function ls(t,e={}){if(Hr(t)){let n=(r,i)=>{var s,o;let l=(s=t==null?void 0:t.$attrs)!=null&&s[r]?[(o=t==null?void 0:t.$attrs)==null?void 0:o[r]]:[];return[i].flat().reduce((a,c)=>{if(c!=null){let u=typeof c;if(u==="string"||u==="number")a.push(c);else if(u==="object"){let d=Array.isArray(c)?n(r,c):Object.entries(c).map(([p,f])=>r==="style"&&(f||f===0)?`${p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`:f?p:void 0);a=d.length?a.concat(d.filter(p=>!!p)):a}}return a},l)};Object.entries(e).forEach(([r,i])=>{if(i!=null){let s=r.match(/^on(.+)/);s?t.addEventListener(s[1].toLowerCase(),i):r==="p-bind"||r==="pBind"?ls(t,i):(i=r==="class"?[...new Set(n("class",i))].join(" ").trim():r==="style"?n("style",i).join(";").trim():i,(t.$attrs=t.$attrs||{})&&(t.$attrs[r]=i),t.setAttribute(r,i))}})}}function ig(t,e={},...n){{let r=document.createElement(t);return ls(r,e),r.append(...n),r}}function as(t,e){return Hr(t)?t.matches(e)?t:t.querySelector(e):null}function sg(t,e){t&&document.activeElement!==t&&t.focus(e)}function Ur(t,e){if(Hr(t)){let n=t.getAttribute(e);return isNaN(n)?n==="true"||n==="false"?n==="true":n:+n}}function zo(t){if(t){let e=t.offsetHeight,n=getComputedStyle(t);return e-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),e}return 0}function Wr(t){if(t){let e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||Ac(document.documentElement)||Ac(document.body)||0)}}return{top:"auto",left:"auto"}}function Ic(t,e){return t?t.offsetHeight:0}function Kr(t){if(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),e}return 0}function og(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function lg(t,e="",n){Hr(t)&&n!==null&&n!==void 0&&t.setAttribute(e,n)}function Rc(){let t=new Map;return{on(e,n){let r=t.get(e);return r?r.push(n):r=[n],t.set(e,r),this},off(e,n){let r=t.get(e);return r&&r.splice(r.indexOf(n)>>>0,1),this},emit(e,n){let r=t.get(e);r&&r.forEach(i=>{i(n)})},clear(){t.clear()}}}function qr(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&typeof t=="object"&&Object.keys(t).length===0}function jo(t,e,n=new WeakSet){if(t===e)return!0;if(!t||!e||typeof t!="object"||typeof e!="object"||n.has(t)||n.has(e))return!1;n.add(t).add(e);let r=Array.isArray(t),i=Array.isArray(e),s,o,l;if(r&&i){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!jo(t[s],e[s],n))return!1;return!0}if(r!=i)return!1;let a=t instanceof Date,c=e instanceof Date;if(a!=c)return!1;if(a&&c)return t.getTime()==e.getTime();let u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();let p=Object.keys(t);if(o=p.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,p[s]))return!1;for(s=o;s--!==0;)if(l=p[s],!jo(t[l],e[l],n))return!1;return!0}function ag(t,e){return jo(t,e)}function Fo(t){return typeof t=="function"&&"call"in t&&"apply"in t}function ye(t){return!qr(t)}function Vc(t,e){return null}function Lc(t,e,n){return n?Vc()===Vc():ag(t,e)}function un(t,e=!0){return t instanceof Object&&t.constructor===Object&&(e||Object.keys(t).length!==0)}function at(t,...e){return Fo(t)?t(...e):t}function rt(t,e=!0){return typeof t=="string"&&(e||t!=="")}function It(t){return rt(t)?t.replace(/(-|_)/g,"").toLowerCase():t}function Ho(t,e="",n={}){let r=It(e).split("."),i=r.shift();if(i){if(un(t)){let s=Object.keys(t).find(o=>It(o)===i)||"";return Ho(at(t[s],n),r.join("."),n)}return}return at(t,n)}function Bc(t,e=!0){return Array.isArray(t)&&(e||t.length!==0)}function cg(t){return ye(t)&&!isNaN(t)}function Bn(t,e){if(e){let n=e.test(t);return e.lastIndex=0,n}return!1}function Jr(t){return t&&t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":").trim()}function ug(t){return rt(t,!1)?t[0].toUpperCase()+t.slice(1):t}function zc(t){return rt(t)?t.replace(/(_)/g,"-").replace(/[A-Z]/g,(e,n)=>n===0?e:"-"+e.toLowerCase()).toLowerCase():t}var cs={};function dg(t="pui_id_"){return Object.hasOwn(cs,t)||(cs[t]=0),cs[t]++,`${t}${cs[t]}`}var fg=Object.defineProperty,pg=Object.defineProperties,hg=Object.getOwnPropertyDescriptors,us=Object.getOwnPropertySymbols,jc=Object.prototype.hasOwnProperty,Fc=Object.prototype.propertyIsEnumerable,Hc=(t,e,n)=>e in t?fg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ct=(t,e)=>{for(var n in e||(e={}))jc.call(e,n)&&Hc(t,n,e[n]);if(us)for(var n of us(e))Fc.call(e,n)&&Hc(t,n,e[n]);return t},Uo=(t,e)=>pg(t,hg(e)),Wt=(t,e)=>{var n={};for(var r in t)jc.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&us)for(var r of us(t))e.indexOf(r)<0&&Fc.call(t,r)&&(n[r]=t[r]);return n},mg=Rc(),Ge=mg,Gr=/{([^}]*)}/g,Uc=/(\d+\s+[\+\-\*\/]\s+\d+)/g,Wc=/var\([^)]+\)/g;function Kc(t){return rt(t)?t.replace(/[A-Z]/g,(e,n)=>n===0?e:"."+e.toLowerCase()).toLowerCase():t}function gg(t){return un(t)&&t.hasOwnProperty("$value")&&t.hasOwnProperty("$type")?t.$value:t}function yg(t){return t.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function Wo(t="",e=""){return yg(`${rt(t,!1)&&rt(e,!1)?`${t}-`:t}${e}`)}function qc(t="",e=""){return`--${Wo(t,e)}`}function vg(t=""){let e=(t.match(/{/g)||[]).length,n=(t.match(/}/g)||[]).length;return(e+n)%2!==0}function Jc(t,e="",n="",r=[],i){if(rt(t)){let s=t.trim();if(vg(s))return;if(Bn(s,Gr)){let o=s.replaceAll(Gr,l=>{let a=l.replace(/{|}/g,"").split(".").filter(c=>!r.some(u=>Bn(c,u)));return`var(${qc(n,zc(a.join("-")))}${ye(i)?`, ${i}`:""})`});return Bn(o.replace(Wc,"0"),Uc)?`calc(${o})`:o}return s}else if(cg(t))return t}function bg(t,e,n){rt(e,!1)&&t.push(`${e}:${n};`)}function dr(t,e){return t?`${t}{${e}}`:""}function Gc(t,e){if(t.indexOf("dt(")===-1)return t;function n(o,l){let a=[],c=0,u="",d=null,p=0;for(;c<=o.length;){let f=o[c];if((f==='"'||f==="'"||f==="`")&&o[c-1]!=="\\"&&(d=d===f?null:f),!d&&(f==="("&&p++,f===")"&&p--,(f===","||c===o.length)&&p===0)){let h=u.trim();h.startsWith("dt(")?a.push(Gc(h,l)):a.push(r(h)),u="",c++;continue}f!==void 0&&(u+=f),c++}return a}function r(o){let l=o[0];if((l==='"'||l==="'"||l==="`")&&o[o.length-1]===l)return o.slice(1,-1);let a=Number(o);return isNaN(a)?o:a}let i=[],s=[];for(let o=0;o<t.length;o++)if(t[o]==="d"&&t.slice(o,o+3)==="dt(")s.push(o),o+=2;else if(t[o]===")"&&s.length>0){let l=s.pop();s.length===0&&i.push([l,o])}if(!i.length)return t;for(let o=i.length-1;o>=0;o--){let[l,a]=i[o],c=t.slice(l+3,a),u=n(c,e),d=e(...u);t=t.slice(0,l)+d+t.slice(a+1)}return t}var zn=(...t)=>Sg(he.getTheme(),...t),Sg=(t={},e,n,r)=>{if(e){let{variable:i,options:s}=he.defaults||{},{prefix:o,transform:l}=(t==null?void 0:t.options)||s||{},a=Bn(e,Gr)?e:`{${e}}`;return r==="value"||qr(r)&&l==="strict"?he.getTokenValue(e):Jc(a,void 0,o,[i.excludedKeyRegex],n)}return""};function ds(t,...e){if(t instanceof Array){let n=t.reduce((r,i,s)=>{var o;return r+i+((o=at(e[s],{dt:zn}))!=null?o:"")},"");return Gc(n,zn)}return at(t,{dt:zn})}function xg(t,e={}){let n=he.defaults.variable,{prefix:r=n.prefix,selector:i=n.selector,excludedKeyRegex:s=n.excludedKeyRegex}=e,o=[],l=[],a=[{node:t,path:r}];for(;a.length;){let{node:u,path:d}=a.pop();for(let p in u){let f=u[p],h=gg(f),m=Bn(p,s)?Wo(d):Wo(d,zc(p));if(un(h))a.push({node:h,path:m});else{let g=qc(m),v=Jc(h,m,r,[s]);bg(l,g,v);let b=m;r&&b.startsWith(r+"-")&&(b=b.slice(r.length+1)),o.push(b.replace(/-/g,"."))}}}let c=l.join("");return{value:l,tokens:o,declarations:c,css:dr(i,c)}}var Et={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(t){return{type:"class",selector:t,matched:this.pattern.test(t.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(t){return{type:"attr",selector:`:root${t}`,matched:this.pattern.test(t.trim())}}},media:{pattern:/^@media (.*)$/,resolve(t){return{type:"media",selector:t,matched:this.pattern.test(t.trim())}}},system:{pattern:/^system$/,resolve(t){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(t.trim())}}},custom:{resolve(t){return{type:"custom",selector:t,matched:!0}}}},resolve(t){let e=Object.keys(this.rules).filter(n=>n!=="custom").map(n=>this.rules[n]);return[t].flat().map(n=>{var r;return(r=e.map(i=>i.resolve(n)).find(i=>i.matched))!=null?r:this.rules.custom.resolve(n)})}},_toVariables(t,e){return xg(t,{prefix:e==null?void 0:e.prefix})},getCommon({name:t="",theme:e={},params:n,set:r,defaults:i}){var s,o,l,a,c,u,d;let{preset:p,options:f}=e,h,m,g,v,b,E,x;if(ye(p)&&f.transform!=="strict"){let{primitive:_,semantic:N,extend:T}=p,$=N||{},{colorScheme:q}=$,J=Wt($,["colorScheme"]),H=T||{},{colorScheme:j}=H,Y=Wt(H,["colorScheme"]),Pe=q||{},{dark:Nt}=Pe,en=Wt(Pe,["dark"]),kt=j||{},{dark:jt}=kt,$n=Wt(kt,["dark"]),ft=ye(_)?this._toVariables({primitive:_},f):{},pt=ye(J)?this._toVariables({semantic:J},f):{},Mt=ye(en)?this._toVariables({light:en},f):{},An=ye(Nt)?this._toVariables({dark:Nt},f):{},$t=ye(Y)?this._toVariables({semantic:Y},f):{},ro=ye($n)?this._toVariables({light:$n},f):{},tn=ye(jt)?this._toVariables({dark:jt},f):{},[w,V]=[(s=ft.declarations)!=null?s:"",ft.tokens],[P,B]=[(o=pt.declarations)!=null?o:"",pt.tokens||[]],[ae,ke]=[(l=Mt.declarations)!=null?l:"",Mt.tokens||[]],[re,Z]=[(a=An.declarations)!=null?a:"",An.tokens||[]],[ge,nn]=[(c=$t.declarations)!=null?c:"",$t.tokens||[]],[Fe,VE]=[(u=ro.declarations)!=null?u:"",ro.tokens||[]],[LE,BE]=[(d=tn.declarations)!=null?d:"",tn.tokens||[]];h=this.transformCSS(t,w,"light","variable",f,r,i),m=V;let zE=this.transformCSS(t,`${P}${ae}`,"light","variable",f,r,i),jE=this.transformCSS(t,`${re}`,"dark","variable",f,r,i);g=`${zE}${jE}`,v=[...new Set([...B,...ke,...Z])];let FE=this.transformCSS(t,`${ge}${Fe}color-scheme:light`,"light","variable",f,r,i),HE=this.transformCSS(t,`${LE}color-scheme:dark`,"dark","variable",f,r,i);b=`${FE}${HE}`,E=[...new Set([...nn,...VE,...BE])],x=at(p.css,{dt:zn})}return{primitive:{css:h,tokens:m},semantic:{css:g,tokens:v},global:{css:b,tokens:E},style:x}},getPreset({name:t="",preset:e={},options:n,params:r,set:i,defaults:s,selector:o}){var l,a,c;let u,d,p;if(ye(e)&&n.transform!=="strict"){let f=t.replace("-directive",""),h=e,{colorScheme:m,extend:g,css:v}=h,b=Wt(h,["colorScheme","extend","css"]),E=g||{},{colorScheme:x}=E,_=Wt(E,["colorScheme"]),N=m||{},{dark:T}=N,$=Wt(N,["dark"]),q=x||{},{dark:J}=q,H=Wt(q,["dark"]),j=ye(b)?this._toVariables({[f]:Ct(Ct({},b),_)},n):{},Y=ye($)?this._toVariables({[f]:Ct(Ct({},$),H)},n):{},Pe=ye(T)?this._toVariables({[f]:Ct(Ct({},T),J)},n):{},[Nt,en]=[(l=j.declarations)!=null?l:"",j.tokens||[]],[kt,jt]=[(a=Y.declarations)!=null?a:"",Y.tokens||[]],[$n,ft]=[(c=Pe.declarations)!=null?c:"",Pe.tokens||[]],pt=this.transformCSS(f,`${Nt}${kt}`,"light","variable",n,i,s,o),Mt=this.transformCSS(f,$n,"dark","variable",n,i,s,o);u=`${pt}${Mt}`,d=[...new Set([...en,...jt,...ft])],p=at(v,{dt:zn})}return{css:u,tokens:d,style:p}},getPresetC({name:t="",theme:e={},params:n,set:r,defaults:i}){var s;let{preset:o,options:l}=e,a=(s=o==null?void 0:o.components)==null?void 0:s[t];return this.getPreset({name:t,preset:a,options:l,params:n,set:r,defaults:i})},getPresetD({name:t="",theme:e={},params:n,set:r,defaults:i}){var s,o;let l=t.replace("-directive",""),{preset:a,options:c}=e,u=((s=a==null?void 0:a.components)==null?void 0:s[l])||((o=a==null?void 0:a.directives)==null?void 0:o[l]);return this.getPreset({name:l,preset:u,options:c,params:n,set:r,defaults:i})},applyDarkColorScheme(t){return!(t.darkModeSelector==="none"||t.darkModeSelector===!1)},getColorSchemeOption(t,e){var n;return this.applyDarkColorScheme(t)?this.regex.resolve(t.darkModeSelector===!0?e.options.darkModeSelector:(n=t.darkModeSelector)!=null?n:e.options.darkModeSelector):[]},getLayerOrder(t,e={},n,r){let{cssLayer:i}=e;return i?`@layer ${at(i.order||i.name||"primeui",n)}`:""},getCommonStyleSheet({name:t="",theme:e={},params:n,props:r={},set:i,defaults:s}){let o=this.getCommon({name:t,theme:e,params:n,set:i,defaults:s}),l=Object.entries(r).reduce((a,[c,u])=>a.push(`${c}="${u}"`)&&a,[]).join(" ");return Object.entries(o||{}).reduce((a,[c,u])=>{if(un(u)&&Object.hasOwn(u,"css")){let d=Jr(u.css),p=`${c}-variables`;a.push(`<style type="text/css" data-primevue-style-id="${p}" ${l}>${d}</style>`)}return a},[]).join("")},getStyleSheet({name:t="",theme:e={},params:n,props:r={},set:i,defaults:s}){var o;let l={name:t,theme:e,params:n,set:i,defaults:s},a=(o=t.includes("-directive")?this.getPresetD(l):this.getPresetC(l))==null?void 0:o.css,c=Object.entries(r).reduce((u,[d,p])=>u.push(`${d}="${p}"`)&&u,[]).join(" ");return a?`<style type="text/css" data-primevue-style-id="${t}-variables" ${c}>${Jr(a)}</style>`:""},createTokens(t={},e,n="",r="",i={}){let s=function(l,a={},c=[]){if(c.includes(this.path))return console.warn(`Circular reference detected at ${this.path}`),{colorScheme:l,path:this.path,paths:a,value:void 0};c.push(this.path),a.name=this.path,a.binding||(a.binding={});let u=this.value;if(typeof this.value=="string"&&Gr.test(this.value)){let d=this.value.trim().replace(Gr,p=>{var f;let h=p.slice(1,-1),m=this.tokens[h];if(!m)return console.warn(`Token not found for path: ${h}`),"__UNRESOLVED__";let g=m.computed(l,a,c);return Array.isArray(g)&&g.length===2?`light-dark(${g[0].value},${g[1].value})`:(f=g==null?void 0:g.value)!=null?f:"__UNRESOLVED__"});u=Uc.test(d.replace(Wc,"0"))?`calc(${d})`:d}return qr(a.binding)&&delete a.binding,c.pop(),{colorScheme:l,path:this.path,paths:a,value:u.includes("__UNRESOLVED__")?void 0:u}},o=(l,a,c)=>{Object.entries(l).forEach(([u,d])=>{let p=Bn(u,e.variable.excludedKeyRegex)?a:a?`${a}.${Kc(u)}`:Kc(u),f=c?`${c}.${u}`:u;un(d)?o(d,p,f):(i[p]||(i[p]={paths:[],computed:(h,m={},g=[])=>{if(i[p].paths.length===1)return i[p].paths[0].computed(i[p].paths[0].scheme,m.binding,g);if(h&&h!=="none")for(let v=0;v<i[p].paths.length;v++){let b=i[p].paths[v];if(b.scheme===h)return b.computed(h,m.binding,g)}return i[p].paths.map(v=>v.computed(v.scheme,m[v.scheme],g))}}),i[p].paths.push({path:f,value:d,scheme:f.includes("colorScheme.light")?"light":f.includes("colorScheme.dark")?"dark":"none",computed:s,tokens:i}))})};return o(t,n,r),i},getTokenValue(t,e,n){var r;let i=(l=>l.split(".").filter(a=>!Bn(a.toLowerCase(),n.variable.excludedKeyRegex)).join("."))(e),s=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,o=[(r=t[i])==null?void 0:r.computed(s)].flat().filter(l=>l);return o.length===1?o[0].value:o.reduce((l={},a)=>{let c=a,{colorScheme:u}=c,d=Wt(c,["colorScheme"]);return l[u]=d,l},void 0)},getSelectorRule(t,e,n,r){return n==="class"||n==="attr"?dr(ye(e)?`${t}${e},${t} ${e}`:t,r):dr(t,dr(e??":root",r))},transformCSS(t,e,n,r,i={},s,o,l){if(ye(e)){let{cssLayer:a}=i;if(r!=="style"){let c=this.getColorSchemeOption(i,o);e=n==="dark"?c.reduce((u,{type:d,selector:p})=>(ye(p)&&(u+=p.includes("[CSS]")?p.replace("[CSS]",e):this.getSelectorRule(p,l,d,e)),u),""):dr(l??":root",e)}if(a){let c={name:"primeui"};un(a)&&(c.name=at(a.name,{name:t,type:r})),ye(c.name)&&(e=dr(`@layer ${c.name}`,e),s==null||s.layerNames(c.name))}return e}return""}},he={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(t={}){let{theme:e}=t;e&&(this._theme=Uo(Ct({},e),{options:Ct(Ct({},this.defaults.options),e.options)}),this._tokens=Et.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var t;return((t=this.theme)==null?void 0:t.preset)||{}},get options(){var t;return((t=this.theme)==null?void 0:t.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(t){this.update({theme:t}),Ge.emit("theme:change",t)},getPreset(){return this.preset},setPreset(t){this._theme=Uo(Ct({},this.theme),{preset:t}),this._tokens=Et.createTokens(t,this.defaults),this.clearLoadedStyleNames(),Ge.emit("preset:change",t),Ge.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(t){this._theme=Uo(Ct({},this.theme),{options:t}),this.clearLoadedStyleNames(),Ge.emit("options:change",t),Ge.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(t){this._layerNames.add(t)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(t){return this._loadedStyleNames.has(t)},setLoadedStyleName(t){this._loadedStyleNames.add(t)},deleteLoadedStyleName(t){this._loadedStyleNames.delete(t)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(t){return Et.getTokenValue(this.tokens,t,this.defaults)},getCommon(t="",e){return Et.getCommon({name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(t="",e){let n={name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Et.getPresetC(n)},getDirective(t="",e){let n={name:t,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Et.getPresetD(n)},getCustomPreset(t="",e,n,r){let i={name:t,preset:e,options:this.options,selector:n,params:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Et.getPreset(i)},getLayerOrderCSS(t=""){return Et.getLayerOrder(t,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(t="",e,n="style",r){return Et.transformCSS(t,e,r,n,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(t="",e,n={}){return Et.getCommonStyleSheet({name:t,theme:this.theme,params:e,props:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(t,e,n={}){return Et.getStyleSheet({name:t,theme:this.theme,params:e,props:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(t){this._loadingStyles.add(t)},onStyleUpdated(t){this._loadingStyles.add(t)},onStyleLoaded(t,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),Ge.emit(`theme:${e}:load`,t),!this._loadingStyles.size&&Ge.emit("theme:load"))}},dn={_loadedStyleNames:new Set,getLoadedStyleNames:function(){return this._loadedStyleNames},isStyleNameLoaded:function(e){return this._loadedStyleNames.has(e)},setLoadedStyleName:function(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName:function(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames:function(){this._loadedStyleNames.clear()}},kg=`
    *,
    ::before,
    ::after {
        box-sizing: border-box;
    }

    /* Non vue overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity 0.1s linear;
    }

    /* Vue based overlay animations */
    .p-connected-overlay-enter-from {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-leave-to {
        opacity: 0;
    }

    .p-connected-overlay-enter-active {
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-leave-active {
        transition: opacity 0.1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter-from,
    .p-toggleable-content-leave-to {
        max-height: 0;
    }

    .p-toggleable-content-enter-to,
    .p-toggleable-content-leave-from {
        max-height: 1000px;
    }

    .p-toggleable-content-leave-active {
        overflow: hidden;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        transition: max-height 1s ease-in-out;
    }

    .p-disabled,
    .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-disabled,
    .p-component:disabled {
        opacity: dt('disabled.opacity');
    }

    .pi {
        font-size: dt('icon.size');
    }

    .p-icon {
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-overlay-mask {
        background: dt('mask.background');
        color: dt('mask.color');
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-overlay-mask-enter {
        animation: p-overlay-mask-enter-animation dt('mask.transition.duration') forwards;
    }

    .p-overlay-mask-leave {
        animation: p-overlay-mask-leave-animation dt('mask.transition.duration') forwards;
    }

    @keyframes p-overlay-mask-enter-animation {
        from {
            background: transparent;
        }
        to {
            background: dt('mask.background');
        }
    }
    @keyframes p-overlay-mask-leave-animation {
        from {
            background: dt('mask.background');
        }
        to {
            background: transparent;
        }
    }
`;function Yr(t){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(t)}function Yc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yc(Object(n),!0).forEach(function(r){wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wg(t,e,n){return(e=_g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _g(t){var e=Cg(t,"string");return Yr(e)=="symbol"?e:e+""}function Cg(t,e){if(Yr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;cn()&&cn().components?_t(t):e?t():Ji(t)}var Tg=0;function Og(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=M(!1),r=M(t),i=M(null),s=og()?window.document:void 0,o=e.document,l=o===void 0?s:o,a=e.immediate,c=a===void 0?!0:a,u=e.manual,d=u===void 0?!1:u,p=e.name,f=p===void 0?"style_".concat(++Tg):p,h=e.id,m=h===void 0?void 0:h,g=e.media,v=g===void 0?void 0:g,b=e.nonce,E=b===void 0?void 0:b,x=e.first,_=x===void 0?!1:x,N=e.onMounted,T=N===void 0?void 0:N,$=e.onUpdated,q=$===void 0?void 0:$,J=e.onLoad,H=J===void 0?void 0:J,j=e.props,Y=j===void 0?{}:j,Pe=function(){},Nt=function(jt){var $n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l){var ft=Qc(Qc({},Y),$n),pt=ft.name||f,Mt=ft.id||m,An=ft.nonce||E;i.value=l.querySelector('style[data-primevue-style-id="'.concat(pt,'"]'))||l.getElementById(Mt)||l.createElement("style"),i.value.isConnected||(r.value=jt||t,ls(i.value,{type:"text/css",id:Mt,media:v,nonce:An}),_?l.head.prepend(i.value):l.head.appendChild(i.value),lg(i.value,"data-primevue-style-id",pt),ls(i.value,ft),i.value.onload=function($t){return H==null?void 0:H($t,{name:pt})},T==null||T(pt)),!n.value&&(Pe=Ao(r,function($t){i.value.textContent=$t,q==null||q(pt)},{immediate:!0}),n.value=!0)}},en=function(){!l||!n.value||(Pe(),rg(i.value)&&l.head.removeChild(i.value),n.value=!1,i.value=null)};return c&&!d&&Eg(Nt),{id:m,name:f,el:i,css:r,unload:en,load:Nt,isLoaded:So(n)}}function Qr(t){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(t)}var Xc,Zc,eu,tu;function nu(t,e){return Ag(t)||$g(t,e)||Mg(t,e)||Ng()}function Ng(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mg(t,e){if(t){if(typeof t=="string")return ru(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ru(t,e):void 0}}function ru(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $g(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],a=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(a=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);a=!0);}catch(u){c=!0,i=u}finally{try{if(!a&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}function Ag(t){if(Array.isArray(t))return t}function iu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iu(Object(n),!0).forEach(function(r){Dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iu(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dg(t,e,n){return(e=Pg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pg(t){var e=Ig(t,"string");return Qr(e)=="symbol"?e:e+""}function Ig(t,e){if(Qr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fs(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Rg=function(e){var n=e.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(n("scrollbar.width"),`;
}
`)},Vg={},Lg={},Ee={name:"base",css:Rg,style:kg,classes:Vg,inlineStyles:Lg,load:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(s){return s},i=r(ds(Xc||(Xc=fs(["",""])),e));return ye(i)?Og(Jr(i),Ko({name:this.name},n)):{}},loadCSS:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,e)},loadStyle:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.load(this.style,n,function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return he.transformCSS(n.name||e.name,"".concat(i).concat(ds(Zc||(Zc=fs(["",""])),r)))})},getCommonTheme:function(e){return he.getCommon(this.name,e)},getComponentTheme:function(e){return he.getComponent(this.name,e)},getDirectiveTheme:function(e){return he.getDirective(this.name,e)},getPresetTheme:function(e,n,r){return he.getCustomPreset(this.name,e,n,r)},getLayerOrderThemeCSS:function(){return he.getLayerOrderCSS(this.name)},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=at(this.css,{dt:zn})||"",i=Jr(ds(eu||(eu=fs(["","",""])),r,e)),s=Object.entries(n).reduce(function(o,l){var a=nu(l,2),c=a[0],u=a[1];return o.push("".concat(c,'="').concat(u,'"'))&&o},[]).join(" ");return ye(i)?'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(s,">").concat(i,"</style>"):""}return""},getCommonThemeStyleSheet:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return he.getCommonStyleSheet(this.name,e,n)},getThemeStyleSheet:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[he.getStyleSheet(this.name,e,n)];if(this.style){var i=this.name==="base"?"global-style":"".concat(this.name,"-style"),s=ds(tu||(tu=fs(["",""])),at(this.style,{dt:zn})),o=Jr(he.transformCSS(i,s)),l=Object.entries(n).reduce(function(a,c){var u=nu(c,2),d=u[0],p=u[1];return a.push("".concat(d,'="').concat(p,'"'))&&a},[]).join(" ");ye(o)&&r.push('<style type="text/css" data-primevue-style-id="'.concat(i,'" ').concat(l,">").concat(o,"</style>"))}return r.join("")},extend:function(e){return Ko(Ko({},this),{},{css:void 0,style:void 0},e)}};function Bg(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pc",e=bm();return"".concat(t).concat(e.replace("v-","").replaceAll("-","_"))}var su=Ee.extend({name:"common"});function Xr(t){"@babel/helpers - typeof";return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(t)}function zg(t){return cu(t)||jg(t)||lu(t)||ou()}function jg(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zr(t,e){return cu(t)||Fg(t,e)||lu(t,e)||ou()}function ou(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lu(t,e){if(t){if(typeof t=="string")return au(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?au(t,e):void 0}}function au(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Fg(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],a=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);a=!0);}catch(u){c=!0,i=u}finally{try{if(!a&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}function cu(t){if(Array.isArray(t))return t}function uu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uu(Object(n),!0).forEach(function(r){ei(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uu(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ei(t,e,n){return(e=Hg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hg(t){var e=Ug(t,"string");return Xr(e)=="symbol"?e:e+""}function Ug(t,e){if(Xr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fr={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0},dt:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){Ge.off("theme:change",this._loadCoreStyles),e||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))}},dt:{immediate:!0,handler:function(e,n){var r=this;Ge.off("theme:change",this._themeScopedListener),e?(this._loadScopedThemeStyles(e),this._themeScopedListener=function(){return r._loadScopedThemeStyles(e)},this._themeChangeListener(this._themeScopedListener)):this._unloadScopedThemeStyles()}}},scopedStyleEl:void 0,rootEl:void 0,uid:void 0,$attrSelector:void 0,beforeCreate:function(){var e,n,r,i,s,o,l,a,c,u,d,p=(e=this.pt)===null||e===void 0?void 0:e._usept,f=p?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,h=p?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=h||f)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var m=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,g=m?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.originalValue:void 0,v=m?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.value:(c=this.$primevue)===null||c===void 0||(c=c.config)===null||c===void 0?void 0:c.pt;(u=v||g)===null||u===void 0||(u=u[this.$.type.name])===null||u===void 0||(u=u.hooks)===null||u===void 0||(d=u.onBeforeCreate)===null||d===void 0||d.call(u),this.$attrSelector=Bg(),this.uid=this.$attrs.id||this.$attrSelector.replace("pc","pv_id_")},created:function(){this._hook("onCreated")},beforeMount:function(){var e;this.rootEl=as(Hr(this.$el)?this.$el:(e=this.$el)===null||e===void 0?void 0:e.parentElement,"[".concat(this.$attrSelector,"]")),this.rootEl&&(this.rootEl.$pc=ie({name:this.$.type.name,attrSelector:this.$attrSelector},this.$params)),this._loadStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._removeThemeListeners(),this._unloadScopedThemeStyles(),this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Fo(e)?e.apply(void 0,r):Ce.apply(void 0,r)},_load:function(){dn.isStyleNameLoaded("base")||(Ee.loadCSS(this.$styleOptions),this._loadGlobalStyles(),dn.setLoadedStyleName("base")),this._loadThemeStyles()},_loadStyles:function(){this._load(),this._themeChangeListener(this._load)},_loadCoreStyles:function(){var e,n;!dn.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(n=this.$style)!==null&&n!==void 0&&n.name&&(su.loadCSS(this.$styleOptions),this.$options.style&&this.$style.loadCSS(this.$styleOptions),dn.setLoadedStyleName(this.$style.name))},_loadGlobalStyles:function(){var e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);ye(e)&&Ee.load(e,ie({name:"global"},this.$styleOptions))},_loadThemeStyles:function(){var e,n;if(!(this.isUnstyled||this.$theme==="none")){if(!he.isStyleNameLoaded("common")){var r,i,s=((r=this.$style)===null||r===void 0||(i=r.getCommonTheme)===null||i===void 0?void 0:i.call(r))||{},o=s.primitive,l=s.semantic,a=s.global,c=s.style;Ee.load(o==null?void 0:o.css,ie({name:"primitive-variables"},this.$styleOptions)),Ee.load(l==null?void 0:l.css,ie({name:"semantic-variables"},this.$styleOptions)),Ee.load(a==null?void 0:a.css,ie({name:"global-variables"},this.$styleOptions)),Ee.loadStyle(ie({name:"global-style"},this.$styleOptions),c),he.setLoadedStyleName("common")}if(!he.isStyleNameLoaded((e=this.$style)===null||e===void 0?void 0:e.name)&&(n=this.$style)!==null&&n!==void 0&&n.name){var u,d,p,f,h=((u=this.$style)===null||u===void 0||(d=u.getComponentTheme)===null||d===void 0?void 0:d.call(u))||{},m=h.css,g=h.style;(p=this.$style)===null||p===void 0||p.load(m,ie({name:"".concat(this.$style.name,"-variables")},this.$styleOptions)),(f=this.$style)===null||f===void 0||f.loadStyle(ie({name:"".concat(this.$style.name,"-style")},this.$styleOptions),g),he.setLoadedStyleName(this.$style.name)}if(!he.isStyleNameLoaded("layer-order")){var v,b,E=(v=this.$style)===null||v===void 0||(b=v.getLayerOrderThemeCSS)===null||b===void 0?void 0:b.call(v);Ee.load(E,ie({name:"layer-order",first:!0},this.$styleOptions)),he.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(e){var n,r,i,s=((n=this.$style)===null||n===void 0||(r=n.getPresetTheme)===null||r===void 0?void 0:r.call(n,e,"[".concat(this.$attrSelector,"]")))||{},o=s.css,l=(i=this.$style)===null||i===void 0?void 0:i.load(o,ie({name:"".concat(this.$attrSelector,"-").concat(this.$style.name)},this.$styleOptions));this.scopedStyleEl=l.el},_unloadScopedThemeStyles:function(){var e;(e=this.scopedStyleEl)===null||e===void 0||(e=e.value)===null||e===void 0||e.remove()},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};dn.clearLoadedStyleNames(),Ge.on("theme:change",e)},_removeThemeListeners:function(){Ge.off("theme:change",this._loadCoreStyles),Ge.off("theme:change",this._load),Ge.off("theme:change",this._themeScopedListener)},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ho(e,n,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],l=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},a=l.mergeSections,c=a===void 0?!0:a,u=l.mergeProps,d=u===void 0?!1:u,p=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,f=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,ie(ie({},i),{},{global:p||{}})),h=this._getPTDatasets(r);return c||!c&&f?d?this._mergeProps(d,p,f,h):ie(ie(ie({},p),f),h):ie(ie({},f),h)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ce(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&ye((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&ie(ie({},r==="root"&&ie(ie(ei({},"".concat(i,"name"),It(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&ei({},"".concat(i,"extend"),It(this.$.type.name))),{},ei({},"".concat(this.$attrSelector),""))),{},ei({},"".concat(i,"section"),It(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return rt(e)||Bc(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(l){var a,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=i?i(l):l,d=It(r),p=It(n.$name);return(a=c?d!==p?u==null?void 0:u[d]:void 0:u==null?void 0:u[d])!==null&&a!==void 0?a:u};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(m){return n(m,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,l=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},a=l.mergeSections,c=a===void 0?!0:a,u=l.mergeProps,d=u===void 0?!1:u,p=s(e.originalValue),f=s(e.value);return p===void 0&&f===void 0?void 0:rt(f)?f:rt(p)?p:c||!c&&f?d?this._mergeProps(d,p,f):ie(ie({},p),f):f}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,ie(ie({},this.$params),n))},ptmi:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=Ce(this.$_attrsWithoutPT,this.ptm(n,r));return i!=null&&i.hasOwnProperty("id")&&((e=i.id)!==null&&e!==void 0||(i.id=this.$id)),i},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,ie({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,ie(ie({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,ie(ie({},this.$params),r)),s=this._getOptionValue(su.inlineStyles,e,ie(ie({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return at(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,ie({},n.$params))||at(r,ie({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$id:function(){return this.$attrs.id||this.uid},$inProps:function(){var e,n=Object.keys(((e=this.$.vnode)===null||e===void 0?void 0:e.props)||{});return Object.fromEntries(Object.entries(this.$props).filter(function(r){var i=Zr(r,1),s=i[0];return n==null?void 0:n.includes(s)}))},$theme:function(){var e;return(e=this.$primevueConfig)===null||e===void 0?void 0:e.theme},$style:function(){return ie(ie({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$styleOptions:function(){var e;return{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs}}},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Zr(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=Zr(n,2),i=r[0],s=r[1],o=i.split(":"),l=zg(o),a=l.slice(1);return a==null||a.reduce(function(c,u,d,p){return!c[u]&&(c[u]=d===p.length-1?s:{}),c[u]},e),e},{})},$_attrsWithoutPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Zr(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=Zr(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},Wg=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,Kg=Ee.extend({name:"baseicon",css:Wg});function ti(t){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti(t)}function du(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?du(Object(n),!0).forEach(function(r){qg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qg(t,e,n){return(e=Jg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jg(t){var e=Gg(t,"string");return ti(e)=="symbol"?e:e+""}function Gg(t,e){if(ti(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ti(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pu={name:"BaseIcon",extends:fr,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:Kg,provide:function(){return{$pcIcon:this,$parentInstance:this}},methods:{pti:function(){var e=qr(this.label);return fu(fu({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},hu={name:"ChevronRightIcon",extends:pu};function Yg(t){return ey(t)||Zg(t)||Xg(t)||Qg()}function Qg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xg(t,e){if(t){if(typeof t=="string")return qo(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qo(t,e):void 0}}function Zg(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ey(t){if(Array.isArray(t))return qo(t)}function qo(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ty(t,e,n,r,i,s){return S(),C("svg",Ce({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Yg(e[0]||(e[0]=[y("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1)])),16)}hu.render=ty;var ps=Rc();function ni(t){"@babel/helpers - typeof";return ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ni(t)}function mu(t,e){return sy(t)||iy(t,e)||ry(t,e)||ny()}function ny(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ry(t,e){if(t){if(typeof t=="string")return gu(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gu(t,e):void 0}}function gu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function iy(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],a=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(a=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);a=!0);}catch(u){c=!0,i=u}finally{try{if(!a&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}function sy(t){if(Array.isArray(t))return t}function yu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yu(Object(n),!0).forEach(function(r){Jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jo(t,e,n){return(e=oy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oy(t){var e=ly(t,"string");return ni(e)=="symbol"?e:e+""}function ly(t,e){if(ni(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ni(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X={_getMeta:function(){return[un(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],at(un(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:Ho,_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=function(){var b=X._getOptionValue.apply(X,arguments);return rt(b)||Bc(b)?{class:b}:b},c=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},u=c.mergeSections,d=u===void 0?!0:u,p=c.mergeProps,f=p===void 0?!1:p,h=l?X._useDefaultPT(r,r.defaultPT(),a,s,o):void 0,m=X._usePT(r,X._getPT(i,r.$name),a,s,le(le({},o),{},{global:h||{}})),g=X._getPTDatasets(r,s);return d||!d&&m?f?X._mergeProps(r,f,h,m,g):le(le(le({},h),m),g):le(le({},m),g)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return le(le({},n==="root"&&Jo({},"".concat(r,"name"),It(e.$name))),{},Jo({},"".concat(r,"section"),It(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var l,a=r?r(o):o,c=It(n);return(l=a==null?void 0:a[c])!==null&&l!==void 0?l:a};return e&&Object.hasOwn(e,"_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(g){return r(g,i,s)};if(n&&Object.hasOwn(n,"_usept")){var l,a=n._usept||((l=e.$primevueConfig)===null||l===void 0?void 0:l.ptOptions)||{},c=a.mergeSections,u=c===void 0?!0:c,d=a.mergeProps,p=d===void 0?!1:d,f=o(n.originalValue),h=o(n.value);return f===void 0&&h===void 0?void 0:rt(h)?h:rt(f)?f:u||!u&&h?p?X._mergeProps(e,p,f,h):le(le({},f),h):h}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return X._usePT(e,n,r,i,s)},_loadStyles:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,s=X._getConfig(r,i),o={nonce:s==null||(e=s.csp)===null||e===void 0?void 0:e.nonce};X._loadCoreStyles(n,o),X._loadThemeStyles(n,o),X._loadScopedThemeStyles(n,o),X._removeThemeListeners(n),n.$loadStyles=function(){return X._loadThemeStyles(n,o)},X._themeChangeListener(n.$loadStyles)},_loadCoreStyles:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(!dn.isStyleNameLoaded((e=r.$style)===null||e===void 0?void 0:e.name)&&(n=r.$style)!==null&&n!==void 0&&n.name){var s;Ee.loadCSS(i),(s=r.$style)===null||s===void 0||s.loadCSS(i),dn.setLoadedStyleName(r.$style.name)}},_loadThemeStyles:function(){var e,n,r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(!(i!=null&&i.isUnstyled()||(i==null||(e=i.theme)===null||e===void 0?void 0:e.call(i))==="none")){if(!he.isStyleNameLoaded("common")){var o,l,a=((o=i.$style)===null||o===void 0||(l=o.getCommonTheme)===null||l===void 0?void 0:l.call(o))||{},c=a.primitive,u=a.semantic,d=a.global,p=a.style;Ee.load(c==null?void 0:c.css,le({name:"primitive-variables"},s)),Ee.load(u==null?void 0:u.css,le({name:"semantic-variables"},s)),Ee.load(d==null?void 0:d.css,le({name:"global-variables"},s)),Ee.loadStyle(le({name:"global-style"},s),p),he.setLoadedStyleName("common")}if(!he.isStyleNameLoaded((n=i.$style)===null||n===void 0?void 0:n.name)&&(r=i.$style)!==null&&r!==void 0&&r.name){var f,h,m,g,v=((f=i.$style)===null||f===void 0||(h=f.getDirectiveTheme)===null||h===void 0?void 0:h.call(f))||{},b=v.css,E=v.style;(m=i.$style)===null||m===void 0||m.load(b,le({name:"".concat(i.$style.name,"-variables")},s)),(g=i.$style)===null||g===void 0||g.loadStyle(le({name:"".concat(i.$style.name,"-style")},s),E),he.setLoadedStyleName(i.$style.name)}if(!he.isStyleNameLoaded("layer-order")){var x,_,N=(x=i.$style)===null||x===void 0||(_=x.getLayerOrderThemeCSS)===null||_===void 0?void 0:_.call(x);Ee.load(N,le({name:"layer-order",first:!0},s)),he.setLoadedStyleName("layer-order")}}},_loadScopedThemeStyles:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=e.preset();if(r&&e.$attrSelector){var i,s,o,l=((i=e.$style)===null||i===void 0||(s=i.getPresetTheme)===null||s===void 0?void 0:s.call(i,r,"[".concat(e.$attrSelector,"]")))||{},a=l.css,c=(o=e.$style)===null||o===void 0?void 0:o.load(a,le({name:"".concat(e.$attrSelector,"-").concat(e.$style.name)},n));e.scopedStyleEl=c.el}},_themeChangeListener:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};dn.clearLoadedStyleNames(),Ge.on("theme:change",e)},_removeThemeListeners:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ge.off("theme:change",e.$loadStyles),e.$loadStyles=void 0},_hook:function(e,n,r,i,s,o){var l,a,c="on".concat(ug(n)),u=X._getConfig(i,s),d=r==null?void 0:r.$instance,p=X._usePT(d,X._getPT(i==null||(l=i.value)===null||l===void 0?void 0:l.pt,e),X._getOptionValue,"hooks.".concat(c)),f=X._useDefaultPT(d,u==null||(a=u.pt)===null||a===void 0||(a=a.directives)===null||a===void 0?void 0:a[e],X._getOptionValue,"hooks.".concat(c)),h={el:r,binding:i,vnode:s,prevVnode:o};p==null||p(d,h),f==null||f(d,h)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Fo(e)?e.apply(void 0,r):Ce.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(l,a,c,u,d){var p,f,h,m;a._$instances=a._$instances||{};var g=X._getConfig(c,u),v=a._$instances[e]||{},b=qr(v)?le(le({},n),n==null?void 0:n.methods):{};a._$instances[e]=le(le({},v),{},{$name:e,$host:a,$binding:c,$modifiers:c==null?void 0:c.modifiers,$value:c==null?void 0:c.value,$el:v.$el||a||void 0,$style:le({classes:void 0,inlineStyles:void 0,load:function(){},loadCSS:function(){},loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:g,$attrSelector:(p=a.$pd)===null||p===void 0||(p=p[e])===null||p===void 0?void 0:p.attrSelector,defaultPT:function(){return X._getPT(g==null?void 0:g.pt,void 0,function(x){var _;return x==null||(_=x.directives)===null||_===void 0?void 0:_[e]})},isUnstyled:function(){var x,_;return((x=a._$instances[e])===null||x===void 0||(x=x.$binding)===null||x===void 0||(x=x.value)===null||x===void 0?void 0:x.unstyled)!==void 0?(_=a._$instances[e])===null||_===void 0||(_=_.$binding)===null||_===void 0||(_=_.value)===null||_===void 0?void 0:_.unstyled:g==null?void 0:g.unstyled},theme:function(){var x;return(x=a._$instances[e])===null||x===void 0||(x=x.$primevueConfig)===null||x===void 0?void 0:x.theme},preset:function(){var x;return(x=a._$instances[e])===null||x===void 0||(x=x.$binding)===null||x===void 0||(x=x.value)===null||x===void 0?void 0:x.dt},ptm:function(){var x,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return X._getPTValue(a._$instances[e],(x=a._$instances[e])===null||x===void 0||(x=x.$binding)===null||x===void 0||(x=x.value)===null||x===void 0?void 0:x.pt,_,le({},N))},ptmo:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return X._getPTValue(a._$instances[e],x,_,N,!1)},cx:function(){var x,_,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(x=a._$instances[e])!==null&&x!==void 0&&x.isUnstyled()?void 0:X._getOptionValue((_=a._$instances[e])===null||_===void 0||(_=_.$style)===null||_===void 0?void 0:_.classes,N,le({},T))},sx:function(){var x,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return N?X._getOptionValue((x=a._$instances[e])===null||x===void 0||(x=x.$style)===null||x===void 0?void 0:x.inlineStyles,_,le({},T)):void 0}},b),a.$instance=a._$instances[e],(f=(h=a.$instance)[l])===null||f===void 0||f.call(h,a,c,u,d),a["$".concat(e)]=a.$instance,X._hook(e,l,a,c,u,d),a.$pd||(a.$pd={}),a.$pd[e]=le(le({},(m=a.$pd)===null||m===void 0?void 0:m[e]),{},{name:e,instance:a._$instances[e]})},i=function(l){var a,c,u,d=l._$instances[e],p=d==null?void 0:d.watch,f=function(g){var v,b=g.newValue,E=g.oldValue;return p==null||(v=p.config)===null||v===void 0?void 0:v.call(d,b,E)},h=function(g){var v,b=g.newValue,E=g.oldValue;return p==null||(v=p["config.ripple"])===null||v===void 0?void 0:v.call(d,b,E)};d.$watchersCallback={config:f,"config.ripple":h},p==null||(a=p.config)===null||a===void 0||a.call(d,d==null?void 0:d.$primevueConfig),ps.on("config:change",f),p==null||(c=p["config.ripple"])===null||c===void 0||c.call(d,d==null||(u=d.$primevueConfig)===null||u===void 0?void 0:u.ripple),ps.on("config:ripple:change",h)},s=function(l){var a=l._$instances[e].$watchersCallback;a&&(ps.off("config:change",a.config),ps.off("config:ripple:change",a["config.ripple"]),l._$instances[e].$watchersCallback=void 0)};return{created:function(l,a,c,u){l.$pd||(l.$pd={}),l.$pd[e]={name:e,attrSelector:dg("pd")},r("created",l,a,c,u)},beforeMount:function(l,a,c,u){var d;X._loadStyles((d=l.$pd[e])===null||d===void 0?void 0:d.instance,a,c),r("beforeMount",l,a,c,u),i(l)},mounted:function(l,a,c,u){var d;X._loadStyles((d=l.$pd[e])===null||d===void 0?void 0:d.instance,a,c),r("mounted",l,a,c,u)},beforeUpdate:function(l,a,c,u){r("beforeUpdate",l,a,c,u)},updated:function(l,a,c,u){var d;X._loadStyles((d=l.$pd[e])===null||d===void 0?void 0:d.instance,a,c),r("updated",l,a,c,u)},beforeUnmount:function(l,a,c,u){var d;s(l),X._removeThemeListeners((d=l.$pd[e])===null||d===void 0?void 0:d.instance),r("beforeUnmount",l,a,c,u)},unmounted:function(l,a,c,u){var d;(d=l.$pd[e])===null||d===void 0||(d=d.instance)===null||d===void 0||(d=d.scopedStyleEl)===null||d===void 0||(d=d.value)===null||d===void 0||d.remove(),r("unmounted",l,a,c,u)}}},extend:function(){var e=X._getMeta.apply(X,arguments),n=mu(e,2),r=n[0],i=n[1];return le({extend:function(){var o=X._getMeta.apply(X,arguments),l=mu(o,2),a=l[0],c=l[1];return X.extend(a,le(le(le({},i),i==null?void 0:i.methods),c))}},X._extend(r,i))}},ay=`
    .p-ink {
        display: block;
        position: absolute;
        background: dt('ripple.background');
        border-radius: 100%;
        transform: scale(0);
        pointer-events: none;
    }

    .p-ink-active {
        animation: ripple 0.4s linear;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`,cy={root:"p-ink"},uy=Ee.extend({name:"ripple-directive",style:ay,classes:cy}),dy=X.extend({style:uy});function ri(t){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(t)}function fy(t){return gy(t)||my(t)||hy(t)||py()}function py(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hy(t,e){if(t){if(typeof t=="string")return Go(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Go(t,e):void 0}}function my(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gy(t){if(Array.isArray(t))return Go(t)}function Go(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function vu(t,e,n){return(e=yy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yy(t){var e=vy(t,"string");return ri(e)=="symbol"?e:e+""}function vy(t,e){if(ri(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ri(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bu=dy.extend("ripple",{watch:{"config.ripple":function(e){e?(this.createRipple(this.$host),this.bindEvents(this.$host),this.$host.setAttribute("data-pd-ripple",!0),this.$host.style.overflow="hidden",this.$host.style.position="relative"):(this.remove(this.$host),this.$host.removeAttribute("data-pd-ripple"))}},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},createRipple:function(e){var n=this.getInk(e);n||(n=ig("span",vu(vu({role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this)},this.$attrSelector,""),"p-bind",this.ptm("root"))),e.appendChild(n),this.$el=n)},remove:function(e){var n=this.getInk(e);n&&(this.$host.style.overflow="",this.$host.style.position="",this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&Bo(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!zo(i)&&!Kr(i)){var s=Math.max(Pc(r),Ic(r));i.style.height=s+"px",i.style.width=s+"px"}var o=Wr(r),l=e.pageX-o.left+document.body.scrollTop-Kr(i)/2,a=e.pageY-o.top+document.body.scrollLeft-zo(i)/2;i.style.top=a+"px",i.style.left=l+"px",!this.isUnstyled()&&tg(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&Bo(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&Bo(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?fy(e.children).find(function(n){return Ur(n,"data-pc-name")==="ripple"}):void 0}}});function by(){return Su().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Su(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const Sy=typeof Proxy=="function",xy="devtools-plugin:setup",ky="plugin:settings:set";let pr,Yo;function wy(){var t;return pr!==void 0||(typeof window<"u"&&window.performance?(pr=!0,Yo=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(pr=!0,Yo=globalThis.perf_hooks.performance):pr=!1),pr}function _y(){return wy()?Yo.now():Date.now()}class Cy{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const l=e.settings[o];r[o]=l.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(i),l=JSON.parse(o);Object.assign(s,l)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return _y()}},n&&n.on(ky,(o,l)=>{o===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(o,l)=>this.target?this.target.on[l]:(...a)=>{this.onQueue.push({method:l,args:a})}}),this.proxiedTarget=new Proxy({},{get:(o,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...a)=>(this.targetQueue.push({method:l,args:a,resolve:()=>{}}),this.fallbacks[l](...a)):(...a)=>new Promise(c=>{this.targetQueue.push({method:l,args:a,resolve:c})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Ey(t,e){const n=t,r=Su(),i=by(),s=Sy&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(xy,t,e);else{const o=s?new Cy(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}var U={};const Kt=typeof document<"u";function xu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Ty(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&xu(t.default)}const ce=Object.assign;function Qo(t,e){const n={};for(const r in e){const i=e[r];n[r]=ct(i)?i.map(t):t(i)}return n}const ii=()=>{},ct=Array.isArray;function ee(t){const e=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+t].concat(e))}const ku=/#/g,Oy=/&/g,Ny=/\//g,My=/=/g,$y=/\?/g,wu=/\+/g,Ay=/%5B/g,Dy=/%5D/g,_u=/%5E/g,Py=/%60/g,Cu=/%7B/g,Iy=/%7C/g,Eu=/%7D/g,Ry=/%20/g;function Xo(t){return encodeURI(""+t).replace(Iy,"|").replace(Ay,"[").replace(Dy,"]")}function Vy(t){return Xo(t).replace(Cu,"{").replace(Eu,"}").replace(_u,"^")}function Zo(t){return Xo(t).replace(wu,"%2B").replace(Ry,"+").replace(ku,"%23").replace(Oy,"%26").replace(Py,"`").replace(Cu,"{").replace(Eu,"}").replace(_u,"^")}function Ly(t){return Zo(t).replace(My,"%3D")}function By(t){return Xo(t).replace(ku,"%23").replace($y,"%3F")}function zy(t){return t==null?"":By(t).replace(Ny,"%2F")}function hr(t){try{return decodeURIComponent(""+t)}catch{U.NODE_ENV!=="production"&&ee(`Error decoding "${t}". Using original value`)}return""+t}const jy=/\/$/,Fy=t=>t.replace(jy,"");function el(t,e,n="/"){let r,i={},s="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(r=e.slice(0,a),s=e.slice(a+1,l>-1?l:e.length),i=t(s)),l>-1&&(r=r||e.slice(0,l),o=e.slice(l,e.length)),r=Wy(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:hr(o)}}function Hy(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Tu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ou(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&fn(e.matched[r],n.matched[i])&&Nu(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function fn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Nu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Uy(t[n],e[n]))return!1;return!0}function Uy(t,e){return ct(t)?Mu(t,e):ct(e)?Mu(e,t):t===e}function Mu(t,e){return ct(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Wy(t,e){if(t.startsWith("/"))return t;if(U.NODE_ENV!=="production"&&!e.startsWith("/"))return ee(`Cannot resolve a relative location without an absolute path. Trying to resolve "${t}" from "${e}". It should look like "/${e}".`),t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,l;for(o=0;o<r.length;o++)if(l=r[o],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const pn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var si;(function(t){t.pop="pop",t.push="push"})(si||(si={}));var oi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(oi||(oi={}));function Ky(t){if(!t)if(Kt){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Fy(t)}const qy=/^[^#]+#/;function Jy(t,e){return t.replace(qy,"#")+e}function Gy(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const hs=()=>({left:window.scrollX,top:window.scrollY});function Yy(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#");if(U.NODE_ENV!=="production"&&typeof t.el=="string"&&(!r||!document.getElementById(t.el.slice(1))))try{const s=document.querySelector(t.el);if(r&&s){ee(`The selector "${t.el}" should be passed as "el: document.querySelector('${t.el}')" because it starts with "#".`);return}}catch{ee(`The selector "${t.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i){U.NODE_ENV!=="production"&&ee(`Couldn't find element using selector "${t.el}" returned by scrollBehavior.`);return}e=Gy(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function $u(t,e){return(history.state?history.state.position-e:-1)+t}const tl=new Map;function Qy(t,e){tl.set(t,e)}function Xy(t){const e=tl.get(t);return tl.delete(t),e}let Zy=()=>location.protocol+"//"+location.host;function Au(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let l=i.includes(t.slice(s))?t.slice(s).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),Tu(a,"")}return Tu(n,t)+r+i}function ev(t,e,n,r){let i=[],s=[],o=null;const l=({state:p})=>{const f=Au(t,location),h=n.value,m=e.value;let g=0;if(p){if(n.value=f,e.value=p,o&&o===h){o=null;return}g=m?p.position-m.position:0}else r(f);i.forEach(v=>{v(n.value,h,{delta:g,type:si.pop,direction:g?g>0?oi.forward:oi.back:oi.unknown})})};function a(){o=n.value}function c(p){i.push(p);const f=()=>{const h=i.indexOf(p);h>-1&&i.splice(h,1)};return s.push(f),f}function u(){const{history:p}=window;p.state&&p.replaceState(ce({},p.state,{scroll:hs()}),"")}function d(){for(const p of s)p();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:d}}function Du(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?hs():null}}function tv(t){const{history:e,location:n}=window,r={value:Au(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(a,c,u){const d=t.indexOf("#"),p=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+a:Zy()+t+a;try{e[u?"replaceState":"pushState"](c,"",p),i.value=c}catch(f){U.NODE_ENV!=="production"?ee("Error with push/replace State",f):console.error(f),n[u?"replace":"assign"](p)}}function o(a,c){const u=ce({},e.state,Du(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});s(a,u,!0),r.value=a}function l(a,c){const u=ce({},i.value,e.state,{forward:a,scroll:hs()});U.NODE_ENV!=="production"&&!e.state&&ee(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://router.vuejs.org/guide/migration/#Usage-of-history-state`),s(u.current,u,!0);const d=ce({},Du(r.value,a,null),{position:u.position+1},c);s(a,d,!1),r.value=a}return{location:r,state:i,push:l,replace:o}}function nv(t){t=Ky(t);const e=tv(t),n=ev(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=ce({location:"",base:t,go:r,createHref:Jy.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function ms(t){return typeof t=="string"||t&&typeof t=="object"}function Pu(t){return typeof t=="string"||typeof t=="symbol"}const nl=Symbol(U.NODE_ENV!=="production"?"navigation failure":"");var Iu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Iu||(Iu={}));const rv={1({location:t,currentLocation:e}){return`No match for
 ${JSON.stringify(t)}${e?`
while being at
`+JSON.stringify(e):""}`},2({from:t,to:e}){return`Redirected from "${t.fullPath}" to "${sv(e)}" via a navigation guard.`},4({from:t,to:e}){return`Navigation aborted from "${t.fullPath}" to "${e.fullPath}" via a navigation guard.`},8({from:t,to:e}){return`Navigation cancelled from "${t.fullPath}" to "${e.fullPath}" with a new navigation.`},16({from:t,to:e}){return`Avoided redundant navigation to current location: "${t.fullPath}".`}};function mr(t,e){return U.NODE_ENV!=="production"?ce(new Error(rv[t](e)),{type:t,[nl]:!0},e):ce(new Error,{type:t,[nl]:!0},e)}function qt(t,e){return t instanceof Error&&nl in t&&(e==null||!!(t.type&e))}const iv=["params","query","hash"];function sv(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of iv)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}const Ru="[^/]+?",ov={sensitive:!1,strict:!1,start:!0,end:!0},lv=/[.+*?^${}()[\]/\\]/g;function av(t,e){const n=ce({},ov,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const p=c[d];let f=40+(n.sensitive?.25:0);if(p.type===0)d||(i+="/"),i+=p.value.replace(lv,"\\$&"),f+=40;else if(p.type===1){const{value:h,repeatable:m,optional:g,regexp:v}=p;s.push({name:h,repeatable:m,optional:g});const b=v||Ru;if(b!==Ru){f+=10;try{new RegExp(`(${b})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${h}" (${b}): `+x.message)}}let E=m?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(E=g&&c.length<2?`(?:/${E})`:"/"+E),g&&(E+="?"),i+=E,f+=20,g&&(f+=-8),m&&(f+=-20),b===".*"&&(f+=-50)}u.push(f)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(c){const u=c.match(o),d={};if(!u)return null;for(let p=1;p<u.length;p++){const f=u[p]||"",h=s[p-1];d[h.name]=f&&h.repeatable?f.split("/"):f}return d}function a(c){let u="",d=!1;for(const p of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of p)if(f.type===0)u+=f.value;else if(f.type===1){const{value:h,repeatable:m,optional:g}=f,v=h in c?c[h]:"";if(ct(v)&&!m)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const b=ct(v)?v.join("/"):v;if(!b)if(g)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${h}"`);u+=b}}return u||"/"}return{re:o,score:r,keys:s,parse:l,stringify:a}}function cv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Vu(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=cv(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Lu(r))return 1;if(Lu(i))return-1}return i.length-r.length}function Lu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const uv={type:0,value:""},dv=/[a-zA-Z0-9_]/;function fv(t){if(!t)return[[]];if(t==="/")return[[uv]];if(!t.startsWith("/"))throw new Error(U.NODE_ENV!=="production"?`Route paths should start with a "/": "${t}" should be "/${t}".`:`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let l=0,a,c="",u="";function d(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function p(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(c&&d(),o()):a===":"?(d(),n=1):p();break;case 4:p(),n=r;break;case 1:a==="("?n=2:dv.test(a)?p():(d(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:d(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function pv(t,e,n){const r=av(fv(t.path),n);if(U.NODE_ENV!=="production"){const s=new Set;for(const o of r.keys)s.has(o.name)&&ee(`Found duplicated params with name "${o.name}" for path "${t.path}". Only the last one will be available on "$route.params".`),s.add(o.name)}const i=ce(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function hv(t,e){const n=[],r=new Map;e=Fu({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,p,f){const h=!f,m=zu(d);U.NODE_ENV!=="production"&&vv(m,p),m.aliasOf=f&&f.record;const g=Fu(e,d),v=[m];if("alias"in d){const x=typeof d.alias=="string"?[d.alias]:d.alias;for(const _ of x)v.push(zu(ce({},m,{components:f?f.record.components:m.components,path:_,aliasOf:f?f.record:m})))}let b,E;for(const x of v){const{path:_}=x;if(p&&_[0]!=="/"){const N=p.record.path,T=N[N.length-1]==="/"?"":"/";x.path=p.record.path+(_&&T+_)}if(U.NODE_ENV!=="production"&&x.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://router.vuejs.org/guide/migration/#Removed-star-or-catch-all-routes.`);if(b=pv(x,p,g),U.NODE_ENV!=="production"&&p&&_[0]==="/"&&Sv(b,p),f?(f.alias.push(b),U.NODE_ENV!=="production"&&yv(f,b)):(E=E||b,E!==b&&E.alias.push(b),h&&d.name&&!ju(b)&&(U.NODE_ENV!=="production"&&bv(d,p),o(d.name))),Hu(b)&&a(b),m.children){const N=m.children;for(let T=0;T<N.length;T++)s(N[T],b,f&&f.children[T])}f=f||b}return E?()=>{o(E)}:ii}function o(d){if(Pu(d)){const p=r.get(d);p&&(r.delete(d),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(d);p>-1&&(n.splice(p,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function l(){return n}function a(d){const p=xv(d,n);n.splice(p,0,d),d.record.name&&!ju(d)&&r.set(d.record.name,d)}function c(d,p){let f,h={},m,g;if("name"in d&&d.name){if(f=r.get(d.name),!f)throw mr(1,{location:d});if(U.NODE_ENV!=="production"){const E=Object.keys(d.params||{}).filter(x=>!f.keys.find(_=>_.name===x));E.length&&ee(`Discarded invalid param(s) "${E.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}g=f.record.name,h=ce(Bu(p.params,f.keys.filter(E=>!E.optional).concat(f.parent?f.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),d.params&&Bu(d.params,f.keys.map(E=>E.name))),m=f.stringify(h)}else if(d.path!=null)m=d.path,U.NODE_ENV!=="production"&&!m.startsWith("/")&&ee(`The Matcher cannot resolve relative paths but received "${m}". Unless you directly called \`matcher.resolve("${m}")\`, this is probably a bug in vue-router. Please open an issue at https://github.com/vuejs/router/issues/new/choose.`),f=n.find(E=>E.re.test(m)),f&&(h=f.parse(m),g=f.record.name);else{if(f=p.name?r.get(p.name):n.find(E=>E.re.test(p.path)),!f)throw mr(1,{location:d,currentLocation:p});g=f.record.name,h=ce({},p.params,d.params),m=f.stringify(h)}const v=[];let b=f;for(;b;)v.unshift(b.record),b=b.parent;return{name:g,path:m,params:h,matched:v,meta:gv(v)}}t.forEach(d=>s(d));function u(){n.length=0,r.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:l,getRecordMatcher:i}}function Bu(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function zu(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:mv(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function mv(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function ju(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function gv(t){return t.reduce((e,n)=>ce(e,n.meta),{})}function Fu(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function rl(t,e){return t.name===e.name&&t.optional===e.optional&&t.repeatable===e.repeatable}function yv(t,e){for(const n of t.keys)if(!n.optional&&!e.keys.find(rl.bind(null,n)))return ee(`Alias "${e.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${n.name}"`);for(const n of e.keys)if(!n.optional&&!t.keys.find(rl.bind(null,n)))return ee(`Alias "${e.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${n.name}"`)}function vv(t,e){e&&e.record.name&&!t.name&&!t.path&&ee(`The route named "${String(e.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function bv(t,e){for(let n=e;n;n=n.parent)if(n.record.name===t.name)throw new Error(`A route named "${String(t.name)}" has been added as a ${e===n?"child":"descendant"} of a route with the same name. Route names must be unique and a nested route cannot use the same name as an ancestor.`)}function Sv(t,e){for(const n of e.keys)if(!t.keys.find(rl.bind(null,n)))return ee(`Absolute path "${t.record.path}" must have the exact same param named "${n.name}" as its parent "${e.record.path}".`)}function xv(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;Vu(t,e[s])<0?r=s:n=s+1}const i=kv(t);return i&&(r=e.lastIndexOf(i,r-1),U.NODE_ENV!=="production"&&r<0&&ee(`Finding ancestor route "${i.record.path}" failed for "${t.record.path}"`)),r}function kv(t){let e=t;for(;e=e.parent;)if(Hu(e)&&Vu(t,e)===0)return e}function Hu({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function wv(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(wu," "),o=s.indexOf("="),l=hr(o<0?s:s.slice(0,o)),a=o<0?null:hr(s.slice(o+1));if(l in e){let c=e[l];ct(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function Uu(t){let e="";for(let n in t){const r=t[n];if(n=Ly(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ct(r)?r.map(s=>s&&Zo(s)):[r&&Zo(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function _v(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ct(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const Cv=Symbol(U.NODE_ENV!=="production"?"router view location matched":""),Wu=Symbol(U.NODE_ENV!=="production"?"router view depth":""),il=Symbol(U.NODE_ENV!=="production"?"router":""),Ku=Symbol(U.NODE_ENV!=="production"?"route location":""),sl=Symbol(U.NODE_ENV!=="production"?"router view location":"");function li(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function hn(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((l,a)=>{const c=p=>{p===!1?a(mr(4,{from:n,to:e})):p instanceof Error?a(p):ms(p)?a(mr(2,{from:e,to:p})):(o&&r.enterCallbacks[i]===o&&typeof p=="function"&&o.push(p),l())},u=s(()=>t.call(r&&r.instances[i],e,n,U.NODE_ENV!=="production"?Ev(c,e,n):c));let d=Promise.resolve(u);if(t.length<3&&(d=d.then(c)),U.NODE_ENV!=="production"&&t.length>2){const p=`The "next" callback was never called inside of ${t.name?'"'+t.name+'"':""}:
${t.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof u=="object"&&"then"in u)d=d.then(f=>c._called?f:(ee(p),Promise.reject(new Error("Invalid navigation guard"))));else if(u!==void 0&&!c._called){ee(p),a(new Error("Invalid navigation guard"));return}}d.catch(p=>a(p))})}function Ev(t,e,n){let r=0;return function(){r++===1&&ee(`The "next" callback was called more than once in one navigation guard when going from "${n.fullPath}" to "${e.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),t._called=!0,r===1&&t.apply(null,arguments)}}function ol(t,e,n,r,i=s=>s()){const s=[];for(const o of t){U.NODE_ENV!=="production"&&!o.components&&!o.children.length&&ee(`Record with path "${o.path}" is either missing a "component(s)" or "children" property.`);for(const l in o.components){let a=o.components[l];if(U.NODE_ENV!=="production"){if(!a||typeof a!="object"&&typeof a!="function")throw ee(`Component "${l}" in record with path "${o.path}" is not a valid component. Received "${String(a)}".`),new Error("Invalid route component");if("then"in a){ee(`Component "${l}" in record with path "${o.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const c=a;a=()=>c}else a.__asyncLoader&&!a.__warnedDefineAsync&&(a.__warnedDefineAsync=!0,ee(`Component "${l}" in record with path "${o.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(xu(a)){const u=(a.__vccOpts||a)[e];u&&s.push(hn(u,n,r,o,l,i))}else{let c=a();U.NODE_ENV!=="production"&&!("catch"in c)&&(ee(`Component "${l}" in record with path "${o.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),c=Promise.resolve(c)),s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const d=Ty(u)?u.default:u;o.mods[l]=u,o.components[l]=d;const f=(d.__vccOpts||d)[e];return f&&hn(f,n,r,o,l,i)()}))}}}return s}function qu(t){const e=an(il),n=an(Ku);let r=!1,i=null;const s=nt(()=>{const u=be(t.to);return U.NODE_ENV!=="production"&&(!r||u!==i)&&(ms(u)||(r?ee(`Invalid value for prop "to" in useLink()
- to:`,u,`
- previous to:`,i,`
- props:`,t):ee(`Invalid value for prop "to" in useLink()
- to:`,u,`
- props:`,t)),i=u,r=!0),e.resolve(u)}),o=nt(()=>{const{matched:u}=s.value,{length:d}=u,p=u[d-1],f=n.matched;if(!p||!f.length)return-1;const h=f.findIndex(fn.bind(null,p));if(h>-1)return h;const m=Ju(u[d-2]);return d>1&&Ju(p)===m&&f[f.length-1].path!==m?f.findIndex(fn.bind(null,u[d-2])):h}),l=nt(()=>o.value>-1&&Mv(n.params,s.value.params)),a=nt(()=>o.value>-1&&o.value===n.matched.length-1&&Nu(n.params,s.value.params));function c(u={}){if(Nv(u)){const d=e[be(t.replace)?"replace":"push"](be(t.to)).catch(ii);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}if(U.NODE_ENV!=="production"&&Kt){const u=cn();if(u){const d={route:s.value,isActive:l.value,isExactActive:a.value,error:null};u.__vrl_devtools=u.__vrl_devtools||[],u.__vrl_devtools.push(d),xc(()=>{d.route=s.value,d.isActive=l.value,d.isExactActive=a.value,d.error=ms(be(t.to))?null:'Invalid "to" value'},{flush:"post"})}}return{route:s,href:nt(()=>s.value.href),isActive:l,isExactActive:a,navigate:c}}function Tv(t){return t.length===1?t[0]:t}const Ov=_e({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:qu,setup(t,{slots:e}){const n=bo(qu(t)),{options:r}=an(il),i=nt(()=>({[Gu(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Gu(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&Tv(e.default(n));return t.custom?s:Vo("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}});function Nv(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Mv(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ct(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Ju(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Gu=(t,e,n)=>t??e??n,$v=_e({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){U.NODE_ENV!=="production"&&Dv();const r=an(sl),i=nt(()=>t.route||r.value),s=an(Wu,0),o=nt(()=>{let c=be(s);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),l=nt(()=>i.value.matched[o.value]);$o(Wu,nt(()=>o.value+1)),$o(Cv,l),$o(sl,i);const a=M();return Ao(()=>[a.value,l.value,t.name],([c,u,d],[p,f,h])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===p&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!fn(u,f)||!p)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=l.value,p=d&&d.components[u];if(!p)return Yu(n.default,{Component:p,route:c});const f=d.props[u],h=f?f===!0?c.params:typeof f=="function"?f(c):f:null,g=Vo(p,ce({},h,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[u]=null)},ref:a}));if(U.NODE_ENV!=="production"&&Kt&&g.ref){const v={depth:o.value,name:d.name,path:d.path,meta:d.meta};(ct(g.ref)?g.ref.map(E=>E.i):[g.ref.i]).forEach(E=>{E.__vrv_devtools=v})}return Yu(n.default,{Component:g,route:c})||g}}});function Yu(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Av=$v;function Dv(){const t=cn(),e=t.parent&&t.parent.type.name,n=t.parent&&t.parent.subTree&&t.parent.subTree.type;if(e&&(e==="KeepAlive"||e.includes("Transition"))&&typeof n=="object"&&n.name==="RouterView"){const r=e==="KeepAlive"?"keep-alive":"transition";ee(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${r}>
    <component :is="Component" />
  </${r}>
</router-view>`)}}function ai(t,e){const n=ce({},t,{matched:t.matched.map(r=>Uv(r,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:t.fullPath,tooltip:e,value:n}}}function gs(t){return{_custom:{display:t}}}let Pv=0;function Iv(t,e,n){if(e.__hasDevtools)return;e.__hasDevtools=!0;const r=Pv++;Ey({id:"org.vuejs.router"+(r?"."+r:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:t},i=>{typeof i.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),i.on.inspectComponent((u,d)=>{u.instanceData&&u.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:ai(e.currentRoute.value,"Current Route")})}),i.on.visitComponentTree(({treeNode:u,componentInstance:d})=>{if(d.__vrv_devtools){const p=d.__vrv_devtools;u.tags.push({label:(p.name?`${p.name.toString()}: `:"")+p.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:Qu})}ct(d.__vrl_devtools)&&(d.__devtoolsApi=i,d.__vrl_devtools.forEach(p=>{let f=p.route.path,h=ed,m="",g=0;p.error?(f=p.error,h=zv,g=jv):p.isExactActive?(h=Zu,m="This is exactly active"):p.isActive&&(h=Xu,m="This link is active"),u.tags.push({label:f,textColor:g,tooltip:m,backgroundColor:h})}))}),Ao(e.currentRoute,()=>{a(),i.notifyComponentUpdate(),i.sendInspectorTree(l),i.sendInspectorState(l)});const s="router:navigations:"+r;i.addTimelineLayer({id:s,label:`Router${r?" "+r:""} Navigations`,color:4237508}),e.onError((u,d)=>{i.addTimelineEvent({layerId:s,event:{title:"Error during Navigation",subtitle:d.fullPath,logType:"error",time:i.now(),data:{error:u},groupId:d.meta.__navigationId}})});let o=0;e.beforeEach((u,d)=>{const p={guard:gs("beforeEach"),from:ai(d,"Current Location during this navigation"),to:ai(u,"Target location")};Object.defineProperty(u.meta,"__navigationId",{value:o++}),i.addTimelineEvent({layerId:s,event:{time:i.now(),title:"Start of navigation",subtitle:u.fullPath,data:p,groupId:u.meta.__navigationId}})}),e.afterEach((u,d,p)=>{const f={guard:gs("afterEach")};p?(f.failure={_custom:{type:Error,readOnly:!0,display:p?p.message:"",tooltip:"Navigation Failure",value:p}},f.status=gs("❌")):f.status=gs("✅"),f.from=ai(d,"Current Location during this navigation"),f.to=ai(u,"Target location"),i.addTimelineEvent({layerId:s,event:{title:"End of navigation",subtitle:u.fullPath,time:i.now(),data:f,logType:p?"warning":"default",groupId:u.meta.__navigationId}})});const l="router-inspector:"+r;i.addInspector({id:l,label:"Routes"+(r?" "+r:""),icon:"book",treeFilterPlaceholder:"Search routes"});function a(){if(!c)return;const u=c;let d=n.getRoutes().filter(p=>!p.parent||!p.parent.record.components);d.forEach(rd),u.filter&&(d=d.filter(p=>ll(p,u.filter.toLowerCase()))),d.forEach(p=>nd(p,e.currentRoute.value)),u.rootNodes=d.map(td)}let c;i.on.getInspectorTree(u=>{c=u,u.app===t&&u.inspectorId===l&&a()}),i.on.getInspectorState(u=>{if(u.app===t&&u.inspectorId===l){const p=n.getRoutes().find(f=>f.record.__vd_id===u.nodeId);p&&(u.state={options:Vv(p)})}}),i.sendInspectorTree(l),i.sendInspectorState(l)})}function Rv(t){return t.optional?t.repeatable?"*":"?":t.repeatable?"+":""}function Vv(t){const{record:e}=t,n=[{editable:!1,key:"path",value:e.path}];return e.name!=null&&n.push({editable:!1,key:"name",value:e.name}),n.push({editable:!1,key:"regexp",value:t.re}),t.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:t.keys.map(r=>`${r.name}${Rv(r)}`).join(" "),tooltip:"Param keys",value:t.keys}}}),e.redirect!=null&&n.push({editable:!1,key:"redirect",value:e.redirect}),t.alias.length&&n.push({editable:!1,key:"aliases",value:t.alias.map(r=>r.record.path)}),Object.keys(t.record.meta).length&&n.push({editable:!1,key:"meta",value:t.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:t.score.map(r=>r.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:t.score}}}),n}const Qu=15485081,Xu=2450411,Zu=8702998,Lv=2282478,ed=16486972,Bv=6710886,zv=16704226,jv=12131356;function td(t){const e=[],{record:n}=t;n.name!=null&&e.push({label:String(n.name),textColor:0,backgroundColor:Lv}),n.aliasOf&&e.push({label:"alias",textColor:0,backgroundColor:ed}),t.__vd_match&&e.push({label:"matches",textColor:0,backgroundColor:Qu}),t.__vd_exactActive&&e.push({label:"exact",textColor:0,backgroundColor:Zu}),t.__vd_active&&e.push({label:"active",textColor:0,backgroundColor:Xu}),n.redirect&&e.push({label:typeof n.redirect=="string"?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:Bv});let r=n.__vd_id;return r==null&&(r=String(Fv++),n.__vd_id=r),{id:r,label:n.path,tags:e,children:t.children.map(td)}}let Fv=0;const Hv=/^\/(.*)\/([a-z]*)$/;function nd(t,e){const n=e.matched.length&&fn(e.matched[e.matched.length-1],t.record);t.__vd_exactActive=t.__vd_active=n,n||(t.__vd_active=e.matched.some(r=>fn(r,t.record))),t.children.forEach(r=>nd(r,e))}function rd(t){t.__vd_match=!1,t.children.forEach(rd)}function ll(t,e){const n=String(t.re).match(Hv);if(t.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(e))return t.children.forEach(o=>ll(o,e)),t.record.path!=="/"||e==="/"?(t.__vd_match=t.re.test(e),!0):!1;const i=t.record.path.toLowerCase(),s=hr(i);return!e.startsWith("/")&&(s.includes(e)||i.includes(e))||s.startsWith(e)||i.startsWith(e)||t.record.name&&String(t.record.name).includes(e)?!0:t.children.some(o=>ll(o,e))}function Uv(t,e){const n={};for(const r in t)e.includes(r)||(n[r]=t[r]);return n}function Wv(t){const e=hv(t.routes,t),n=t.parseQuery||wv,r=t.stringifyQuery||Uu,i=t.history;if(U.NODE_ENV!=="production"&&!i)throw new Error('Provide the "history" option when calling "createRouter()": https://router.vuejs.org/api/interfaces/RouterOptions.html#history');const s=li(),o=li(),l=li(),a=lr(pn);let c=pn;Kt&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Qo.bind(null,w=>""+w),d=Qo.bind(null,zy),p=Qo.bind(null,hr);function f(w,V){let P,B;return Pu(w)?(P=e.getRecordMatcher(w),U.NODE_ENV!=="production"&&!P&&ee(`Parent route "${String(w)}" not found when adding child route`,V),B=V):B=w,e.addRoute(B,P)}function h(w){const V=e.getRecordMatcher(w);V?e.removeRoute(V):U.NODE_ENV!=="production"&&ee(`Cannot remove non-existent route "${String(w)}"`)}function m(){return e.getRoutes().map(w=>w.record)}function g(w){return!!e.getRecordMatcher(w)}function v(w,V){if(V=ce({},V||a.value),typeof w=="string"){const Z=el(n,w,V.path),ge=e.resolve({path:Z.path},V),nn=i.createHref(Z.fullPath);return U.NODE_ENV!=="production"&&(nn.startsWith("//")?ee(`Location "${w}" resolved to "${nn}". A resolved location cannot start with multiple slashes.`):ge.matched.length||ee(`No match found for location with path "${w}"`)),ce(Z,ge,{params:p(ge.params),hash:hr(Z.hash),redirectedFrom:void 0,href:nn})}if(U.NODE_ENV!=="production"&&!ms(w))return ee(`router.resolve() was passed an invalid location. This will fail in production.
- Location:`,w),v({});let P;if(w.path!=null)U.NODE_ENV!=="production"&&"params"in w&&!("name"in w)&&Object.keys(w.params).length&&ee(`Path "${w.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),P=ce({},w,{path:el(n,w.path,V.path).path});else{const Z=ce({},w.params);for(const ge in Z)Z[ge]==null&&delete Z[ge];P=ce({},w,{params:d(Z)}),V.params=d(V.params)}const B=e.resolve(P,V),ae=w.hash||"";U.NODE_ENV!=="production"&&ae&&!ae.startsWith("#")&&ee(`A \`hash\` should always start with the character "#". Replace "${ae}" with "#${ae}".`),B.params=u(p(B.params));const ke=Hy(r,ce({},w,{hash:Vy(ae),path:B.path})),re=i.createHref(ke);return U.NODE_ENV!=="production"&&(re.startsWith("//")?ee(`Location "${w}" resolved to "${re}". A resolved location cannot start with multiple slashes.`):B.matched.length||ee(`No match found for location with path "${w.path!=null?w.path:w}"`)),ce({fullPath:ke,hash:ae,query:r===Uu?_v(w.query):w.query||{}},B,{redirectedFrom:void 0,href:re})}function b(w){return typeof w=="string"?el(n,w,a.value.path):ce({},w)}function E(w,V){if(c!==w)return mr(8,{from:V,to:w})}function x(w){return T(w)}function _(w){return x(ce(b(w),{replace:!0}))}function N(w){const V=w.matched[w.matched.length-1];if(V&&V.redirect){const{redirect:P}=V;let B=typeof P=="function"?P(w):P;if(typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=b(B):{path:B},B.params={}),U.NODE_ENV!=="production"&&B.path==null&&!("name"in B))throw ee(`Invalid redirect found:
${JSON.stringify(B,null,2)}
 when navigating to "${w.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return ce({query:w.query,hash:w.hash,params:B.path!=null?{}:w.params},B)}}function T(w,V){const P=c=v(w),B=a.value,ae=w.state,ke=w.force,re=w.replace===!0,Z=N(P);if(Z)return T(ce(b(Z),{state:typeof Z=="object"?ce({},ae,Z.state):ae,force:ke,replace:re}),V||P);const ge=P;ge.redirectedFrom=V;let nn;return!ke&&Ou(r,B,P)&&(nn=mr(16,{to:ge,from:B}),pt(B,B,!0,!1)),(nn?Promise.resolve(nn):J(ge,B)).catch(Fe=>qt(Fe)?qt(Fe,2)?Fe:ft(Fe):jt(Fe,ge,B)).then(Fe=>{if(Fe){if(qt(Fe,2))return U.NODE_ENV!=="production"&&Ou(r,v(Fe.to),ge)&&V&&(V._count=V._count?V._count+1:1)>30?(ee(`Detected a possibly infinite redirection in a navigation guard when going from "${B.fullPath}" to "${ge.fullPath}". Aborting to avoid a Stack Overflow.
 Are you always returning a new location within a navigation guard? That would lead to this error. Only return when redirecting or aborting, that should fix this. This might break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):T(ce({replace:re},b(Fe.to),{state:typeof Fe.to=="object"?ce({},ae,Fe.to.state):ae,force:ke}),V||ge)}else Fe=j(ge,B,!0,re,ae);return H(ge,B,Fe),Fe})}function $(w,V){const P=E(w,V);return P?Promise.reject(P):Promise.resolve()}function q(w){const V=$t.values().next().value;return V&&typeof V.runWithContext=="function"?V.runWithContext(w):w()}function J(w,V){let P;const[B,ae,ke]=Kv(w,V);P=ol(B.reverse(),"beforeRouteLeave",w,V);for(const Z of B)Z.leaveGuards.forEach(ge=>{P.push(hn(ge,w,V))});const re=$.bind(null,w,V);return P.push(re),tn(P).then(()=>{P=[];for(const Z of s.list())P.push(hn(Z,w,V));return P.push(re),tn(P)}).then(()=>{P=ol(ae,"beforeRouteUpdate",w,V);for(const Z of ae)Z.updateGuards.forEach(ge=>{P.push(hn(ge,w,V))});return P.push(re),tn(P)}).then(()=>{P=[];for(const Z of ke)if(Z.beforeEnter)if(ct(Z.beforeEnter))for(const ge of Z.beforeEnter)P.push(hn(ge,w,V));else P.push(hn(Z.beforeEnter,w,V));return P.push(re),tn(P)}).then(()=>(w.matched.forEach(Z=>Z.enterCallbacks={}),P=ol(ke,"beforeRouteEnter",w,V,q),P.push(re),tn(P))).then(()=>{P=[];for(const Z of o.list())P.push(hn(Z,w,V));return P.push(re),tn(P)}).catch(Z=>qt(Z,8)?Z:Promise.reject(Z))}function H(w,V,P){l.list().forEach(B=>q(()=>B(w,V,P)))}function j(w,V,P,B,ae){const ke=E(w,V);if(ke)return ke;const re=V===pn,Z=Kt?history.state:{};P&&(B||re?i.replace(w.fullPath,ce({scroll:re&&Z&&Z.scroll},ae)):i.push(w.fullPath,ae)),a.value=w,pt(w,V,P,re),ft()}let Y;function Pe(){Y||(Y=i.listen((w,V,P)=>{const B=v(w),ae=N(B);if(ae){T(ce(ae,{replace:!0,force:!0}),B).catch(ii);return}c=B;const ke=a.value;Kt&&Qy($u(ke.fullPath,P.delta),hs()),J(B,ke).catch(re=>qt(re,12)?re:qt(re,2)?(T(ce(b(re.to),{force:!0}),B).then(Z=>{qt(Z,20)&&!P.delta&&P.type===si.pop&&i.go(-1,!1)}).catch(ii),Promise.reject()):(P.delta&&i.go(-P.delta,!1),jt(re,B,ke))).then(re=>{re=re||j(B,ke,!1),re&&(P.delta&&!qt(re,8)?i.go(-P.delta,!1):P.type===si.pop&&qt(re,20)&&i.go(-1,!1)),H(B,ke,re)}).catch(ii)}))}let Nt=li(),en=li(),kt;function jt(w,V,P){ft(w);const B=en.list();return B.length?B.forEach(ae=>ae(w,V,P)):(U.NODE_ENV!=="production"&&ee("uncaught error during route navigation:"),console.error(w)),Promise.reject(w)}function $n(){return kt&&a.value!==pn?Promise.resolve():new Promise((w,V)=>{Nt.add([w,V])})}function ft(w){return kt||(kt=!w,Pe(),Nt.list().forEach(([V,P])=>w?P(w):V()),Nt.reset()),w}function pt(w,V,P,B){const{scrollBehavior:ae}=t;if(!Kt||!ae)return Promise.resolve();const ke=!P&&Xy($u(w.fullPath,0))||(B||!P)&&history.state&&history.state.scroll||null;return Ji().then(()=>ae(w,V,ke)).then(re=>re&&Yy(re)).catch(re=>jt(re,w,V))}const Mt=w=>i.go(w);let An;const $t=new Set,ro={currentRoute:a,listening:!0,addRoute:f,removeRoute:h,clearRoutes:e.clearRoutes,hasRoute:g,getRoutes:m,resolve:v,options:t,push:x,replace:_,go:Mt,back:()=>Mt(-1),forward:()=>Mt(1),beforeEach:s.add,beforeResolve:o.add,afterEach:l.add,onError:en.add,isReady:$n,install(w){const V=this;w.component("RouterLink",Ov),w.component("RouterView",Av),w.config.globalProperties.$router=V,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>be(a)}),Kt&&!An&&a.value===pn&&(An=!0,x(i.location).catch(ae=>{U.NODE_ENV!=="production"&&ee("Unexpected error when starting the router:",ae)}));const P={};for(const ae in pn)Object.defineProperty(P,ae,{get:()=>a.value[ae],enumerable:!0});w.provide(il,V),w.provide(Ku,Kh(P)),w.provide(sl,a);const B=w.unmount;$t.add(w),w.unmount=function(){$t.delete(w),$t.size<1&&(c=pn,Y&&Y(),Y=null,a.value=pn,An=!1,kt=!1),B()},U.NODE_ENV!=="production"&&Kt&&Iv(w,V,e)}};function tn(w){return w.reduce((V,P)=>V.then(()=>q(P)),Promise.resolve())}return ro}function Kv(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const l=e.matched[o];l&&(t.matched.find(c=>fn(c,l))?r.push(l):n.push(l));const a=t.matched[o];a&&(e.matched.find(c=>fn(c,a))||i.push(a))}return[n,r,i]}const mn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};var I={STARTS_WITH:"startsWith",CONTAINS:"contains",EQUALS:"equals",IN:"in",DATE_IS:"dateIs"},W={AND:"and",OR:"or"},qv=`
    .p-tabs {
        display: flex;
        flex-direction: column;
    }

    .p-tablist {
        display: flex;
        position: relative;
        overflow: hidden;
    }

    .p-tablist-viewport {
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        scrollbar-width: none;
        overscroll-behavior: contain auto;
    }

    .p-tablist-viewport::-webkit-scrollbar {
        display: none;
    }

    .p-tablist-tab-list {
        position: relative;
        display: flex;
        background: dt('tabs.tablist.background');
        border-style: solid;
        border-color: dt('tabs.tablist.border.color');
        border-width: dt('tabs.tablist.border.width');
    }

    .p-tablist-content {
        flex-grow: 1;
    }

    .p-tablist-nav-button {
        all: unset;
        position: absolute !important;
        flex-shrink: 0;
        inset-block-start: 0;
        z-index: 2;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: dt('tabs.nav.button.background');
        color: dt('tabs.nav.button.color');
        width: dt('tabs.nav.button.width');
        transition:
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        box-shadow: dt('tabs.nav.button.shadow');
        outline-color: transparent;
        cursor: pointer;
    }

    .p-tablist-nav-button:focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.nav.button.focus.ring.shadow');
        outline: dt('tabs.nav.button.focus.ring.width') dt('tabs.nav.button.focus.ring.style') dt('tabs.nav.button.focus.ring.color');
        outline-offset: dt('tabs.nav.button.focus.ring.offset');
    }

    .p-tablist-nav-button:hover {
        color: dt('tabs.nav.button.hover.color');
    }

    .p-tablist-prev-button {
        inset-inline-start: 0;
    }

    .p-tablist-next-button {
        inset-inline-end: 0;
    }

    .p-tablist-prev-button:dir(rtl),
    .p-tablist-next-button:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-tab {
        flex-shrink: 0;
        cursor: pointer;
        user-select: none;
        position: relative;
        border-style: solid;
        white-space: nowrap;
        gap: dt('tabs.tab.gap');
        background: dt('tabs.tab.background');
        border-width: dt('tabs.tab.border.width');
        border-color: dt('tabs.tab.border.color');
        color: dt('tabs.tab.color');
        padding: dt('tabs.tab.padding');
        font-weight: dt('tabs.tab.font.weight');
        transition:
            background dt('tabs.transition.duration'),
            border-color dt('tabs.transition.duration'),
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        margin: dt('tabs.tab.margin');
        outline-color: transparent;
    }

    .p-tab:not(.p-disabled):focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.tab.focus.ring.shadow');
        outline: dt('tabs.tab.focus.ring.width') dt('tabs.tab.focus.ring.style') dt('tabs.tab.focus.ring.color');
        outline-offset: dt('tabs.tab.focus.ring.offset');
    }

    .p-tab:not(.p-tab-active):not(.p-disabled):hover {
        background: dt('tabs.tab.hover.background');
        border-color: dt('tabs.tab.hover.border.color');
        color: dt('tabs.tab.hover.color');
    }

    .p-tab-active {
        background: dt('tabs.tab.active.background');
        border-color: dt('tabs.tab.active.border.color');
        color: dt('tabs.tab.active.color');
    }

    .p-tabpanels {
        background: dt('tabs.tabpanel.background');
        color: dt('tabs.tabpanel.color');
        padding: dt('tabs.tabpanel.padding');
        outline: 0 none;
    }

    .p-tabpanel:focus-visible {
        box-shadow: dt('tabs.tabpanel.focus.ring.shadow');
        outline: dt('tabs.tabpanel.focus.ring.width') dt('tabs.tabpanel.focus.ring.style') dt('tabs.tabpanel.focus.ring.color');
        outline-offset: dt('tabs.tabpanel.focus.ring.offset');
    }

    .p-tablist-active-bar {
        z-index: 1;
        display: block;
        position: absolute;
        inset-block-end: dt('tabs.active.bar.bottom');
        height: dt('tabs.active.bar.height');
        background: dt('tabs.active.bar.background');
        transition: 250ms cubic-bezier(0.35, 0, 0.25, 1);
    }
`,Jv={root:function(e){var n=e.props;return["p-tabs p-component",{"p-tabs-scrollable":n.scrollable}]}},Gv=Ee.extend({name:"tabs",style:qv,classes:Jv}),Yv={name:"BaseTabs",extends:fr,props:{value:{type:[String,Number],default:void 0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},showNavigators:{type:Boolean,default:!0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:Gv,provide:function(){return{$pcTabs:this,$parentInstance:this}}},al={name:"Tabs",extends:Yv,inheritAttrs:!1,emits:["update:value"],data:function(){return{d_value:this.value}},watch:{value:function(e){this.d_value=e}},methods:{updateValue:function(e){this.d_value!==e&&(this.d_value=e,this.$emit("update:value",e))},isVertical:function(){return this.orientation==="vertical"}}};function Qv(t,e,n,r,i,s){return S(),C("div",Ce({class:t.cx("root")},t.ptmi("root")),[Pt(t.$slots,"default")],16)}al.render=Qv;var id={name:"ChevronLeftIcon",extends:pu};function Xv(t){return n0(t)||t0(t)||e0(t)||Zv()}function Zv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e0(t,e){if(t){if(typeof t=="string")return cl(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cl(t,e):void 0}}function t0(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n0(t){if(Array.isArray(t))return cl(t)}function cl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function r0(t,e,n,r,i,s){return S(),C("svg",Ce({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Xv(e[0]||(e[0]=[y("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"},null,-1)])),16)}id.render=r0;var i0={root:"p-tablist",content:"p-tablist-content p-tablist-viewport",tabList:"p-tablist-tab-list",activeBar:"p-tablist-active-bar",prevButton:"p-tablist-prev-button p-tablist-nav-button",nextButton:"p-tablist-next-button p-tablist-nav-button"},s0=Ee.extend({name:"tablist",classes:i0}),o0={name:"BaseTabList",extends:fr,props:{},style:s0,provide:function(){return{$pcTabList:this,$parentInstance:this}}},ul={name:"TabList",extends:o0,inheritAttrs:!1,inject:["$pcTabs"],data:function(){return{isPrevButtonEnabled:!1,isNextButtonEnabled:!0}},resizeObserver:void 0,watch:{showNavigators:function(e){e?this.bindResizeObserver():this.unbindResizeObserver()},activeValue:{flush:"post",handler:function(){this.updateInkBar()}}},mounted:function(){var e=this;setTimeout(function(){e.updateInkBar()},150),this.showNavigators&&(this.updateButtonState(),this.bindResizeObserver())},updated:function(){this.showNavigators&&this.updateButtonState()},beforeUnmount:function(){this.unbindResizeObserver()},methods:{onScroll:function(e){this.showNavigators&&this.updateButtonState(),e.preventDefault()},onPrevButtonClick:function(){var e=this.$refs.content,n=this.getVisibleButtonWidths(),r=Kr(e)-n,i=Math.abs(e.scrollLeft),s=r*.8,o=i-s,l=Math.max(o,0);e.scrollLeft=Dc(e)?-1*l:l},onNextButtonClick:function(){var e=this.$refs.content,n=this.getVisibleButtonWidths(),r=Kr(e)-n,i=Math.abs(e.scrollLeft),s=r*.8,o=i+s,l=e.scrollWidth-r,a=Math.min(o,l);e.scrollLeft=Dc(e)?-1*a:a},bindResizeObserver:function(){var e=this;this.resizeObserver=new ResizeObserver(function(){return e.updateButtonState()}),this.resizeObserver.observe(this.$refs.list)},unbindResizeObserver:function(){var e;(e=this.resizeObserver)===null||e===void 0||e.unobserve(this.$refs.list),this.resizeObserver=void 0},updateInkBar:function(){var e=this.$refs,n=e.content,r=e.inkbar,i=e.tabs;if(r){var s=as(n,'[data-pc-name="tab"][data-p-active="true"]');this.$pcTabs.isVertical()?(r.style.height=Ic(s)+"px",r.style.top=Wr(s).top-Wr(i).top+"px"):(r.style.width=Pc(s)+"px",r.style.left=Wr(s).left-Wr(i).left+"px")}},updateButtonState:function(){var e=this.$refs,n=e.list,r=e.content,i=r.scrollTop,s=r.scrollWidth,o=r.scrollHeight,l=r.offsetWidth,a=r.offsetHeight,c=Math.abs(r.scrollLeft),u=[Kr(r),zo(r)],d=u[0],p=u[1];this.$pcTabs.isVertical()?(this.isPrevButtonEnabled=i!==0,this.isNextButtonEnabled=n.offsetHeight>=a&&parseInt(i)!==o-p):(this.isPrevButtonEnabled=c!==0,this.isNextButtonEnabled=n.offsetWidth>=l&&parseInt(c)!==s-d)},getVisibleButtonWidths:function(){var e=this.$refs,n=e.prevButton,r=e.nextButton,i=0;return this.showNavigators&&(i=((n==null?void 0:n.offsetWidth)||0)+((r==null?void 0:r.offsetWidth)||0)),i}},computed:{templates:function(){return this.$pcTabs.$slots},activeValue:function(){return this.$pcTabs.d_value},showNavigators:function(){return this.$pcTabs.showNavigators},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0},dataP:function(){return Lo({scrollable:this.$pcTabs.scrollable})}},components:{ChevronLeftIcon:id,ChevronRightIcon:hu},directives:{ripple:bu}},l0=["data-p"],a0=["aria-label","tabindex"],c0=["data-p"],u0=["aria-orientation"],d0=["aria-label","tabindex"];function f0(t,e,n,r,i,s){var o=pc("ripple");return S(),C("div",Ce({ref:"list",class:t.cx("root"),"data-p":s.dataP},t.ptmi("root")),[s.showNavigators&&i.isPrevButtonEnabled?Qi((S(),C("button",Ce({key:0,ref:"prevButton",type:"button",class:t.cx("prevButton"),"aria-label":s.prevButtonAriaLabel,tabindex:s.$pcTabs.tabindex,onClick:e[0]||(e[0]=function(){return s.onPrevButtonClick&&s.onPrevButtonClick.apply(s,arguments)})},t.ptm("prevButton"),{"data-pc-group-section":"navigator"}),[(S(),G(ur(s.templates.previcon||"ChevronLeftIcon"),Ce({"aria-hidden":"true"},t.ptm("prevIcon")),null,16))],16,a0)),[[o]]):Ln("",!0),y("div",Ce({ref:"content",class:t.cx("content"),onScroll:e[1]||(e[1]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)}),"data-p":s.dataP},t.ptm("content")),[y("div",Ce({ref:"tabs",class:t.cx("tabList"),role:"tablist","aria-orientation":s.$pcTabs.orientation||"horizontal"},t.ptm("tabList")),[Pt(t.$slots,"default"),y("span",Ce({ref:"inkbar",class:t.cx("activeBar"),role:"presentation","aria-hidden":"true"},t.ptm("activeBar")),null,16)],16,u0)],16,c0),s.showNavigators&&i.isNextButtonEnabled?Qi((S(),C("button",Ce({key:1,ref:"nextButton",type:"button",class:t.cx("nextButton"),"aria-label":s.nextButtonAriaLabel,tabindex:s.$pcTabs.tabindex,onClick:e[2]||(e[2]=function(){return s.onNextButtonClick&&s.onNextButtonClick.apply(s,arguments)})},t.ptm("nextButton"),{"data-pc-group-section":"navigator"}),[(S(),G(ur(s.templates.nexticon||"ChevronRightIcon"),Ce({"aria-hidden":"true"},t.ptm("nextIcon")),null,16))],16,d0)),[[o]]):Ln("",!0)],16,l0)}ul.render=f0;var p0={root:function(e){var n=e.instance,r=e.props;return["p-tab",{"p-tab-active":n.active,"p-disabled":r.disabled}]}},h0=Ee.extend({name:"tab",classes:p0}),m0={name:"BaseTab",extends:fr,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:h0,provide:function(){return{$pcTab:this,$parentInstance:this}}},dl={name:"Tab",extends:m0,inheritAttrs:!1,inject:["$pcTabs","$pcTabList"],methods:{onFocus:function(){this.$pcTabs.selectOnFocus&&this.changeActiveValue()},onClick:function(){this.changeActiveValue()},onKeydown:function(e){switch(e.code){case"ArrowRight":this.onArrowRightKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break}},onArrowRightKey:function(e){var n=this.findNextTab(e.currentTarget);n?this.changeFocusedTab(e,n):this.onHomeKey(e),e.preventDefault()},onArrowLeftKey:function(e){var n=this.findPrevTab(e.currentTarget);n?this.changeFocusedTab(e,n):this.onEndKey(e),e.preventDefault()},onHomeKey:function(e){var n=this.findFirstTab();this.changeFocusedTab(e,n),e.preventDefault()},onEndKey:function(e){var n=this.findLastTab();this.changeFocusedTab(e,n),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.findLastTab()),e.preventDefault()},onPageUpKey:function(e){this.scrollInView(this.findFirstTab()),e.preventDefault()},onEnterKey:function(e){this.changeActiveValue()},findNextTab:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.nextElementSibling;return r?Ur(r,"data-p-disabled")||Ur(r,"data-pc-section")==="activebar"?this.findNextTab(r):as(r,'[data-pc-name="tab"]'):null},findPrevTab:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.previousElementSibling;return r?Ur(r,"data-p-disabled")||Ur(r,"data-pc-section")==="activebar"?this.findPrevTab(r):as(r,'[data-pc-name="tab"]'):null},findFirstTab:function(){return this.findNextTab(this.$pcTabList.$refs.tabs.firstElementChild,!0)},findLastTab:function(){return this.findPrevTab(this.$pcTabList.$refs.tabs.lastElementChild,!0)},changeActiveValue:function(){this.$pcTabs.updateValue(this.value)},changeFocusedTab:function(e,n){sg(n),this.scrollInView(n)},scrollInView:function(e){var n;e==null||(n=e.scrollIntoView)===null||n===void 0||n.call(e,{block:"nearest"})}},computed:{active:function(){var e;return Lc((e=this.$pcTabs)===null||e===void 0?void 0:e.d_value,this.value)},id:function(){var e;return"".concat((e=this.$pcTabs)===null||e===void 0?void 0:e.$id,"_tab_").concat(this.value)},ariaControls:function(){var e;return"".concat((e=this.$pcTabs)===null||e===void 0?void 0:e.$id,"_tabpanel_").concat(this.value)},attrs:function(){return Ce(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.active?this.$pcTabs.tabindex:-1,role:"tab","aria-selected":this.active,"aria-controls":this.ariaControls,"data-pc-name":"tab","data-p-disabled":this.disabled,"data-p-active":this.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.active}}},dataP:function(){return Lo({active:this.active})}},directives:{ripple:bu}};function g0(t,e,n,r,i,s){var o=pc("ripple");return t.asChild?Pt(t.$slots,"default",{key:1,dataP:s.dataP,class:ht(t.cx("root")),active:s.active,a11yAttrs:s.a11yAttrs,onClick:s.onClick}):Qi((S(),G(ur(t.as),Ce({key:0,class:t.cx("root"),"data-p":s.dataP,onClick:s.onClick},s.attrs),{default:A(function(){return[Pt(t.$slots,"default")]}),_:3},16,["class","data-p","onClick"])),[[o]])}dl.render=g0;var y0={root:"p-tabpanels"},v0=Ee.extend({name:"tabpanels",classes:y0}),b0={name:"BaseTabPanels",extends:fr,props:{},style:v0,provide:function(){return{$pcTabPanels:this,$parentInstance:this}}},fl={name:"TabPanels",extends:b0,inheritAttrs:!1};function S0(t,e,n,r,i,s){return S(),C("div",Ce({class:t.cx("root"),role:"presentation"},t.ptmi("root")),[Pt(t.$slots,"default")],16)}fl.render=S0;var x0={root:function(e){var n=e.instance;return["p-tabpanel",{"p-tabpanel-active":n.active}]}},k0=Ee.extend({name:"tabpanel",classes:x0}),w0={name:"BaseTabPanel",extends:fr,props:{value:{type:[String,Number],default:void 0},as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1},header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:k0,provide:function(){return{$pcTabPanel:this,$parentInstance:this}}},pl={name:"TabPanel",extends:w0,inheritAttrs:!1,inject:["$pcTabs"],computed:{active:function(){var e;return Lc((e=this.$pcTabs)===null||e===void 0?void 0:e.d_value,this.value)},id:function(){var e;return"".concat((e=this.$pcTabs)===null||e===void 0?void 0:e.$id,"_tabpanel_").concat(this.value)},ariaLabelledby:function(){var e;return"".concat((e=this.$pcTabs)===null||e===void 0?void 0:e.$id,"_tab_").concat(this.value)},attrs:function(){return Ce(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){var e;return{id:this.id,tabindex:(e=this.$pcTabs)===null||e===void 0?void 0:e.tabindex,role:"tabpanel","aria-labelledby":this.ariaLabelledby,"data-pc-name":"tabpanel","data-p-active":this.active}},ptParams:function(){return{context:{active:this.active}}}}};function _0(t,e,n,r,i,s){var o,l;return s.$pcTabs?(S(),C(oe,{key:1},[t.asChild?Pt(t.$slots,"default",{key:1,class:ht(t.cx("root")),active:s.active,a11yAttrs:s.a11yAttrs}):(S(),C(oe,{key:0},[!((o=s.$pcTabs)!==null&&o!==void 0&&o.lazy)||s.active?Qi((S(),G(ur(t.as),Ce({key:0,class:t.cx("root")},s.attrs),{default:A(function(){return[Pt(t.$slots,"default")]}),_:3},16,["class"])),[[Qm,(l=s.$pcTabs)!==null&&l!==void 0&&l.lazy?!0:s.active]]):Ln("",!0)],64))],64)):Pt(t.$slots,"default",{key:0})}pl.render=_0;var C0=Symbol();function ys(){var t=an(C0);if(!t)throw new Error("No PrimeVue Toast provided!");return t}var E0=Symbol();function T0(){var t=an(E0);if(!t)throw new Error("No PrimeVue Confirmation provided!");return t}const O0={class:"card flex flex-wrap gap-2 justify-center"},N0={__name:"Dialogsample",setup(t){const e=T0(),n=ys();M(!1);const r=()=>{e.require({message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",closeButtonProps:{label:"NO"},rejectProps:{label:"close",severity:"secondary",outlined:!0},acceptProps:{label:"test"},accept:()=>{n.add({severity:"info",summary:"Confirmed",detail:"You have accepted",life:3e3})},reject:()=>{n.add({severity:"error",summary:"Rejected",detail:"You have rejected",life:3e3})}})},i=()=>{e.require({message:"Do you want to delete this record?",header:"Danger Zone",icon:"pi pi-info-circle",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Delete",severity:"danger"},accept:()=>{n.add({severity:"info",summary:"Confirmed",detail:"Record deleted",life:3e3})},reject:()=>{n.add({severity:"error",summary:"Rejected",detail:"You have rejected",life:3e3})}})};return(s,o)=>{const l=D("Toast"),a=D("ConfirmDialog"),c=D("Button");return S(),C(oe,null,[k(l),k(a,{closeButtonProps:{label:"關閉"}}),y("div",O0,[k(c,{onClick:o[0]||(o[0]=u=>r()),label:"Save",outlined:""}),k(c,{onClick:o[1]||(o[1]=u=>i()),label:"Delete",severity:"danger",outlined:""})])],64)}}},M0={class:"flex items-start"},$0={class:"flex flex-row gap-2"},A0={key:0,class:"flex flex-wrap gap-x-4"},D0={class:"font-bold text-purple-700 ml-1"},P0=_e({__name:"PatientInfo",props:{patientFields:{}},setup(t){const e=M(!0);return(n,r)=>(S(),C("div",M0,[r[1]||(r[1]=y("div",{class:"mr-6 flex shrink-0 items-center"},[y("div",{class:"mr-2 flex h-6 w-6 items-center justify-center rounded-sm bg-blue-100 p-3"},[y("i",{class:"pi pi-user text-primary"})]),y("p",{class:"text-primary"},"病人資訊")],-1)),y("div",$0,[e.value?(S(),C("dl",A0,[(S(!0),C(oe,null,Se(n.patientFields,(i,s)=>(S(),C("div",{class:"flex flex-nowrap",key:s},[y("dt",null,we(i.label)+"：",1),y("dd",D0,we(i.value),1)]))),128))])):Ln("",!0),r[0]||(r[0]=y("div",{class:"flex gap-x-2 mt-1"},[y("div",{class:"cursor-pointer rounded-sm border border-blue-300 px-1 py-1 text-blue-700 underline"},"管理"),y("div",{class:"cursor-pointer rounded-sm border border-blue-300 px-1 py-1 text-blue-700 underline"},"重大"),y("div",{class:"cursor-pointer rounded-sm border border-blue-300 px-1 py-1 text-blue-700 underline"},"藥敏")],-1))])]))}}),I0={class:"card flex m-2"},R0={class:"card flex m-2"},V0={class:"card flex justify-center"},L0={class:"card flex m-2"},B0={class:"card flex m-2"},z0={class:"card flex m-2"},j0={class:"fixed top-4 right-4 z-50"},F0=_e({__name:"Home",setup(t){const e=M(null),n=M(null),r=M(null),i=M(""),s=M(!1),o=M(),l=M([{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"Londonaaaaaaaaaaaaaaaaaaa",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}]);return(a,c)=>{const u=D("InputGroupAddon"),d=D("InputText"),p=D("InputGroup"),f=D("Button"),h=D("Textarea"),m=D("Select"),g=D("FloatLabel"),v=D("Drawer");return S(),C(oe,null,[y("div",I0,[k(p,{size:"small"},{default:A(()=>[k(u,{size:"small"},{default:A(()=>[...c[7]||(c[7]=[y("i",{class:"pi pi-user",size:"small"},null,-1)])]),_:1}),k(d,{modelValue:e.value,"onUpdate:modelValue":c[0]||(c[0]=b=>e.value=b),placeholder:"Username",size:"small"},null,8,["modelValue"])]),_:1})]),y("div",R0,[k(d,{type:"text",modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=b=>n.value=b)},null,8,["modelValue"]),k(f,{label:"test"}),k(f,{label:"disabled",disabled:""}),y("div",V0,[k(h,{modelValue:i.value,"onUpdate:modelValue":c[2]||(c[2]=b=>i.value=b),variant:"filled",rows:"2",cols:"30"},null,8,["modelValue"])])]),y("div",L0,[k(m,{modelValue:o.value,"onUpdate:modelValue":c[3]||(c[3]=b=>o.value=b),options:l.value,showClear:"",optionLabel:"name",placeholder:"Select a City",class:"w-full md:w-56"},null,8,["modelValue","options"])]),y("div",B0,[k(g,{variant:"on"},{default:A(()=>[k(d,{id:"on_label",modelValue:r.value,"onUpdate:modelValue":c[4]||(c[4]=b=>r.value=b),autocomplete:"off"},null,8,["modelValue"]),c[8]||(c[8]=y("label",{for:"on_label"},"就醫序號",-1))]),_:1})]),y("div",z0,[k(N0)]),y("div",null,[k(P0,{patientFields:[{label:"病歷號",value:"0201234"},{label:"就醫號",value:"IA130798"},{label:"姓名",value:"林偉哲"},{label:"性別",value:"男"},{label:"出生日期",value:"1971-08-30 (52y11m17d)"},{label:"身分證號",value:"E123456789"}]})]),y("div",j0,[k(f,{label:"?",onClick:c[5]||(c[5]=b=>s.value=!0),severity:"danger",rounded:"",raised:"","aria-label":"QA",text:"",pt:{root:{class:"bg-transparent hover:bg-gray-300 border-none shadow-none"}}}),k(v,{visible:s.value,"onUpdate:visible":c[6]||(c[6]=b=>s.value=b),header:"作業說明",position:"bottom",style:{height:"auto"}},{default:A(()=>[...c[9]||(c[9]=[y("p",null,"作業操作及作業規則問題： 宿舍：楊璧慈 #1122。 停車/分機：許怡婷 #1103。 制服：侯佳妤 #1104。 公會費：鄭乃 #1146。 手術室訂餐：營養科(組)。 合約書/合約用印：馬蘊淇 #1703。 系統維護：方誌緯 #1541/潘財文 #1519 ",-1)])]),_:1},8,["visible"])])],64)}}});function Ve(t){this.content=t}Ve.prototype={constructor:Ve,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Ve(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ve(n)},addToStart:function(t,e){return new Ve([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ve(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Ve(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ve.from(t),t.size?new Ve(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ve.from(t),t.size?new Ve(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ve.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}},Ve.from=function(t){if(t instanceof Ve)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ve(e)};function sd(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=sd(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function od(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),l=e.child(--s),a=o.nodeSize;if(o==l){n-=a,r-=a;continue}if(!o.sameMarkup(l))return{a:n,b:r};if(o.isText&&o.text!=l.text){let c=0,u=Math.min(o.text.length,l.text.length);for(;c<u&&o.text[o.text.length-c-1]==l.text[l.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||l.content.size){let c=od(o.content,l.content,n-1,r-1);if(c)return c}n-=a,r-=a}}class O{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,l=0;l<n;o++){let a=this.content[o],c=l+a.nodeSize;if(c>e&&r(a,i+l,s||null,o)!==!1&&a.content.size){let u=l+1;a.nodesBetween(Math.max(0,e-u),Math.min(a.content.size,n-u),r,i+u)}l=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(l,a)=>{let c=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new O(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let l=this.content[s],a=o+l.nodeSize;a>e&&((o<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,n-o-1))),r.push(l),i+=l.nodeSize),o=a}return new O(r,i)}cutByIndex(e,n){return e==n?O.empty:e==0&&n==this.content.length?this:new O(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new O(i,s)}addToStart(e){return new O([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new O(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return sd(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return od(this,e,n,r)}findIndex(e){if(e==0)return vs(0,e);if(e==this.size)return vs(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?vs(n+1,s):vs(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return O.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new O(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return O.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new O(n||e,r)}static from(e){if(!e)return O.empty;if(e instanceof O)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new O([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}O.empty=new O([],0);const hl={index:0,offset:0};function vs(t,e){return hl.index=t,hl.offset=e,hl}function bs(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!bs(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!bs(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let pe=class _a{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&bs(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return _a.none;if(e instanceof _a)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};pe.none=[];class Ss extends Error{}class R{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=ad(this.content,e+this.openStart,n);return r&&new R(r,this.openStart,this.openEnd)}removeBetween(e,n){return new R(ld(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return R.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new R(O.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new R(e,r,i)}}R.empty=new R(O.empty,0,0);function ld(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(ld(s.content,e-i-1,n-i-1)))}function ad(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=ad(o.content,e-s-1,n,o);return l&&t.replaceChild(i,o.copy(l))}function H0(t,e,n){if(n.openStart>t.depth)throw new Ss("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ss("Inconsistent open depths");return cd(t,e,n,0)}function cd(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=cd(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,l=o.content;return Fn(o,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=U0(n,t);return Fn(s,dd(t,o,l,e,r))}else return Fn(s,xs(t,e,r))}function ud(t,e){if(!e.type.compatibleContent(t.type))throw new Ss("Cannot join "+e.type.name+" onto "+t.type.name)}function ml(t,e,n){let r=t.node(n);return ud(r,e.node(n)),r}function jn(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ci(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(jn(t.nodeAfter,r),s++));for(let l=s;l<o;l++)jn(i.child(l),r);e&&e.depth==n&&e.textOffset&&jn(e.nodeBefore,r)}function Fn(t,e){return t.type.checkContent(e),t.copy(e)}function dd(t,e,n,r,i){let s=t.depth>i&&ml(t,e,i+1),o=r.depth>i&&ml(n,r,i+1),l=[];return ci(null,t,i,l),s&&o&&e.index(i)==n.index(i)?(ud(s,o),jn(Fn(s,dd(t,e,n,r,i+1)),l)):(s&&jn(Fn(s,xs(t,e,i+1)),l),ci(e,n,i,l),o&&jn(Fn(o,xs(n,r,i+1)),l)),ci(r,null,i,l),new O(l)}function xs(t,e,n){let r=[];if(ci(null,t,n,r),t.depth>n){let i=ml(t,e,n+1);jn(Fn(i,xs(t,e,n+1)),r)}return ci(e,null,n,r),new O(r)}function U0(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(O.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class ui{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return pe.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new ks(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:l,offset:a}=o.content.findIndex(s),c=s-a;if(r.push(o,l,i+a),!c||(o=o.child(l),o.isText))break;s=c-1,i+=a+1}return new ui(n,r,s)}static resolveCached(e,n){let r=fd.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else fd.set(e,r=new W0);let i=r.elts[r.i]=ui.resolve(e,n);return r.i=(r.i+1)%K0,i}}class W0{constructor(){this.elts=[],this.i=0}}const K0=12,fd=new WeakMap;class ks{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const q0=Object.create(null);let gn=class Ca{constructor(e,n,r,i=pe.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||O.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&bs(this.attrs,n||e.defaultAttrs||q0)&&pe.sameSet(this.marks,r||pe.none)}copy(e=null){return e==this.content?this:new Ca(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ca(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return R.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),l=i.start(o),c=i.node(o).content.cut(i.pos-l,s.pos-l);return new R(c,i.depth-o,s.depth-o)}replace(e,n,r){return H0(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return ui.resolveCached(this,e)}resolveNoCache(e){return ui.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),pd(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=O.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<s;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=pe.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!pe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=O.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};gn.prototype.text=void 0;class ws extends gn{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):pd(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ws(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ws(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function pd(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Hn{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new J0(e,n);if(r.next==null)return Hn.empty;let i=hd(r);r.next&&r.err("Unexpected trailing text");let s=tb(eb(i));return nb(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,l){let a=o.matchFragment(e,r);if(a&&(!n||a.validEnd))return O.from(l.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let p=s(d,l.concat(u));if(p)return p}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:l,next:a}=s.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Hn.empty=new Hn(!0);class J0{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function hd(t){let e=[];do e.push(G0(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function G0(t){let e=[];do e.push(Y0(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Y0(t){let e=Z0(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Q0(t,e);else break;return e}function md(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Q0(t,e){let n=md(t),r=n;return t.eat(",")&&(t.next!="}"?r=md(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function X0(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Z0(t){if(t.eat("(")){let e=hd(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=X0(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function eb(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,l,a){let c={term:a,to:l};return e[o].push(c),c}function i(o,l){o.forEach(a=>a.to=l)}function s(o,l){if(o.type=="choice")return o.exprs.reduce((a,c)=>a.concat(s(c,l)),[]);if(o.type=="seq")for(let a=0;;a++){let c=s(o.exprs[a],l);if(a==o.exprs.length-1)return c;i(c,l=n())}else if(o.type=="star"){let a=n();return r(l,a),i(s(o.expr,a),a),[r(a)]}else if(o.type=="plus"){let a=n();return i(s(o.expr,l),a),i(s(o.expr,a),a),[r(a)]}else{if(o.type=="opt")return[r(l)].concat(s(o.expr,l));if(o.type=="range"){let a=l;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,a),u),a=u}if(o.max==-1)i(s(o.expr,a),a);else for(let c=o.min;c<o.max;c++){let u=n();r(a,u),i(s(o.expr,a),u),a=u}return[r(a)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function gd(t,e){return e-t}function yd(t,e){let n=[];return r(e),n.sort(gd);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:l,to:a}=s[o];!l&&n.indexOf(a)==-1&&r(a)}}}function tb(t){let e=Object.create(null);return n(yd(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:l,to:a})=>{if(!l)return;let c;for(let u=0;u<i.length;u++)i[u][0]==l&&(c=i[u][1]);yd(t,a).forEach(u=>{c||i.push([l,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new Hn(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(gd);s.next.push({type:i[o][0],next:e[l.join(",")]||n(l)})}return s}}function nb(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:a,next:c}=i.next[l];o.push(a.name),s&&!(a.isText||a.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function vd(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function bd(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Sd(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function xd(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new ib(t,r,e[r]);return n}let kd=class hh{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=xd(e,r.attrs),this.defaultAttrs=vd(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Hn.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:bd(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new gn(this,this.computeAttrs(e),O.from(n),pe.setFrom(r))}createChecked(e=null,n,r){return n=O.from(n),this.checkContent(n),new gn(this,this.computeAttrs(e),n,pe.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=O.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(O.empty,!0);return s?new gn(this,e,n.append(s),pe.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Sd(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:pe.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new hh(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function rb(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class ib{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?rb(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class _s{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=xd(e,i.attrs),this.excluded=null;let s=vd(this.attrs);this.instance=s?new pe(this,s):null}create(e=null){return!e&&this.instance?this.instance:new pe(this,bd(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new _s(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Sd(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class wd{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ve.from(e.nodes),n.marks=Ve.from(e.marks||{}),this.nodes=kd.compile(this.spec.nodes,this),this.marks=_s.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Hn.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?_d(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:_d(this,o.split(" "))}this.nodeFromJSON=i=>gn.fromJSON(this,i),this.markFromJSON=i=>pe.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof kd){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new ws(r,r.defaultAttrs,e,pe.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function _d(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=a)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function sb(t){return t.tag!=null}function ob(t){return t.style!=null}let di=class Ea{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(sb(i))this.tags.push(i);else if(ob(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new Od(this,n,!1);return r.addAll(e,pe.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Od(this,n,!0);return r.addAll(e,pe.none,n.from,n.to),R.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(cb(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(o.getAttrs){let a=o.getAttrs(n);if(a===!1)continue;o.attrs=a||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Nd(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Nd(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ea(e,Ea.schemaRules(e)))}};const Cd={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},lb={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ed={ol:!0,ul:!0},fi=1,gl=2,pi=4;function Td(t,e,n){return e!=null?(e?fi:0)|(e==="full"?gl:0):t&&t.whitespace=="pre"?fi|gl:n&~pi}class Cs{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=pe.none,this.match=s||(o&pi?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(O.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&fi)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=O.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(O.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Cd.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Od{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=Td(null,n.preserveWhitespace,0)|(r?pi:0);i?s=new Cs(i.type,i.attrs,pe.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Cs(null,null,pe.none,!0,null,o):s=new Cs(e.schema.topNodeType,null,pe.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&gl?"full":this.localPreserveWS||(i.options&fi)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;Ed.hasOwnProperty(o)&&this.parser.normalizeLists&&ab(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(a?a.ignore:lb.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let c,u=this.needsBlock;if(Cd.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=a&&a.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,a,c,a.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let l=void 0;;){let a=this.parser.matchStyle(s,o,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?n=n.filter(c=>!a.clearMark(c)):n=n.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)l=a;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let a=this.enter(o,n.attrs||null,r,n.preserveWhitespace);a&&(s=!0,r=a)}else{let a=this.parser.schema.marks[n.mark];r=r.concat(a.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,r,!1));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a,r),this.findAround(e,a,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];o!=l;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let o=this.open,l=0;o>=0;o--){let a=this.nodes[o],c=a.findWrapping(e);if(c&&(!i||i.length>c.length+l)&&(i=c,s=a,!c.length))break;if(a.solid){if(r)break;l+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=pe.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):Md(l.type,e.type))&&(o=l.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=Td(e,s,o.options);o.options&pi&&o.content.length==0&&(l|=pi);let a=pe.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):Md(c.type,e))?(a=c.addToSet(a),!1):!0),this.nodes.push(new Cs(e,n,a,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=fi)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(l,a)=>{for(;l>=0;l--){let c=n[l];if(c==""){if(l==n.length-1||l==0)continue;for(;a>=s;a--)if(o(l-1,a))return!0;return!1}else{let u=a>0||a==0&&i?this.nodes[a].type:r&&a>=s?r.node(a-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;a--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function ab(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Ed.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function cb(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Nd(t){let e={};for(let n in t)e[n]=t[n];return e}function Md(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=l=>{s.push(l);for(let a=0;a<l.edgeCount;a++){let{type:c,next:u}=l.edge(a);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class Un{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=yl(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let l=0,a=0;for(;l<s.length&&a<o.marks.length;){let c=o.marks[a];if(!this.marks[c.type.name]){a++;continue}if(!c.eq(s[l][0])||c.type.spec.spanning===!1)break;l++,a++}for(;l<s.length;)i=s.pop()[1];for(;a<o.marks.length;){let c=o.marks[a++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Es(yl(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Es(yl(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Es(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Un(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=$d(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return $d(e.marks)}}function $d(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function yl(t){return t.document||window.document}const Ad=new WeakMap;function ub(t){let e=Ad.get(t);return e===void 0&&Ad.set(t,e=db(t)),e}function db(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Es(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=ub(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let l,a=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let p=d.indexOf(" ");p>0?a.setAttributeNS(d.slice(0,p),d.slice(p+1),c[d]):d=="style"&&a.style?a.style.cssText=c[d]:a.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let p=e[d];if(p===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:f,contentDOM:h}=Es(t,p,n,r);if(a.appendChild(f),h){if(l)throw new RangeError("Multiple content holes");l=h}}}return{dom:a,contentDOM:l}}const Dd=65535,Pd=Math.pow(2,16);function fb(t,e){return t+e*Pd}function Id(t){return t&Dd}function pb(t){return(t-(t&Dd))/Pd}const Rd=1,Vd=2,Ts=4,Ld=8;class vl{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Ld)>0}get deletedBefore(){return(this.delInfo&(Rd|Ts))>0}get deletedAfter(){return(this.delInfo&(Vd|Ts))>0}get deletedAcross(){return(this.delInfo&Ts)>0}}class ut{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ut.empty)return ut.empty}recover(e){let n=0,r=Id(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+pb(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let c=this.ranges[l+s],u=this.ranges[l+o],d=a+c;if(e<=d){let p=c?e==a?-1:e==d?1:n:n,f=a+i+(p<0?0:u);if(r)return f;let h=e==(n<0?a:d)?null:fb(l/3,e-a),m=e==a?Vd:e==d?Rd:Ts;return(n<0?e!=a:e!=d)&&(m|=Ld),new vl(f,m,h)}i+=u-c}return r?e+i:new vl(e+i,0,null)}touches(e,n){let r=0,i=Id(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let c=this.ranges[l+s],u=a+c;if(e<=u&&l==i*3)return!0;r+=this.ranges[l+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?s:0),a=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(l,l+c,a,a+u),s+=u-c}}invert(){return new ut(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ut.empty:new ut(e<0?[0,-e,0]:[0,0,e])}}ut.empty=new ut([]);class hi{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new hi(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new hi;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],l=o.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(s);if(a!=null&&a>s&&a<this.to){s=a,e=this._maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new vl(e,i,null)}}const bl=Object.create(null);class He{getMap(){return ut.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=bl[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in bl)throw new RangeError("Duplicate use of step JSON ID "+e);return bl[e]=n,n.prototype.jsonID=e,n}}class Te{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Te(e,null)}static fail(e){return new Te(null,e)}static fromReplace(e,n,r,i){try{return Te.ok(e.replace(n,r,i))}catch(s){if(s instanceof Ss)return Te.fail(s.message);throw s}}}function Sl(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(Sl(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return O.fromArray(r)}class yn extends He{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new R(Sl(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Te.fromReplace(e,this.from,this.to,s)}invert(){return new Rt(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new yn(n.pos,r.pos,this.mark)}merge(e){return e instanceof yn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new yn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new yn(n.from,n.to,e.markFromJSON(n.mark))}}He.jsonID("addMark",yn);class Rt extends He{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new R(Sl(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Te.fromReplace(e,this.from,this.to,r)}invert(){return new yn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Rt(n.pos,r.pos,this.mark)}merge(e){return e instanceof Rt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Rt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Rt(n.from,n.to,e.markFromJSON(n.mark))}}He.jsonID("removeMark",Rt);class vn extends He{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Te.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Te.fromReplace(e,this.pos,this.pos+1,new R(O.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new vn(this.pos,n.marks[i]);return new vn(this.pos,this.mark)}}return new Wn(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new vn(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new vn(n.pos,e.markFromJSON(n.mark))}}He.jsonID("addNodeMark",vn);class Wn extends He{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Te.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Te.fromReplace(e,this.pos,this.pos+1,new R(O.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new vn(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Wn(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Wn(n.pos,e.markFromJSON(n.mark))}}He.jsonID("removeNodeMark",Wn);class Me extends He{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&xl(e,this.from,this.to)?Te.fail("Structure replace would overwrite content"):Te.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ut([this.from,this.to-this.from,this.slice.size])}invert(e){return new Me(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Me(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Me)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?R.empty:new R(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Me(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?R.empty:new R(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Me(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Me(n.from,n.to,R.fromJSON(e,n.slice),!!n.structure)}}He.jsonID("replace",Me);class $e extends He{constructor(e,n,r,i,s,o,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=l}apply(e){if(this.structure&&(xl(e,this.from,this.gapFrom)||xl(e,this.gapTo,this.to)))return Te.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Te.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Te.fromReplace(e,this.from,this.to,r):Te.fail("Content does not fit in gap")}getMap(){return new ut([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new $e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new $e(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new $e(n.from,n.to,n.gapFrom,n.gapTo,R.fromJSON(e,n.slice),n.insert,!!n.structure)}}He.jsonID("replaceAround",$e);function xl(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function hb(t,e,n,r){let i=[],s=[],o,l;t.doc.nodesBetween(e,n,(a,c,u)=>{if(!a.isInline)return;let d=a.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let p=Math.max(c,e),f=Math.min(c+a.nodeSize,n),h=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(h)||(o&&o.to==p&&o.mark.eq(d[m])?o.to=f:i.push(o=new Rt(p,f,d[m])));l&&l.to==p?l.to=f:s.push(l=new yn(p,f,r))}}),i.forEach(a=>t.step(a)),s.forEach(a=>t.step(a))}function mb(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,l)=>{if(!o.isInline)return;s++;let a=null;if(r instanceof _s){let c=o.marks,u;for(;u=r.isInSet(c);)(a||(a=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(a=[r]):a=o.marks;if(a&&a.length){let c=Math.min(l+o.nodeSize,n);for(let u=0;u<a.length;u++){let d=a[u],p;for(let f=0;f<i.length;f++){let h=i[f];h.step==s-1&&d.eq(i[f].style)&&(p=h)}p?(p.to=c,p.step=s):i.push({style:d,from:Math.max(l,e),to:c,step:s})}}}),i.forEach(o=>t.step(new Rt(o.from,o.to,o.style)))}function kl(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],l=e+1;for(let a=0;a<s.childCount;a++){let c=s.child(a),u=l+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new Me(l,u,R.empty));else{r=d;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||t.step(new Rt(l,u,c.marks[p]));if(i&&c.isText&&n.whitespace!="pre"){let p,f=/\r?\n|\r/g,h;for(;p=f.exec(c.text);)h||(h=new R(O.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new Me(l+p.index,l+p.index+p[0].length,h))}}l=u}if(!r.validEnd){let a=r.fillBefore(O.empty,!0);t.replace(l,l,new R(a,0,0))}for(let a=o.length-1;a>=0;a--)t.step(o[a])}function gb(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function gr(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!gb(i,s,o))break}return null}function yb(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),l=i.after(s+1),a=o,c=l,u=O.empty,d=0;for(let h=s,m=!1;h>n;h--)m||r.index(h)>0?(m=!0,u=O.from(r.node(h).copy(u)),d++):a--;let p=O.empty,f=0;for(let h=s,m=!1;h>n;h--)m||i.after(h+1)<i.end(h)?(m=!0,p=O.from(i.node(h).copy(p)),f++):c++;t.step(new $e(a,c,o,l,new R(u.append(p),d,f),u.size-d,!0))}function wl(t,e,n=null,r=t){let i=vb(t,e),s=i&&bb(r,e);return s?i.map(Bd).concat({type:e,attrs:n}).concat(s.map(Bd)):null}function Bd(t){return{type:t,attrs:null}}function vb(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function bb(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let a=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;a&&c<i;c++)a=a.matchType(n.child(c).type);return!a||!a.validEnd?null:o}function Sb(t,e,n){let r=O.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let l=n[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=O.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new $e(i,s,i,s,new R(r,0,0),n.length,!0))}function xb(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,l)=>{let a=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,a)&&kb(t.doc,t.mapping.slice(s).map(l),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!h?c=!1:!f&&h&&(c=!0)}c===!1&&jd(t,o,l,s),kl(t,t.mapping.slice(s).map(l,1),r,void 0,c===null);let u=t.mapping.slice(s),d=u.map(l,1),p=u.map(l+o.nodeSize,1);return t.step(new $e(d,p,d+1,p-1,new R(O.from(r.create(a,null,o.marks)),0,0),1,!0)),c===!0&&zd(t,o,l,s),!1}})}function zd(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(i.text);){let a=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function jd(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function kb(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function wb(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new $e(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new R(O.from(o),0,0),1,!0))}function Jt(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let d=i.node(c),p=i.index(c);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(p,d.childCount),h=r&&r[u+1];h&&(f=f.replaceChild(0,h.type.create(h.attrs)));let m=r&&r[u]||d;if(!d.canReplace(p+1,d.childCount)||!m.type.validContent(f))return!1}let l=i.indexAfter(s),a=r&&r[0];return i.node(s).canReplaceWith(l,l,a?a.type:i.node(s+1).type)}function _b(t,e,n=1,r){let i=t.doc.resolve(e),s=O.empty,o=O.empty;for(let l=i.depth,a=i.depth-n,c=n-1;l>a;l--,c--){s=O.from(i.node(l).copy(s));let u=r&&r[c];o=O.from(u?u.type.create(u.attrs,o):i.node(l).copy(o))}t.step(new Me(e,e,new R(s.append(o),n,n),!0))}function bn(t,e){let n=t.resolve(e),r=n.index();return Fd(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Cb(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function Fd(t,e){return!!(t&&e&&!t.isLeaf&&Cb(t,e))}function Os(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),l++,o=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),o=r.node(i+1)),s&&!s.isTextblock&&Fd(s,o)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function Eb(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let l=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);jd(t,u.node(),u.before(),l)}o.inlineContent&&kl(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let a=t.mapping.slice(l),c=a.map(e-n);if(t.step(new Me(c,a.map(e+n,-1),R.empty,!0)),r===!0){let u=t.doc.resolve(c);zd(t,u.node(),u.before(),t.steps.length)}return t}function Tb(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function Hd(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,a=r.index(o)+(l>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(a,a,i);else{let d=c.contentMatchAt(a).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(a,a,d[0])}if(u)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function Ns(t,e,n=e,r=R.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return Ud(i,s,r)?new Me(e,n,r):new Ob(i,s,r).fit()}function Ud(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Ob{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=O.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=O.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,l=i.depth;for(;o&&l&&s.childCount==1;)s=s.firstChild.content,o--,l--;let a=new R(s,o,l);return e>-1?new $e(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new Me(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=_l(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:c}=this.frontier[l],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(O.from(o),!1)):s&&a.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=_l(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new R(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=_l(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new R(mi(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new R(mi(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,l=r?r.content:o.content,a=o.openStart-e,c=0,u=[],{match:d,type:p}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)u.push(i.child(m));d=d.matchFragment(i)}let f=l.size+e-(o.content.size-o.openEnd);for(;c<l.childCount;){let m=l.child(c),g=d.matchType(m.type);if(!g)break;c++,(c>1||a==0||m.content.size)&&(d=g,u.push(Wd(m.mark(p.allowedMarks(m.marks)),c==1?a:0,c==l.childCount?f:-1)))}let h=c==l.childCount;h||(f=-1),this.placed=gi(this.placed,n,O.from(u)),this.frontier[n].match=d,h&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=l;m<f;m++){let v=g.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),g=v.content}this.unplaced=h?e==0?R.empty:new R(mi(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new R(mi(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Cl(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=Cl(e,n,i,r,s);if(o){for(let l=n-1;l>=0;l--){let{match:a,type:c}=this.frontier[l],u=Cl(e,l,c,a,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=gi(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=gi(this.placed,this.depth,O.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(O.empty,!0);n.childCount&&(this.placed=gi(this.placed,this.frontier.length,n))}}function mi(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(mi(t.firstChild.content,e-1,n)))}function gi(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(gi(t.lastChild.content,e-1,n)))}function _l(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Wd(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Wd(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(O.empty,!0)))),t.copy(r)}function Cl(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,o);return l&&!Nb(n,s.content,o)?l:null}function Nb(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Mb(t){return t.spec.defining||t.spec.definingForContent}function $b(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(Ud(i,s,r))return t.step(new Me(e,n,r));let o=qd(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let p=i.depth,f=i.pos-1;p>0;p--,f--){let h=i.node(p).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;o.indexOf(p)>-1?l=p:i.before(p)==f&&o.splice(1,0,-p)}let a=o.indexOf(l),c=[],u=r.openStart;for(let p=r.content,f=0;;f++){let h=p.firstChild;if(c.push(h),f==r.openStart)break;p=h.content}for(let p=u-1;p>=0;p--){let f=c[p],h=Mb(f.type);if(h&&!f.sameMarkup(i.node(Math.abs(l)-1)))u=p;else if(h||!f.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let f=(p+u+1)%(r.openStart+1),h=c[f];if(h)for(let m=0;m<o.length;m++){let g=o[(m+a)%o.length],v=!0;g<0&&(v=!1,g=-g);let b=i.node(g-1),E=i.index(g-1);if(b.canReplaceWith(E,E,h.type,h.marks))return t.replace(i.before(g),v?s.after(g):n,new R(Kd(r.content,0,r.openStart,f),f,r.openEnd))}}let d=t.steps.length;for(let p=o.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>d));p--){let f=o[p];f<0||(e=i.before(f),n=s.after(f))}}function Kd(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(Kd(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(O.empty,!0))}return t}function Ab(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Tb(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new R(O.from(r),0,0))}function Db(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=qd(r,i);for(let o=0;o<s.length;o++){let l=s[o],a=o==s.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function qd(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class yr extends He{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Te.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Te.fromReplace(e,this.pos,this.pos+1,new R(O.from(i),0,n.isLeaf?0:1))}getMap(){return ut.empty}invert(e){return new yr(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new yr(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new yr(n.pos,n.attr,n.value)}}He.jsonID("attr",yr);class yi extends He{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Te.ok(r)}getMap(){return ut.empty}invert(e){return new yi(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new yi(n.attr,n.value)}}He.jsonID("docAttr",yi);let vr=class extends Error{};vr=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},vr.prototype=Object.create(Error.prototype),vr.prototype.constructor=vr,vr.prototype.name="TransformError";class Pb{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new hi}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new vr(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=R.empty){let i=Ns(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new R(O.from(r),0,0))}delete(e,n){return this.replace(e,n,R.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return $b(this,e,n,r),this}replaceRangeWith(e,n,r){return Ab(this,e,n,r),this}deleteRange(e,n){return Db(this,e,n),this}lift(e,n){return yb(this,e,n),this}join(e,n=1){return Eb(this,e,n),this}wrap(e,n){return Sb(this,e,n),this}setBlockType(e,n=e,r,i=null){return xb(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return wb(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new yr(e,n,r)),this}setDocAttribute(e,n){return this.step(new yi(e,n)),this}addNodeMark(e,n){return this.step(new vn(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof pe)n.isInSet(r.marks)&&this.step(new Wn(e,n));else{let i=r.marks,s,o=[];for(;s=n.isInSet(i);)o.push(new Wn(e,s)),i=s.removeFromSet(i);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,n=1,r){return _b(this,e,n,r),this}addMark(e,n,r){return hb(this,e,n,r),this}removeMark(e,n,r){return mb(this,e,n,r),this}clearIncompatible(e,n,r){return kl(this,e,n,r),this}}const El=Object.create(null);class Q{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Ib(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=R.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:c}=o[l],u=e.mapping.slice(s);e.replaceRange(u.map(a.pos),u.map(c.pos),l?R.empty:n),l==0&&Yd(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:l}=i[s],a=e.mapping.slice(r),c=a.map(o.pos),u=a.map(l.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),Yd(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new K(e):br(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?br(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):br(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new dt(e.node(0))}static atStart(e){return br(e,e,0,0,1)||new dt(e)}static atEnd(e){return br(e,e,e.content.size,e.childCount,-1)||new dt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=El[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in El)throw new RangeError("Duplicate use of selection JSON ID "+e);return El[e]=n,n.prototype.jsonID=e,n}getBookmark(){return K.between(this.$anchor,this.$head).getBookmark()}}Q.prototype.visible=!0;class Ib{constructor(e,n){this.$from=e,this.$to=n}}let Jd=!1;function Gd(t){!Jd&&!t.parent.inlineContent&&(Jd=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class K extends Q{constructor(e,n=e){Gd(e),Gd(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Q.near(r);let i=e.resolve(n.map(this.anchor));return new K(i.parent.inlineContent?i:r,r)}replace(e,n=R.empty){if(super.replace(e,n),n==R.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof K&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ms(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new K(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Q.findFrom(n,r,!0)||Q.findFrom(n,-r,!0);if(s)n=s.$head;else return Q.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Q.findFrom(e,-r,!0)||Q.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new K(e,n)}}Q.jsonID("text",K);class Ms{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ms(e.map(this.anchor),e.map(this.head))}resolve(e){return K.between(e.resolve(this.anchor),e.resolve(this.head))}}class z extends Q{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Q.near(s):new z(s)}content(){return new R(O.from(this.node),0,0)}eq(e){return e instanceof z&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Tl(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new z(e.resolve(n.anchor))}static create(e,n){return new z(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}z.prototype.visible=!1,Q.jsonID("node",z);class Tl{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ms(r,r):new Tl(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&z.isSelectable(r)?new z(n):Q.near(n)}}class dt extends Q{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=R.empty){if(n==R.empty){e.delete(0,e.doc.content.size);let r=Q.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new dt(e)}map(e){return new dt(e)}eq(e){return e instanceof dt}getBookmark(){return Rb}}Q.jsonID("all",dt);const Rb={map(){return this},resolve(t){return new dt(t)}};function br(t,e,n,r,i,s=!1){if(e.inlineContent)return K.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!s&&z.isSelectable(l))return z.create(t,n-(i<0?l.nodeSize:0))}else{let a=br(t,l,n+i,i<0?l.childCount:0,i,s);if(a)return a}n+=l.nodeSize*i}return null}function Yd(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Me||i instanceof $e))return;let s=t.mapping.maps[r],o;s.forEach((l,a,c,u)=>{o==null&&(o=u)}),t.setSelection(Q.near(t.doc.resolve(o),n))}const Qd=1,$s=2,Xd=4;class Vb extends Pb{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Qd)&~$s,this.storedMarks=null,this}get selectionSet(){return(this.updated&Qd)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=$s,this}ensureMarks(e){return pe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&$s)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~$s,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||pe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Q.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Xd,this}get scrolledIntoView(){return(this.updated&Xd)>0}}function Zd(t,e){return!e||!t?t:t.bind(e)}class vi{constructor(e,n,r){this.name=e,this.init=Zd(n.init,r),this.apply=Zd(n.apply,r)}}const Lb=[new vi("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new vi("selection",{init(t,e){return t.selection||Q.atStart(e.doc)},apply(t){return t.selection}}),new vi("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new vi("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ol{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Lb.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new vi(r.key,r.spec.state,r))})}}class Sr{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let a=i?i[o].n:0,c=i?i[o].state:this,u=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Sr(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new Vb(this)}static create(e){let n=new Ol(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Sr(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Ol(this.schema,e.plugins),r=n.fields,i=new Sr(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Ol(e.schema,e.plugins),s=new Sr(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=gn.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Q.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],c=a.spec.state;if(a.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[o.name]=c.fromJSON.call(a,e,n[l],s);return}}s[o.name]=o.init(e,s)}}),s}}function ef(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=ef(i,e,{})),n[r]=i}return n}class Ye{constructor(e){this.spec=e,this.props={},e.props&&ef(e.props,this,this.props),this.key=e.key?e.key.key:tf("plugin")}getState(e){return e[this.key]}}const Nl=Object.create(null);function tf(t){return t in Nl?t+"$"+ ++Nl[t]:(Nl[t]=0,t+"$")}class Tt{constructor(e="key"){this.key=tf(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Le=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},xr=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Ml=null;const Gt=function(t,e,n){let r=Ml||(Ml=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Bb=function(){Ml=null},Kn=function(t,e,n,r){return n&&(nf(t,e,n,r,-1)||nf(t,e,n,r,1))},zb=/^(img|br|input|textarea|hr)$/i;function nf(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:yt(t))){let o=t.parentNode;if(!o||o.nodeType!=1||bi(t)||zb.test(t.nodeName)||t.contentEditable=="false")return!1;e=Le(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?yt(t):0}else return!1}}function yt(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function jb(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=yt(t)}else if(t.parentNode&&!bi(t))e=Le(t),t=t.parentNode;else return null}}function Fb(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!bi(t))e=Le(t)+1,t=t.parentNode;else return null}}function Hb(t,e,n){for(let r=e==0,i=e==yt(t);r||i;){if(t==n)return!0;let s=Le(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==yt(t)}}function bi(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const As=function(t){return t.focusNode&&Kn(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function qn(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Ub(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Wb(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(yt(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(yt(r.startContainer),r.startOffset)}}}const Vt=typeof navigator<"u"?navigator:null,rf=typeof document<"u"?document:null,Sn=Vt&&Vt.userAgent||"",$l=/Edge\/(\d+)/.exec(Sn),sf=/MSIE \d/.exec(Sn),Al=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Sn),it=!!(sf||Al||$l),xn=sf?document.documentMode:Al?+Al[1]:$l?+$l[1]:0,vt=!it&&/gecko\/(\d+)/i.test(Sn);vt&&+(/Firefox\/(\d+)/.exec(Sn)||[0,0])[1];const Dl=!it&&/Chrome\/(\d+)/.exec(Sn),Ue=!!Dl,of=Dl?+Dl[1]:0,Qe=!it&&!!Vt&&/Apple Computer/.test(Vt.vendor),kr=Qe&&(/Mobile\/\w+/.test(Sn)||!!Vt&&Vt.maxTouchPoints>2),bt=kr||(Vt?/Mac/.test(Vt.platform):!1),Kb=Vt?/Win/.test(Vt.platform):!1,Yt=/Android \d/.test(Sn),Si=!!rf&&"webkitFontSmoothing"in rf.documentElement.style,qb=Si?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Jb(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Qt(t,e){return typeof t=="number"?t:t[e]}function Gb(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function lf(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=xr(o);continue}let l=o,a=l==s.body,c=a?Jb(s):Gb(l),u=0,d=0;if(e.top<c.top+Qt(r,"top")?d=-(c.top-e.top+Qt(i,"top")):e.bottom>c.bottom-Qt(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Qt(i,"top")-c.top:e.bottom-c.bottom+Qt(i,"bottom")),e.left<c.left+Qt(r,"left")?u=-(c.left-e.left+Qt(i,"left")):e.right>c.right-Qt(r,"right")&&(u=e.right-c.right+Qt(i,"right")),u||d)if(a)s.defaultView.scrollBy(u,d);else{let f=l.scrollLeft,h=l.scrollTop;d&&(l.scrollTop+=d),u&&(l.scrollLeft+=u);let m=l.scrollLeft-f,g=l.scrollTop-h;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}let p=a?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(p))break;o=p=="absolute"?o.offsetParent:xr(o)}}function Yb(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(s,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:af(t.dom)}}function af(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=xr(r));return e}function Qb({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;cf(n,r==0?0:r-e)}function cf(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let wr=null;function Xb(t){if(t.setActive)return t.setActive();if(wr)return t.focus(wr);let e=af(t);t.focus(wr==null?{get preventScroll(){return wr={preventScroll:!0},!0}}:void 0),wr||(wr=!1,cf(e,0))}function uf(t,e){let n,r=2e8,i,s=0,o=e.top,l=e.top,a,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let p;if(u.nodeType==1)p=u.getClientRects();else if(u.nodeType==3)p=Gt(u).getClientRects();else continue;for(let f=0;f<p.length;f++){let h=p[f];if(h.top<=o&&h.bottom>=l){o=Math.max(h.bottom,o),l=Math.min(h.top,l);let m=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(m<r){n=u,r=m,i=m&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,u.nodeType==1&&m&&(s=d+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!a&&h.left<=e.left&&h.right>=e.left&&(a=u,c={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(s=d+1)}}return!n&&a&&(n=a,i=c,r=0),n&&n.nodeType==3?Zb(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:uf(n,i)}function Zb(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=kn(r,1);if(s.top!=s.bottom&&Pl(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function Pl(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function e1(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function t1(t,e,n){let{node:r,offset:i}=uf(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function n1(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),a;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((a=l.dom.getBoundingClientRect()).width||a.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&a.left>r.left||a.top>r.top?i=l.posBefore:(!o&&a.right<r.left||a.bottom<r.top)&&(i=l.posAfter),o=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function df(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let l=o.getClientRects();for(let a=0;a<l.length;a++){let c=l[a];if(Pl(e,c))return df(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function r1(t,e){let n=t.dom.ownerDocument,r,i=0,s=Wb(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!Pl(e,c)||(o=df(t.dom,e,c),!o))return null}if(Qe)for(let c=o;r&&c;c=xr(c))c.draggable&&(r=void 0);if(o=e1(o,e),r){if(vt&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;Si&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=n1(t,r,i,e))}l==null&&(l=t1(t,o,e));let a=t.docView.nearestDesc(o,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function ff(t){return t.top<t.bottom||t.left<t.right}function kn(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(ff(r))return r}return Array.prototype.find.call(n,ff)||t.getBoundingClientRect()}const i1=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function pf(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Si||vt;if(r.nodeType==3)if(o&&(i1.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=kn(Gt(r,i,i),n);if(vt&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=kn(Gt(r,i-1,i-1),-1);if(c.top==a.top){let u=kn(Gt(r,i,i+1),-1);if(u.top!=a.top)return xi(u,u.left<c.left)}}return a}else{let a=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(a--,u=1):n<0?a--:c++,xi(kn(Gt(r,a,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==yt(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return Il(a.getBoundingClientRect(),!1)}if(s==null&&i<yt(r)){let a=r.childNodes[i];if(a.nodeType==1)return Il(a.getBoundingClientRect(),!0)}return Il(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==yt(r))){let a=r.childNodes[i-1],c=a.nodeType==3?Gt(a,yt(a)-(o?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(c)return xi(kn(c,1),!1)}if(s==null&&i<yt(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let c=a?a.nodeType==3?Gt(a,0,o?0:1):a.nodeType==1?a:null:null;if(c)return xi(kn(c,-1),!0)}return xi(kn(r.nodeType==3?Gt(r):r,-n),n>=0)}function xi(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Il(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function hf(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function s1(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return hf(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let o=pf(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Gt(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<a.length;c++){let u=a[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const o1=/[\u0590-\u08ac]/;function l1(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,l=t.domSelection();return l?!o1.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:o:hf(t,e,()=>{let{focusNode:a,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",n,"character");let f=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:h,focusOffset:m}=t.domSelectionRange(),g=h&&!f.contains(h.nodeType==1?h:h.parentNode)||a==h&&c==m;try{l.collapse(u,d),a&&(a!=u||c!=d)&&l.extend&&l.extend(a,c)}catch{}return p!=null&&(l.caretBidiLevel=p),g}):r.pos==r.start()||r.pos==r.end()}let mf=null,gf=null,yf=!1;function a1(t,e,n){return mf==e&&gf==n?yf:(mf=e,gf=n,yf=n=="up"||n=="down"?s1(t,e,n):l1(t,e,n))}const St=0,vf=1,Jn=2,Lt=3;class ki{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=St,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Le(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let l=i.children[o];if(l.size){i=l;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.size;if(l>e||o instanceof xf){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof bf&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Le(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Le(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,l=0;;l++){let a=this.children[l],c=o+a.size;if(i==-1&&e<=c){let u=o+a.border;if(e>=u&&n<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,u);e=o;for(let d=l;d>0;d--){let p=this.children[d-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=Le(p.dom)+1;break}e-=p.size}i==-1&&(i=0)}if(i>-1&&(c>n||l==this.children.length-1)){n=c;for(let u=l+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Le(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let f=0,h=0;f<this.children.length;f++){let m=this.children[f],g=h+m.size;if(s>h&&o<g)return m.setSelection(e-h-m.border,n-h-m.border,r,i);h=g}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((vt||Qe)&&e==n){let{node:f,offset:h}=l;if(f.nodeType==3){if(d=!!(h&&f.nodeValue[h-1]==`
`),d&&h==f.nodeValue.length)for(let m=f,g;m;m=m.parentNode){if(g=m.nextSibling){g.nodeName=="BR"&&(l=a={node:g.parentNode,offset:Le(g)+1});break}let v=m.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let m=f.childNodes[h-1];d=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(vt&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||d&&Qe)&&Kn(l.node,l.offset,u.anchorNode,u.anchorOffset)&&Kn(a.node,a.offset,u.focusNode,u.focusOffset))return;let p=!1;if((c.extend||e==n)&&!(d&&vt)){c.collapse(l.node,l.offset);try{e!=n&&c.extend(a.node,a.offset),p=!0}catch{}}if(!p){if(e>n){let h=l;l=a,a=h}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let l=r+s.border,a=o-s.border;if(e>=l&&n<=a){this.dirty=e==r||n==o?Jn:vf,e==l&&n==a&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Lt:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Jn:Lt}r=o}this.dirty=Jn}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Jn:vf;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class bf extends ki{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==St&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class c1 extends ki{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Gn extends ki{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Un.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Gn(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Lt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Lt&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=St){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=St}}slice(e,n,r){let i=Gn.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=Vl(s,n,o,r)),e>0&&(s=Vl(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class wn extends ki{constructor(e,n,r,i,s,o,l,a,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,o){let l=s.nodeViews[n.type.name],a,c=l&&l(n,s,()=>{if(!a)return o;if(a.parent)return a.parent.posBeforeChild(a)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Un.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let p=u;return u=_f(u,r,n),c?a=new u1(e,n,r,i,u,d||null,p,c,s,o+1):n.isText?new Ds(e,n,r,i,u,p,s):new wn(e,n,r,i,u,d||null,p,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>O.empty)}return e}matchesNode(e,n,r){return this.dirty==St&&e.eq(this.node)&&Ps(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,l=s&&s.pos<0,a=new f1(this,o&&o.node,e);m1(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?a.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&a.syncToMarks(u==this.node.childCount?pe.none:this.node.child(u).marks,r,e),a.placeWidget(c,e,i)},(c,u,d,p)=>{a.syncToMarks(c.marks,r,e);let f;a.findNodeMatch(c,u,d,p)||l&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(f=a.findIndexWithChild(s.node))>-1&&a.updateNodeAt(c,u,d,f,e)||a.updateNextNode(c,u,d,e,p,i)||a.addNode(c,u,d,e,i),i+=c.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Jn)&&(o&&this.protectLocalComposition(e,o),kf(this.contentDOM,this.children,e),kr&&g1(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof K)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,l=y1(this.node.content,o,r-n,i-n);return l<0?null:{node:s,pos:l,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new c1(this,s,n,i);e.input.compositionNodes.push(o),this.children=Vl(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Lt||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=St}updateOuterDeco(e){if(Ps(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=wf(this.dom,this.nodeDOM,Rl(this.outerDeco,this.node,n),Rl(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Sf(t,e,n,r,i){_f(r,e,t);let s=new wn(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Ds extends wn{constructor(e,n,r,i,s,o,l){super(e,n,r,i,s,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Lt||this.dirty!=St&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=St||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=St,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Ds(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Lt)}get domAtom(){return!1}isText(e){return this.node.text==e}}class xf extends ki{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==St&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class u1 extends wn{constructor(e,n,r,i,s,o,l,a,c,u){super(e,n,r,i,s,o,l,c,u),this.spec=a}update(e,n,r,i){if(this.dirty==Lt)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function kf(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],l=o.dom;if(l.parentNode==t){for(;l!=r;)r=Cf(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(o instanceof Gn){let a=r?r.previousSibling:t.lastChild;kf(o.contentDOM,o.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=Cf(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const wi=function(t){t&&(this.nodeName=t)};wi.prototype=Object.create(null);const Yn=[new wi];function Rl(t,e,n){if(t.length==0)return Yn;let r=n?Yn[0]:new wi,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new wi(o.nodeName));for(let l in o){let a=o[l];a!=null&&(n&&i.length==1&&i.push(r=new wi(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function wf(t,e,n,r){if(n==Yn&&r==Yn)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],l=n[s];if(s){let a;l&&l.nodeName==o.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==o.nodeName||(a=document.createElement(o.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=Yn[0]),i=a}d1(i,l||Yn[0],o)}return i}function d1(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function _f(t,e,n){return wf(t,t,Yn,Rl(e,n,t.nodeType!=1))}function Ps(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Cf(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class f1{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=p1(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=St,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let c=this.top.children[a];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Gn.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let c=this.top.children[l];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Lt&&o.dom==o.contentDOM&&(o.dirty=Jn),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof wn){let c=this.preMatch.matched.get(a);if(c!=null&&c!=s)return!1;let u=a.dom,d,p=this.isLocked(u)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Lt&&Ps(n,a.outerDeco));if(!p&&a.update(e,n,r,i))return this.destroyBetween(this.index,l),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!p&&(d=this.recreateWrapper(a,e,n,r,i,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Jn,d.updateChildren(i,o+1),d.dirty=St),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Ps(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=wn.create(this.top,n,r,i,s,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let o=wn.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new bf(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Gn;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Ds)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Qe||Ue)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new xf(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function p1(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let l;for(;;)if(r){let c=n.children[r-1];if(c instanceof Gn)n=c,r=c.children.length;else{l=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(i-1))break;--i,s.set(l,i),o.push(l)}}return{index:i,matched:s,matches:o.reverse()}}function h1(t,e){return t.type.side-e.type.side}function m1(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,l=[],a=null;for(let c=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let g=i[o++];g.widget&&(u?(d||(d=[u])).push(g):u=g)}if(u)if(d){d.sort(h1);for(let g=0;g<d.length;g++)n(d[g],c,!!a)}else n(u,c,!!a);let p,f;if(a)f=-1,p=a,a=null;else if(c<t.childCount)f=c,p=t.child(c++);else break;for(let g=0;g<l.length;g++)l[g].to<=s&&l.splice(g--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)l.push(i[o++]);let h=s+p.nodeSize;if(p.isText){let g=h;o<i.length&&i[o].from<g&&(g=i[o].from);for(let v=0;v<l.length;v++)l[v].to<g&&(g=l[v].to);g<h&&(a=p.cut(g-s),p=p.cut(0,g-s),h=g,f=-1)}else for(;o<i.length&&i[o].to<h;)o++;let m=p.isInline&&!p.isLeaf?l.filter(g=>!g.inline):l.slice();r(p,m,e.forChild(s,p),f),s=h}}function g1(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function y1(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),l=s;if(s+=o.nodeSize,!o.isText)continue;let a=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;a+=c.text}if(s>=n){if(s>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let c=l<r?a.lastIndexOf(e,r-l-1):-1;if(c>=0&&c+e.length+l>=n)return l+c;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function Vl(t,e,n,r,i){let s=[];for(let o=0,l=0;o<t.length;o++){let a=t[o],c=l,u=l+=a.size;c>=n||u<=e?s.push(a):(c<e&&s.push(a.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(a.slice(n-c,a.size,r)))}return s}function Ll(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=r.resolve(o),a,c;if(As(n)){for(a=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&z.isSelectable(d)&&i.parent&&!(d.isInline&&Hb(n.focusNode,n.focusOffset,i.dom))){let p=i.posBefore;c=new z(o==p?l:r.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,p=o;for(let f=0;f<n.rangeCount;f++){let h=n.getRangeAt(f);d=Math.min(d,t.docView.posFromDOM(h.startContainer,h.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(h.endContainer,h.endOffset,-1))}if(d<0)return null;[a,o]=p==t.state.selection.anchor?[p,d]:[d,p],l=r.resolve(o)}else a=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let u=r.resolve(a);if(!c){let d=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;c=zl(t,u,l,d)}return c}function Ef(t){return t.editable?t.hasFocus():Df(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Xt(t,e=!1){let n=t.state.selection;if(Mf(t,n),!!Ef(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ue){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Kn(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)b1(t);else{let{anchor:r,head:i}=n,s,o;Tf&&!(n instanceof K)&&(n.$from.parent.inlineContent||(s=Of(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=Of(t,n.to))),t.docView.setSelection(r,i,t,e),Tf&&(s&&Nf(s),o&&Nf(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&v1(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Tf=Qe||Ue&&of<63;function Of(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Qe&&i&&i.contentEditable=="false")return Bl(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Bl(i);if(s)return Bl(s)}}function Bl(t){return t.contentEditable="true",Qe&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Nf(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function v1(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Ef(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function b1(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Le(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&it&&xn<=11&&(n.disabled=!0,n.disabled=!1)}function Mf(t,e){if(e instanceof z){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&($f(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else $f(t)}function $f(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function zl(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||K.between(e,n,r)}function Af(t){return t.editable&&!t.hasFocus()?!1:Df(t)}function Df(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function S1(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Kn(e.node,e.offset,n.anchorNode,n.anchorOffset)}function jl(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Q.findFrom(s,e)}function _n(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Pf(t,e,n){let r=t.state.selection;if(r instanceof K)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return _n(t,new K(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=jl(t.state,e);return i&&i instanceof z?_n(t,i):!1}else if(!(bt&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?z.isSelectable(s)?_n(t,new z(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Si?_n(t,new K(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof z&&r.node.isInline)return _n(t,new K(e>0?r.$to:r.$from));{let i=jl(t.state,e);return i?_n(t,i):!1}}}function Is(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function _i(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function _r(t,e){return e<0?x1(t):k1(t)}function x1(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(vt&&n.nodeType==1&&r<Is(n)&&_i(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(_i(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(If(n))break;{let l=n.previousSibling;for(;l&&_i(l,-1);)i=n.parentNode,s=Le(l),l=l.previousSibling;if(l)n=l,r=Is(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Fl(t,n,r):i&&Fl(t,i,s)}function k1(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Is(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(_i(l,1))s=n,o=++r;else break}else{if(If(n))break;{let l=n.nextSibling;for(;l&&_i(l,1);)s=l.parentNode,o=Le(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Is(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Fl(t,s,o)}function If(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function w1(t,e){for(;t&&e==t.childNodes.length&&!bi(t);)e=Le(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function _1(t,e){for(;t&&!e&&!bi(t);)e=Le(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Fl(t,e,n){if(e.nodeType!=3){let s,o;(o=w1(e,n))?(e=o,n=0):(s=_1(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(As(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Xt(t)},50)}function Rf(t,e){let n=t.state.doc.resolve(e);if(!(Ue||Kb)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Vf(t,e,n){let r=t.state.selection;if(r instanceof K&&!r.empty||n.indexOf("s")>-1||bt&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=jl(t.state,e);if(o&&o instanceof z)return _n(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,l=r instanceof dt?Q.near(o,e):Q.findFrom(o,e);return l?_n(t,l):!1}return!1}function Lf(t,e){if(!(t.state.selection instanceof K))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function Bf(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function C1(t){if(!Qe||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Bf(t,r,"true"),setTimeout(()=>Bf(t,r,"false"),20)}return!1}function E1(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function T1(t,e){let n=e.keyCode,r=E1(e);if(n==8||bt&&n==72&&r=="c")return Lf(t,-1)||_r(t,-1);if(n==46&&!e.shiftKey||bt&&n==68&&r=="c")return Lf(t,1)||_r(t,1);if(n==13||n==27)return!0;if(n==37||bt&&n==66&&r=="c"){let i=n==37?Rf(t,t.state.selection.from)=="ltr"?-1:1:-1;return Pf(t,i,r)||_r(t,i)}else if(n==39||bt&&n==70&&r=="c"){let i=n==39?Rf(t,t.state.selection.from)=="ltr"?1:-1:1;return Pf(t,i,r)||_r(t,i)}else{if(n==38||bt&&n==80&&r=="c")return Vf(t,-1,r)||_r(t,-1);if(n==40||bt&&n==78&&r=="c")return C1(t)||Vf(t,1,r)||_r(t,1);if(r==(bt?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Hl(t,e){t.someProp("transformCopied",f=>{e=f(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let f=r.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),r=f.content}let o=t.someProp("clipboardSerializer")||Un.fromSchema(t.state.schema),l=qf(),a=l.createElement("div");a.appendChild(o.serializeFragment(r,{document:l}));let c=a.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=Wf[c.nodeName.toLowerCase()]);){for(let f=u.length-1;f>=0;f--){let h=l.createElement(u[f]);for(;a.firstChild;)h.appendChild(a.firstChild);a.appendChild(h),d++}c=a.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",f=>f(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:p,slice:e}}function zf(t,e,n,r,i){let s=i.parent.type.spec.code,o,l;if(!n&&!e)return null;let a=!!e&&(r||s||!n);if(a){if(t.someProp("transformPastedText",p=>{e=p(e,s||r,t)}),s)return l=new R(O.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",p=>{l=p(l,t,!0)}),l;let d=t.someProp("clipboardTextParser",p=>p(e,i,r,t));if(d)l=d;else{let p=i.marks(),{schema:f}=t.state,h=Un.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let g=o.appendChild(document.createElement("p"));m&&g.appendChild(h.serializeNode(f.text(m,p)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=$1(n),Si&&A1(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||di.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(a||u),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!O1.test(p.parentNode.nodeName)?{ignore:!0}:null}})),u)l=D1(Uf(l,+u[1],+u[2]),u[4]);else if(l=R.maxOpen(N1(l.content,i),!0),l.openStart||l.openEnd){let d=0,p=0;for(let f=l.content.firstChild;d<l.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=l.content.lastChild;p<l.openEnd&&!f.type.spec.isolating;p++,f=f.lastChild);l=Uf(l,d,p)}return t.someProp("transformPasted",d=>{l=d(l,t,a)}),l}const O1=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function N1(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(l=>{if(!o)return;let a=i.findWrapping(l.type),c;if(!a)return o=null;if(c=o.length&&s.length&&Ff(a,s,l,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=Hf(o[o.length-1],s.length));let u=jf(l,a);o.push(u),i=i.matchType(u.type),s=a}}),o)return O.from(o)}return t}function jf(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,O.from(t));return t}function Ff(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=Ff(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(O.from(jf(n,t,i+1))))}}function Hf(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Hf(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(O.empty,!0);return t.copy(n.append(r))}function Ul(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(s=0),i<r-1&&(l=Ul(l,e,n,r,i+1,s)),i>=n&&(l=e<0?o.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(O.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function Uf(t,e,n){return e<t.openStart&&(t=new R(Ul(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new R(Ul(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Wf={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Kf=null;function qf(){return Kf||(Kf=document.implementation.createHTMLDocument("title"))}let Wl=null;function M1(t){let e=window.trustedTypes;return e?(Wl||(Wl=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Wl.createHTML(t)):t}function $1(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=qf().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Wf[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=M1(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function A1(t){let e=t.querySelectorAll(Ue?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function D1(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=O.from(a.create(r[l+1],i)),s++,o++}return new R(i,s,o)}const Xe={},Ze={},P1={touchstart:!0,touchmove:!0};class I1{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function R1(t){for(let e in Xe){let n=Xe[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{L1(t,r)&&!ql(t,r)&&(t.editable||!(r.type in Ze))&&n(t,r)},P1[e]?{passive:!0}:void 0)}Qe&&t.dom.addEventListener("input",()=>null),Kl(t)}function Cn(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function V1(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Kl(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>ql(t,r))})}function ql(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function L1(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function B1(t,e){!ql(t,e)&&Xe[e.type]&&(t.editable||!(e.type in Ze))&&Xe[e.type](t,e)}Ze.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Gf(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Yt&&Ue&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),kr&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,qn(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||T1(t,n)?n.preventDefault():Cn(t,"key")},Ze.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)},Ze.keypress=(t,e)=>{let n=e;if(Gf(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||bt&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof K)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function Rs(t){return{left:t.clientX,top:t.clientY}}function z1(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Jl(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,l=>o>s.depth?l(t,n,s.nodeAfter,s.before(o),i,!0):l(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Cr(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function j1(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&z.isSelectable(r)?(Cr(t,new z(n)),!0):!1}function F1(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof z&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o);if(z.isSelectable(l)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Cr(t,z.create(t.state.doc,i)),!0):!1}function H1(t,e,n,r,i){return Jl(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?F1(t,n):j1(t,n))}function U1(t,e,n,r){return Jl(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function W1(t,e,n,r){return Jl(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||K1(t,n,r)}function K1(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Cr(t,K.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(o.inlineContent)Cr(t,K.create(r,l+1,l+1+o.content.size));else if(z.isSelectable(o))Cr(t,z.create(r,l));else continue;return!0}}function Gl(t){return Vs(t)}const Jf=bt?"metaKey":"ctrlKey";Xe.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Gl(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&z1(n,t.input.lastClick)&&!n[Jf]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=t.posAtCoords(Rs(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new q1(t,o,n,!!r)):(s=="doubleClick"?U1:W1)(t,o.pos,o.inside,n)?n.preventDefault():Cn(t,"pointer"))};class q1{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Jf],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof z&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&vt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Cn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Xt(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Rs(e))),this.updateAllowDefault(e),this.allowDefault||!n?Cn(this.view,"pointer"):H1(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Qe&&this.mightDrag&&!this.mightDrag.node.isAtom||Ue&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Cr(this.view,Q.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Cn(this.view,"pointer")}move(e){this.updateAllowDefault(e),Cn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Xe.touchstart=t=>{t.input.lastTouch=Date.now(),Gl(t),Cn(t,"pointer")},Xe.touchmove=t=>{t.input.lastTouch=Date.now(),Cn(t,"pointer")},Xe.contextmenu=t=>Gl(t);function Gf(t,e){return t.composing?!0:Qe&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const J1=Yt?5e3:-1;Ze.compositionstart=Ze.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof K&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Vs(t,!0),t.markCursor=null;else if(Vs(t,!e.selection.empty),vt&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}Yf(t,J1)},Ze.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Yf(t,20))};function Yf(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Vs(t),e))}function Qf(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Y1());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function G1(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=jb(e.focusNode,e.focusOffset),r=Fb(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function Y1(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Vs(t,e=!1){if(!(Yt&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Qf(t),e||t.docView&&t.docView.dirty){let n=Ll(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Q1(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Ci=it&&xn<15||kr&&qb<604;Xe.copy=Ze.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Ci?null:n.clipboardData,o=r.content(),{dom:l,text:a}=Hl(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",a)):Q1(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function X1(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Z1(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ei(t,r.value,null,i,e):Ei(t,r.textContent,r.innerHTML,i,e)},50)}function Ei(t,e,n,r,i){let s=zf(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,i,s||R.empty)))return!0;if(!s)return!1;let o=X1(s),l=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Xf(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ze.paste=(t,e)=>{let n=e;if(t.composing&&!Yt)return;let r=Ci?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Ei(t,Xf(r),r.getData("text/html"),i,n)?n.preventDefault():Z1(t,n)};class Zf{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const eS=bt?"altKey":"ctrlKey";function ep(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[eS]}Xe.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Rs(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof z?i.to-1:i.to))){if(r&&r.mightDrag)o=z.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=z.create(t.state.doc,d.posBefore))}}let l=(o||t.state.selection).content(),{dom:a,text:c,slice:u}=Hl(t,l);(!n.dataTransfer.files.length||!Ue||of>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ci?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ci||n.dataTransfer.setData("text/plain",c),t.dragging=new Zf(u,ep(t,n),o)},Xe.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},Ze.dragover=Ze.dragenter=(t,e)=>e.preventDefault(),Ze.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Rs(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",h=>{o=h(o,t,!1)}):o=zf(t,Xf(n.dataTransfer),Ci?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&ep(t,n));if(t.someProp("handleDrop",h=>h(t,n,o||R.empty,l))){n.preventDefault();return}if(!o)return;n.preventDefault();let a=o?Hd(t.state.doc,s.pos,o):s.pos;a==null&&(a=s.pos);let c=t.state.tr;if(l){let{node:h}=r;h?h.replace(c):c.deleteSelection()}let u=c.mapping.map(a),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(p))return;let f=c.doc.resolve(u);if(d&&z.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new z(f));else{let h=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((m,g,v,b)=>h=b),c.setSelection(zl(t,f,c.doc.resolve(h)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))},Xe.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Xt(t)},20))},Xe.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},Xe.beforeinput=(t,e)=>{if(Ue&&Yt&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,qn(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Ze)Xe[t]=Ze[t];function Ti(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Ls{constructor(e,n){this.toDOM=e,this.spec=n||Qn,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new xt(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Ls&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ti(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class En{constructor(e,n){this.attrs=e,this.spec=n||Qn}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new xt(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof En&&Ti(this.attrs,e.attrs)&&Ti(this.spec,e.spec)}static is(e){return e.type instanceof En}destroy(){}}class Yl{constructor(e,n){this.attrs=e,this.spec=n||Qn}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new xt(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof Yl&&Ti(this.attrs,e.attrs)&&Ti(this.spec,e.spec)}destroy(){}}class xt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new xt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new xt(e,e,new Ls(n,r))}static inline(e,n,r,i){return new xt(e,n,new En(r,i))}static node(e,n,r,i){return new xt(e,n,new Yl(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof En}get widget(){return this.type instanceof Ls}}const Er=[],Qn={};class Oe{constructor(e,n){this.local=e.length?e:Er,this.children=n.length?n:Er}static create(e,n){return n.length?Bs(n,e,0,Qn):We}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==We||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Qn)}mapInner(e,n,r,i,s){let o;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(o||(o=[])).push(a):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?tS(this.children,o||[],e,n,r,i,s):o?new Oe(o.sort(Xn),Er):We}add(e,n){return n.length?this==We?Oe.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,a)=>{let c=a+r,u;if(u=np(n,l,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<a;)s+=3;i[s]==a?i[s+2]=i[s+2].addInner(l,u,c+1):i.splice(s,0,a,a+l.nodeSize,Bs(u,l,c+1,Qn)),s+=3}});let o=tp(s?rp(n):n,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new Oe(o.length?this.local.concat(o).sort(Xn):this.local,i||this.children)}remove(e){return e.length==0||this==We?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,l=r[s]+n,a=r[s+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>l&&d.to<a&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,l+1);c!=We?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let l=0;l<i.length;l++)i[l].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Oe(i,r):We}forChild(e,n){if(this==We)return this;if(n.isLeaf)return Oe.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,o=s+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<o&&a.to>s&&a.type instanceof En){let c=Math.max(s,a.from)-s,u=Math.min(o,a.to)-s;c<u&&(i||(i=[])).push(a.copy(c,u))}}if(i){let l=new Oe(i.sort(Xn),Er);return r?new Tn([l,r]):l}return r||We}eq(e){if(this==e)return!0;if(!(e instanceof Oe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Ql(this.localsInner(e))}localsInner(e){if(this==We)return Er;if(e.inlineContent||!this.local.some(En.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof En||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Oe.empty=new Oe([],[]),Oe.removeOverlap=Ql;const We=Oe.empty;class Tn{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Qn));return Tn.from(r)}forChild(e,n){if(n.isLeaf)return Oe.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=We&&(s instanceof Tn?r=r.concat(s.members):r.push(s))}return Tn.from(r)}eq(e){if(!(e instanceof Tn)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?Ql(r?n:n.sort(Xn)):Er}static from(e){switch(e.length){case 0:return We;case 1:return e[0];default:return new Tn(e.every(n=>n instanceof Oe)?e:e.reduce((n,r)=>n.concat(r instanceof Oe?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function tS(t,e,n,r,i,s,o){let l=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((p,f,h,m)=>{let g=m-h-(f-p);for(let v=0;v<l.length;v+=3){let b=l[v+1];if(b<0||p>b+u-d)continue;let E=l[v]+u-d;f>=E?l[v+1]=p<=E?-2:-1:p>=u&&g&&(l[v]+=g,l[v+1]+=g)}d+=g}),u=n.maps[c].map(u,-1)}let a=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){a=!0,l[c+1]=-1;continue}let u=n.map(t[c]+s),d=u-i;if(d<0||d>=r.content.size){a=!0;continue}let p=n.map(t[c+1]+s,-1),f=p-i,{index:h,offset:m}=r.content.findIndex(d),g=r.maybeChild(h);if(g&&m==d&&m+g.nodeSize==f){let v=l[c+2].mapInner(n,g,u+1,t[c]+s+1,o);v!=We?(l[c]=d,l[c+1]=f,l[c+2]=v):(l[c+1]=-2,a=!0)}else a=!0}if(a){let c=nS(l,t,e,n,i,s,o),u=Bs(c,r,0,o);e=u.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,p=0;d<u.children.length;d+=3){let f=u.children[d];for(;p<l.length&&l[p]<f;)p+=3;l.splice(p,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Oe(e.sort(Xn),l)}function tp(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new xt(i.from+e,i.to+e,i.type))}return n}function nS(t,e,n,r,i,s,o){function l(a,c){for(let u=0;u<a.local.length;u++){let d=a.local[u].map(r,i,c);d?n.push(d):o.onRemove&&o.onRemove(a.local[u].spec)}for(let u=0;u<a.children.length;u+=3)l(a.children[u+2],a.children[u]+c+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+s+1);return n}function np(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function rp(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Bs(t,e,n,r){let i=[],s=!1;e.forEach((l,a)=>{let c=np(t,l,a+n);if(c){s=!0;let u=Bs(c,l,n+a+1,r);u!=We&&i.push(a,a+l.nodeSize,u)}});let o=tp(s?rp(t):t,-n).sort(Xn);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new Oe(o,i):We}function Xn(t,e){return t.from-e.from||t.to-e.to}function Ql(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),ip(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),ip(e,i,r.copy(s.from,r.to)));break}}}return e}function ip(t,e,n){for(;e<t.length&&Xn(n,t[e])>0;)e++;t.splice(e,0,n)}function Xl(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=We&&e.push(r)}),t.cursorWrapper&&e.push(Oe.create(t.state.doc,[t.cursorWrapper.deco])),Tn.from(e)}const rS={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},iS=it&&xn<=11;class sS{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class oS{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new sS,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);it&&xn<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),iS&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,rS)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Af(this.view)){if(this.suppressingSelectionUpdates)return Xt(this.view);if(it&&xn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Kn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=xr(s))n.add(s);for(let s=e.anchorNode;s;s=xr(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Af(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,l=!1,a=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],a);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(l=!0))}if(vt&&a.length){let u=a.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,p]=u;d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let p of u){let f=p.parentNode;f&&f.nodeName=="LI"&&(!d||cS(e,d)!=f)&&p.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&As(r)&&(c=Ll(e))&&c.eq(Q.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Xt(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),lS(e)),this.handleDOMChange(s,o,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Xt(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(it&&xn<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:p}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(s=p)}let o=i&&i.parentNode==e.target?Le(i)+1:0,l=r.localPosFromDOM(e.target,o,-1),a=s&&s.parentNode==e.target?Le(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,a,1);return{from:l,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let sp=new WeakMap,op=!1;function lS(t){if(!sp.has(t)&&(sp.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=vt,op)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),op=!0}}function lp(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Kn(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function aS(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return lp(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?lp(t,n):null}function cS(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function uS(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),c,u=a.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:a.anchorOffset}],As(a)||c.push({node:a.focusNode,offset:a.focusOffset})),Ue&&t.input.lastKeyCode===8)for(let g=s;g>i;g--){let v=r.childNodes[g-1],b=v.pmViewDesc;if(v.nodeName=="BR"&&!b){s=g;break}if(!b||b.size)break}let d=t.state.doc,p=t.someProp("domParser")||di.fromSchema(t.state.schema),f=d.resolve(o),h=null,m=p.parse(r,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:dS,context:f});if(c&&c[0].pos!=null){let g=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=g),h={anchor:g+o,head:v+o}}return{doc:m,sel:h,from:o,to:l}}function dS(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Qe&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Qe&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const fS=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function pS(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let $=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,q=Ll(t,$);if(q&&!t.state.selection.eq(q)){if(Ue&&Yt&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",H=>H(t,qn(13,"Enter"))))return;let J=t.state.tr.setSelection(q);$=="pointer"?J.setMeta("pointer",!0):$=="key"&&J.scrollIntoView(),s&&J.setMeta("composition",s),t.dispatch(J)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(n);e=o.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,c=uS(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),p,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,f="end"):(p=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let h=gS(d.content,c.doc.content,c.from,p,f);if(h&&t.input.domChangeCount++,(kr&&t.input.lastIOSEnter>Date.now()-225||Yt)&&i.some($=>$.nodeType==1&&!fS.test($.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",$=>$(t,qn(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&a instanceof K&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))h={start:a.from,endA:a.to,endB:a.to};else{if(c.sel){let $=ap(t,t.state.doc,c.sel);if($&&!$.eq(t.state.selection)){let q=t.state.tr.setSelection($);s&&q.setMeta("composition",s),t.dispatch(q)}}return}t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof K&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),it&&xn<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>c.from&&c.doc.textBetween(h.start-c.from-1,h.start-c.from+1)=="  "&&(h.start--,h.endA--,h.endB--);let m=c.doc.resolveNoCache(h.start-c.from),g=c.doc.resolveNoCache(h.endB-c.from),v=u.resolve(h.start),b=m.sameParent(g)&&m.parent.inlineContent&&v.end()>=h.endA,E;if((kr&&t.input.lastIOSEnter>Date.now()-225&&(!b||i.some($=>$.nodeName=="DIV"||$.nodeName=="P"))||!b&&m.pos<c.doc.content.size&&(!m.sameParent(g)||!m.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(m.pos,g.pos,"",""))&&(E=Q.findFrom(c.doc.resolve(m.pos+1),1,!0))&&E.head>m.pos)&&t.someProp("handleKeyDown",$=>$(t,qn(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&mS(u,h.start,h.endA,m,g)&&t.someProp("handleKeyDown",$=>$(t,qn(8,"Backspace")))){Yt&&Ue&&t.domObserver.suppressSelectionUpdates();return}Ue&&h.endB==h.start&&(t.input.lastChromeDelete=Date.now()),Yt&&!b&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==h.endA&&(h.endB-=2,g=c.doc.resolveNoCache(h.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function($){return $(t,qn(13,"Enter"))})},20));let x=h.start,_=h.endA,N=$=>{let q=$||t.state.tr.replace(x,_,c.doc.slice(h.start-c.from,h.endB-c.from));if(c.sel){let J=ap(t,q.doc,c.sel);J&&!(Ue&&t.composing&&J.empty&&(h.start!=h.endB||t.input.lastChromeDelete<Date.now()-100)&&(J.head==x||J.head==q.mapping.map(_)-1)||it&&J.empty&&J.head==x)&&q.setSelection(J)}return s&&q.setMeta("composition",s),q.scrollIntoView()},T;if(b){if(m.pos==g.pos){it&&xn<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Xt(t),20));let $=N(t.state.tr.delete(x,_)),q=u.resolve(h.start).marksAcross(u.resolve(h.endA));q&&$.ensureMarks(q),t.dispatch($)}else if(h.endA==h.endB&&(T=hS(m.parent.content.cut(m.parentOffset,g.parentOffset),v.parent.content.cut(v.parentOffset,h.endA-v.start())))){let $=N(t.state.tr);T.type=="add"?$.addMark(x,_,T.mark):$.removeMark(x,_,T.mark),t.dispatch($)}else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let $=m.parent.textBetween(m.parentOffset,g.parentOffset),q=()=>N(t.state.tr.insertText($,x,_));t.someProp("handleTextInput",J=>J(t,x,_,$,q))||t.dispatch(q())}}else t.dispatch(N())}function ap(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:zl(t,e.resolve(n.anchor),e.resolve(n.head))}function hS(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,l,a;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],o="add",a=u=>u.mark(l.addToSet(u.marks));else if(i.length==0&&s.length==1)l=s[0],o="remove",a=u=>u.mark(l.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(a(e.child(u)));if(O.from(c).eq(t))return{mark:l,type:o}}function mS(t,e,n,r,i){if(n-e<=i.pos-r.pos||Zl(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(Zl(s,!0,!0));return!o.parent.isTextblock||o.pos>n||Zl(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Zl(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function gS(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,s-Math.min(o,l));r-=o+a-s}if(o<s&&t.size<e.size){let a=r<=s&&r>=o?s-r:0;s-=a,s&&s<e.size&&cp(e.textBetween(s-1,s+1))&&(s+=a?1:-1),l=s+(l-o),o=s}else if(l<s){let a=r<=s&&r>=l?s-r:0;s-=a,s&&s<t.size&&cp(t.textBetween(s-1,s+1))&&(s+=a?1:-1),o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}function cp(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class up{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new I1,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(mp),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=pp(this),fp(this),this.nodeViews=hp(this),this.docView=Sf(this.state.doc,dp(this),Xl(this),this.dom,this),this.domObserver=new oS(this,(r,i,s,o)=>pS(this,r,i,s,o)),this.domObserver.start(),R1(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Kl(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(mp),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(Qf(this),o=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=hp(this);vS(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Kl(this),this.editable=pp(this),fp(this);let a=Xl(this),c=dp(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,a);(d||!e.selection.eq(i.selection))&&(o=!0);let p=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Yb(this);if(o){this.domObserver.stop();let f=d&&(it||Ue)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&yS(i.selection,e.selection);if(d){let h=Ue?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=G1(this)),(s||!this.docView.update(e.doc,c,a,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Sf(e.doc,c,a,this.dom,this)),h&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&S1(this))?Xt(this,f):(Mf(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():p&&Qb(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof z){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&lf(this,n.getBoundingClientRect(),e)}else lf(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new Zf(e.slice,e.move,i<0?void 0:z.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let l=s[o].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(it){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Xb(this.dom),Xt(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return r1(this,e)}coordsAtPos(e,n=1){return pf(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return a1(this,n||this.state,e)}pasteHTML(e,n){return Ei(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Ei(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Hl(this,e)}destroy(){this.docView&&(V1(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Xl(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Bb())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return B1(this,e)}domSelectionRange(){let e=this.domSelection();return e?Qe&&this.root.nodeType===11&&Ub(this.dom.ownerDocument)==this.dom&&aS(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}up.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function dp(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[xt.node(0,t.state.doc.content.size,e)]}function fp(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:xt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function pp(t){return!t.someProp("editable",e=>e(t.state)===!1)}function yS(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function hp(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function vS(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function mp(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var On={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},zs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},bS=typeof navigator<"u"&&/Mac/.test(navigator.platform),SS=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Be=0;Be<10;Be++)On[48+Be]=On[96+Be]=String(Be);for(var Be=1;Be<=24;Be++)On[Be+111]="F"+Be;for(var Be=65;Be<=90;Be++)On[Be]=String.fromCharCode(Be+32),zs[Be]=String.fromCharCode(Be);for(var ea in On)zs.hasOwnProperty(ea)||(zs[ea]=On[ea]);function xS(t){var e=bS&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||SS&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?zs:On)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const kS=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),wS=typeof navigator<"u"&&/Win/.test(navigator.platform);function _S(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))kS?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function CS(t){let e=Object.create(null);for(let n in t)e[_S(n)]=t[n];return e}function ta(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function ES(t){return new Ye({props:{handleKeyDown:gp(t)}})}function gp(t){let e=CS(t);return function(n,r){let i=xS(r),s,o=e[ta(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[ta(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(wS&&r.ctrlKey&&r.altKey)&&(s=On[r.keyCode])&&s!=i){let l=e[ta(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const na=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function yp(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const vp=(t,e,n)=>{let r=yp(t,n);if(!r)return!1;let i=ra(r);if(!i){let o=r.blockRange(),l=o&&gr(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(Tp(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Tr(s,"end")||z.isSelectable(s)))for(let o=r.depth;;o--){let l=Ns(t.doc,r.before(o),r.after(o),R.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=t.tr.step(l);a.setSelection(Tr(s,"end")?Q.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):z.create(a.doc,i.pos-s.nodeSize)),e(a.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},TS=(t,e,n)=>{let r=yp(t,n);if(!r)return!1;let i=ra(r);return i?bp(t,i,e):!1},OS=(t,e,n)=>{let r=xp(t,n);if(!r)return!1;let i=ia(r);return i?bp(t,i,e):!1};function bp(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,l=o,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let u=l.firstChild;if(!u)return!1;l=u}let c=Ns(t.doc,s,a,R.empty);if(!c||c.from!=s||c instanceof Me&&c.slice.size>=a-s)return!1;if(n){let u=t.tr.step(c);u.setSelection(K.create(u.doc,s)),n(u.scrollIntoView())}return!0}function Tr(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Sp=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=ra(r)}let o=s&&s.nodeBefore;return!o||!z.isSelectable(o)?!1:(e&&e(t.tr.setSelection(z.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function ra(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function xp(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const kp=(t,e,n)=>{let r=xp(t,n);if(!r)return!1;let i=ia(r);if(!i)return!1;let s=i.nodeAfter;if(Tp(t,i,e,1))return!0;if(r.parent.content.size==0&&(Tr(s,"start")||z.isSelectable(s))){let o=Ns(t.doc,r.before(),r.after(),R.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Tr(s,"start")?Q.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):z.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},wp=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=ia(r)}let o=s&&s.nodeAfter;return!o||!z.isSelectable(o)?!1:(e&&e(t.tr.setSelection(z.create(t.doc,s.pos)).scrollIntoView()),!0)};function ia(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const NS=(t,e)=>{let n=t.selection,r=n instanceof z,i;if(r){if(n.node.isTextblock||!bn(t.doc,n.from))return!1;i=n.from}else if(i=Os(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(z.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},MS=(t,e)=>{let n=t.selection,r;if(n instanceof z){if(n.node.isTextblock||!bn(t.doc,n.to))return!1;r=n.to}else if(r=Os(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},$S=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&gr(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},_p=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function sa(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const AS=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=sa(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,o.createAndFill());a.setSelection(Q.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},Cp=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof dt||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=sa(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(o,s.createAndFill());l.setSelection(K.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},Ep=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Jt(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&gr(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function DS(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof z&&e.selection.node.isBlock)return!r.parentOffset||!Jt(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,l,a=!1,c=!1;for(let f=r.depth;;f--)if(r.node(f).isBlock){a=r.end(f)==r.pos+(r.depth-f),c=r.start(f)==r.pos-(r.depth-f),l=sa(r.node(f-1).contentMatchAt(r.indexAfter(f-1))),s.unshift(a&&l?{type:l}:null),o=f;break}else{if(f==1)return!1;s.unshift(null)}let u=e.tr;(e.selection instanceof K||e.selection instanceof dt)&&u.deleteSelection();let d=u.mapping.map(r.pos),p=Jt(u.doc,d,s.length,s);if(p||(s[0]=l?{type:l}:null,p=Jt(u.doc,d,s.length,s)),!p)return!1;if(u.split(d,s.length,s),!a&&c&&r.node(o).type!=l){let f=u.mapping.map(r.before(o)),h=u.doc.resolve(f);l&&r.node(o-1).canReplaceWith(h.index(),h.index()+1,l)&&u.setNodeMarkup(u.mapping.map(r.before(o)),l)}return n&&n(u.scrollIntoView()),!0}}const PS=DS(),IS=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(z.create(t.doc,i))),!0)};function RS(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||bn(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function Tp(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,l,a=i.type.spec.isolating||s.type.spec.isolating;if(!a&&RS(t,e,n))return!0;let c=!a&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(o[0]||s.type).validEnd){if(n){let f=e.pos+s.nodeSize,h=O.empty;for(let v=o.length-1;v>=0;v--)h=O.from(o[v].create(null,h));h=O.from(i.copy(h));let m=t.tr.step(new $e(e.pos-1,f,e.pos,f,new R(h,1,0),o.length,!0)),g=m.doc.resolve(f+2*o.length);g.nodeAfter&&g.nodeAfter.type==i.type&&bn(m.doc,g.pos)&&m.join(g.pos),n(m.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&a?null:Q.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),p=d&&gr(d);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(d,p).scrollIntoView()),!0;if(c&&Tr(s,"start",!0)&&Tr(i,"end")){let f=i,h=[];for(;h.push(f),!f.isTextblock;)f=f.lastChild;let m=s,g=1;for(;!m.isTextblock;m=m.firstChild)g++;if(f.canReplace(f.childCount,f.childCount,m.content)){if(n){let v=O.empty;for(let E=h.length-1;E>=0;E--)v=O.from(h[E].copy(v));let b=t.tr.step(new $e(e.pos-h.length,e.pos+s.nodeSize,e.pos+g,e.pos+s.nodeSize-g,new R(v,h.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function Op(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(K.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const VS=Op(-1),LS=Op(1);function BS(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),l=o&&wl(o,t,e);return l?(r&&r(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function Np(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(o,l,(a,c)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[o];s.setBlockType(l,a,t,e)}r(s.scrollIntoView())}return!0}}function oa(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}oa(na,vp,Sp),oa(na,kp,wp),oa(_p,Cp,Ep,PS),typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function zS(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let l=r?n.tr:null;return jS(l,o,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function jS(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let a=o.resolve(e.start-2);s=new ks(a,a,e.depth),e.endIndex<e.parent.childCount&&(e=new ks(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=wl(s,n,r,e);return l?(t&&FS(t,e,l,i,n),!0):!1}function FS(t,e,n,r,i){let s=O.empty;for(let u=n.length-1;u>=0;u--)s=O.from(n[u].type.create(n[u].attrs,s));t.step(new $e(e.start-(r?2:0),e.end,e.start,e.end,new R(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let l=n.length-o,a=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,p=!0;u<d;u++,p=!1)!p&&Jt(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=c.child(u).nodeSize;return t}function HS(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?US(e,n,t,s):WS(e,n,s):!0:!1}}function US(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new $e(s-1,o,s,o,new R(O.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new ks(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const l=gr(r);if(l==null)return!1;i.lift(r,l);let a=i.doc.resolve(i.mapping.map(s,-1)-1);return bn(i.doc,a.pos)&&a.nodeBefore.type==a.nodeAfter.type&&i.join(a.pos),e(i.scrollIntoView()),!0}function WS(t,e,n){let r=t.tr,i=n.parent;for(let f=n.end,h=n.endIndex-1,m=n.startIndex;h>m;h--)f-=i.child(h).nodeSize,r.delete(f-1,f+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(l?0:1),u+1,o.content.append(a?O.empty:O.from(i))))return!1;let d=s.pos,p=d+o.nodeSize;return r.step(new $e(d-(l?1:0),p+(a?1:0),d+1,p-1,new R((l?O.empty:O.from(i.copy(O.empty))).append(a?O.empty:O.from(i.copy(O.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function KS(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let l=s.parent,a=l.child(o-1);if(a.type!=t)return!1;if(n){let c=a.lastChild&&a.lastChild.type==l.type,u=O.from(c?t.create():null),d=new R(O.from(t.create(null,O.from(l.type.create(null,u)))),c?3:1,0),p=s.start,f=s.end;n(e.tr.step(new $e(p-(c?3:1),f,p,f,d,1,!0)).scrollIntoView())}return!0}}function js(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class Fs{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...u)=>{const d=a(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l=[],a=!!e,c=e||s.tr,u=()=>(!a&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),l.every(p=>p===!0)),d={...Object.fromEntries(Object.entries(r).map(([p,f])=>[p,(...m)=>{const g=this.buildProps(c,n),v=f(...m)(g);return l.push(v),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l={tr:e,editor:i,view:o,state:js({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,c])=>[a,(...u)=>c(...u)(l)]))}};return l}}class qS{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function L(t,e,n){return t.config[e]===void 0&&t.parent?L(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?L(t.parent,e,n):null}):t.config[e]}function Hs(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Mp(t){const e=[],{nodeExtensions:n,markExtensions:r}=Hs(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:i},a=L(o,"addGlobalAttributes",l);if(!a)return;a().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([p,f])=>{e.push({type:d,name:p,attribute:{...s,...f}})})})})}),i.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=L(o,"addAttributes",l);if(!a)return;const c=a();Object.entries(c).forEach(([u,d])=>{const p={...s,...d};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:o.name,name:u,attribute:p})})}),e}function Ae(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function ze(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?String(s).split(" "):[],a=r[i]?r[i].split(" "):[],c=l.filter(u=>!a.includes(u));r[i]=[...a,...c].join(" ")}else if(i==="style"){const l=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],a=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;a.forEach(u=>{const[d,p]=u.split(":").map(f=>f.trim());c.set(d,p)}),l.forEach(u=>{const[d,p]=u.split(":").map(f=>f.trim());c.set(d,p)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=s}),r},{})}function la(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>ze(n,r),{})}function $p(t){return typeof t=="function"}function te(t,e=void 0,...n){return $p(t)?e?t.bind(e)(...n):t(...n):t}function JS(t={}){return Object.keys(t).length===0&&t.constructor===Object}function GS(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Ap(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):GS(n.getAttribute(o.name));return l==null?s:{...s,[o.name]:l}},{});return{...r,...i}}}}function Dp(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&JS(n)?!1:n!=null))}function YS(t,e){var n;const r=Mp(t),{nodeExtensions:i,markExtensions:s}=Hs(t),o=(n=i.find(c=>L(c,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((v,b)=>{const E=L(b,"extendNodeSchema",d);return{...v,...E?E(c):{}}},{}),f=Dp({...p,content:te(L(c,"content",d)),marks:te(L(c,"marks",d)),group:te(L(c,"group",d)),inline:te(L(c,"inline",d)),atom:te(L(c,"atom",d)),selectable:te(L(c,"selectable",d)),draggable:te(L(c,"draggable",d)),code:te(L(c,"code",d)),whitespace:te(L(c,"whitespace",d)),linebreakReplacement:te(L(c,"linebreakReplacement",d)),defining:te(L(c,"defining",d)),isolating:te(L(c,"isolating",d)),attrs:Object.fromEntries(u.map(v=>{var b;return[v.name,{default:(b=v==null?void 0:v.attribute)===null||b===void 0?void 0:b.default}]}))}),h=te(L(c,"parseHTML",d));h&&(f.parseDOM=h.map(v=>Ap(v,u)));const m=L(c,"renderHTML",d);m&&(f.toDOM=v=>m({node:v,HTMLAttributes:la(v,u)}));const g=L(c,"renderText",d);return g&&(f.toText=g),[c.name,f]})),a=Object.fromEntries(s.map(c=>{const u=r.filter(g=>g.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((g,v)=>{const b=L(v,"extendMarkSchema",d);return{...g,...b?b(c):{}}},{}),f=Dp({...p,inclusive:te(L(c,"inclusive",d)),excludes:te(L(c,"excludes",d)),group:te(L(c,"group",d)),spanning:te(L(c,"spanning",d)),code:te(L(c,"code",d)),attrs:Object.fromEntries(u.map(g=>{var v;return[g.name,{default:(v=g==null?void 0:g.attribute)===null||v===void 0?void 0:v.default}]}))}),h=te(L(c,"parseHTML",d));h&&(f.parseDOM=h.map(g=>Ap(g,u)));const m=L(c,"renderHTML",d);return m&&(f.toDOM=g=>m({mark:g,HTMLAttributes:la(g,u)})),[c.name,f]}));return new wd({topNode:o,nodes:l,marks:a})}function aa(t,e){return e.nodes[t]||e.marks[t]||null}function Pp(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function ca(t,e){const n=Un.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const QS=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,l)=>{var a,c;const u=((c=(a=i.type.spec).toText)===null||c===void 0?void 0:c.call(a,{node:i,pos:s,parent:o,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-s))}),n};function ua(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Us{constructor(e){this.find=e.find,this.handler=e.handler}}const XS=(t,e)=>{if(ua(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Ws(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const c=a.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let u=!1;const d=QS(c)+s;return o.forEach(p=>{if(u)return;const f=XS(d,p.find);if(!f)return;const h=a.state.tr,m=js({state:a.state,transaction:h}),g={from:r-(f[0].length-s.length),to:i},{commands:v,chain:b,can:E}=new Fs({editor:n,state:m});p.handler({state:m,range:g,match:f,commands:v,chain:b,can:E})===null||!h.steps.length||(h.setMeta(l,{transform:h,from:r,to:i,text:s}),a.dispatch(h),u=!0)}),u}function ZS(t){const{editor:e,rules:n}=t,r=new Ye({state:{init(){return null},apply(i,s,o){const l=i.getMeta(r);if(l)return l;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{let{text:u}=a;typeof u=="string"?u=u:u=ca(O.from(u),o.schema);const{from:d}=a,p=d+u.length;Ws({editor:e,from:d,to:p,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,l){return Ws({editor:e,from:s,to:o,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Ws({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Ws({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function ex(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ks(t){return ex(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function qs(t,e){const n={...t};return Ks(t)&&Ks(e)&&Object.keys(e).forEach(r=>{Ks(e[r])&&Ks(t[r])?n[r]=qs(t[r],e[r]):n[r]=e[r]}),n}class Bt{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=te(L(this,"addOptions",{name:this.name}))),this.storage=te(L(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Bt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>qs(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Bt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=te(L(n,"addOptions",{name:n.name})),n.storage=te(L(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const a=o.find(c=>(c==null?void 0:c.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function tx(t){return typeof t=="number"}class nx{constructor(e){this.find=e.find,this.handler=e.handler}}const rx=(t,e,n)=>{if(ua(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function ix(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:l}=t,{commands:a,chain:c,can:u}=new Fs({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(f,h)=>{if(!f.isTextblock||f.type.spec.code)return;const m=Math.max(r,h),g=Math.min(i,h+f.content.size),v=f.textBetween(m-h,g-h,void 0,"￼");rx(v,s.find,o).forEach(E=>{if(E.index===void 0)return;const x=m+E.index+1,_=x+E[0].length,N={from:n.tr.mapping.map(x),to:n.tr.mapping.map(_)},T=s.handler({state:n,range:N,match:E,commands:a,chain:c,can:u,pasteEvent:o,dropEvent:l});d.push(T)})}),d.every(f=>f!==null)}let Js=null;const sx=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function ox(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const a=({state:u,from:d,to:p,rule:f,pasteEvt:h})=>{const m=u.tr,g=js({state:u,transaction:m});if(!(!ix({editor:e,state:g,from:Math.max(d-1,0),to:p.b-1,rule:f,pasteEvent:h,dropEvent:l})||!m.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return n.map(u=>new Ye({view(d){const p=h=>{var m;r=!((m=d.dom.parentElement)===null||m===void 0)&&m.contains(h.target)?d.dom.parentElement:null,r&&(Js=e)},f=()=>{Js&&(Js=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(d,p)=>{if(s=r===d.dom.parentElement,l=p,!s){const f=Js;f!=null&&f.isEditable&&setTimeout(()=>{const h=f.state.selection;h&&f.commands.deleteRange({from:h.from,to:h.to})},10)}return!1},paste:(d,p)=>{var f;const h=(f=p.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return o=p,i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(d,p,f)=>{const h=d[0],m=h.getMeta("uiEvent")==="paste"&&!i,g=h.getMeta("uiEvent")==="drop"&&!s,v=h.getMeta("applyPasteRules"),b=!!v;if(!m&&!g&&!b)return;if(b){let{text:_}=v;typeof _=="string"?_=_:_=ca(O.from(_),f.schema);const{from:N}=v,T=N+_.length,$=sx(_);return a({rule:u,state:f,from:N,to:{b:T},pasteEvt:$})}const E=p.doc.content.findDiffStart(f.doc.content),x=p.doc.content.findDiffEnd(f.doc.content);if(!(!tx(E)||!x||E===x.b))return a({rule:u,state:f,from:E,to:x,pasteEvt:o})}}))}function lx(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Or{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Or.resolve(e),this.schema=YS(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Or.sort(Or.flatten(e)),r=lx(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=L(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=L(r,"priority")||100,o=L(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:aa(n.name,this.schema)},i=L(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Or.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const l={name:o.name,options:o.options,storage:o.storage,editor:e,type:aa(o.name,this.schema)},a=[],c=L(o,"addKeyboardShortcuts",l);let u={};if(o.type==="mark"&&L(o,"exitable",l)&&(u.ArrowRight=()=>Bt.handleExit({editor:e,mark:o})),c){const m=Object.fromEntries(Object.entries(c()).map(([g,v])=>[g,()=>v({editor:e})]));u={...u,...m}}const d=ES(u);a.push(d);const p=L(o,"addInputRules",l);Pp(o,e.options.enableInputRules)&&p&&r.push(...p());const f=L(o,"addPasteRules",l);Pp(o,e.options.enablePasteRules)&&f&&i.push(...f());const h=L(o,"addProseMirrorPlugins",l);if(h){const m=h();a.push(...m)}return a}).flat();return[ZS({editor:e,rules:r}),...ox({editor:e,rules:i}),...s]}get attributes(){return Mp(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Hs(this.extensions);return Object.fromEntries(n.filter(r=>!!L(r,"addNodeView")).map(r=>{const i=this.attributes.filter(a=>a.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Ae(r.name,this.schema)},o=L(r,"addNodeView",s);if(!o)return[];const l=(a,c,u,d,p)=>{const f=la(a,i);return o()({node:a,view:c,getPos:u,decorations:d,innerDecorations:p,editor:e,extension:r,HTMLAttributes:f})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:aa(e.name,this.schema)};e.type==="mark"&&(!((n=te(L(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=L(e,"onBeforeCreate",r),s=L(e,"onCreate",r),o=L(e,"onUpdate",r),l=L(e,"onSelectionUpdate",r),a=L(e,"onTransaction",r),c=L(e,"onFocus",r),u=L(e,"onBlur",r),d=L(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class je{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=te(L(this,"addOptions",{name:this.name}))),this.storage=te(L(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new je(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>qs(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new je({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=te(L(n,"addOptions",{name:n.name})),n.storage=te(L(n,"addStorage",{name:n.name,options:n.options})),n}}function Ip(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let l="";return t.nodesBetween(r,i,(a,c,u,d)=>{var p;a.isBlock&&c>r&&(l+=s);const f=o==null?void 0:o[a.type.name];if(f)return u&&(l+=f({node:a,pos:c,parent:u,index:d,range:e})),!1;a.isText&&(l+=(p=a==null?void 0:a.text)===null||p===void 0?void 0:p.slice(Math.max(r,c)-c,i-c))}),l}function Rp(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const ax=je.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ye({key:new Tt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),l=Math.max(...s.map(u=>u.$to.pos)),a=Rp(n);return Ip(r,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),cx=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),ux=(t=!1)=>({commands:e})=>e.setContent("",t),dx=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(l,a)=>{if(l.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(a)),p=c.resolve(u.map(a+l.nodeSize)),f=d.blockRange(p);if(!f)return;const h=gr(f);if(l.type.isTextblock){const{defaultType:m}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(f.start,m)}(h||h===0)&&e.lift(f,h)})}),!0},fx=t=>e=>t(e),px=()=>({state:t,dispatch:e})=>Cp(t,e),hx=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new K(r.doc.resolve(Math.max(o-1,0)))),!0},mx=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),a=i.after(s);t.delete(l,a).scrollIntoView()}return!0}return!1},gx=t=>({tr:e,state:n,dispatch:r})=>{const i=Ae(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const a=s.before(o),c=s.after(o);e.delete(a,c).scrollIntoView()}return!0}return!1},yx=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},vx=()=>({state:t,dispatch:e})=>na(t,e),bx=()=>({commands:t})=>t.keyboardShortcut("Enter"),Sx=()=>({state:t,dispatch:e})=>AS(t,e);function Gs(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:ua(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Vp(t,e,n={}){return t.find(r=>r.type===e&&Gs(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function Lp(t,e,n={}){return!!Vp(t,e,n)}function da(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!Vp([...i.node.marks],e,n)))return;let o=i.index,l=t.start()+i.offset,a=o+1,c=l+i.node.nodeSize;for(;o>0&&Lp([...t.parent.child(o-1).marks],e,n);)o-=1,l-=t.parent.child(o).nodeSize;for(;a<t.parent.childCount&&Lp([...t.parent.child(a).marks],e,n);)c+=t.parent.child(a).nodeSize,a+=1;return{from:l,to:c}}function Nn(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const xx=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Nn(t,r.schema),{doc:o,selection:l}=n,{$from:a,from:c,to:u}=l;if(i){const d=da(a,s,e);if(d&&d.from<=c&&d.to>=u){const p=K.create(o,d.from,d.to);n.setSelection(p)}}return!0},kx=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Bp(t){return t instanceof K}function Zn(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function zp(t,e=null){if(!e)return null;const n=Q.atStart(t),r=Q.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?K.create(t,Zn(0,i,s),Zn(t.content.size,i,s)):K.create(t,Zn(e,i,s),Zn(e,i,s))}function wx(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function fa(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const _x=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(fa()||wx())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!Bp(n.state.selection))return o(),!0;const l=zp(i.doc,t)||n.state.selection,a=n.state.selection.eq(l);return s&&(a||i.setSelection(l),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},Cx=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),Ex=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),jp=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&jp(r)}return t};function Ys(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return jp(n)}function Oi(t,e,n){if(t instanceof gn||t instanceof O)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return O.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Oi("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,l="";const a=new wd({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,l=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?di.fromSchema(a).parseSlice(Ys(t),n.parseOptions):di.fromSchema(a).parse(Ys(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=di.fromSchema(e);return n.slice?s.parseSlice(Ys(t),n.parseOptions).content:s.parse(Ys(t),n.parseOptions)}return Oi("",e,n)}function Tx(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Me||i instanceof $e))return;const s=t.mapping.maps[r];let o=0;s.forEach((l,a,c,u)=>{o===0&&(o=u)}),t.setSelection(Q.near(t.doc.resolve(o),n))}const Ox=t=>!("type"in t),Nx=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const a=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Oi(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){a(g)}try{l=Oi(e,s.schema,{parseOptions:c,errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(g){return a(g),!1}let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,f=!0;if((Ox(l)?l:[l]).forEach(g=>{g.check(),p=p?g.isText&&g.marks.length===0:!1,f=f?g.isBlock:!1}),u===d&&f){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let m;if(p){if(Array.isArray(e))m=e.map(g=>g.text||"").join("");else if(e instanceof O){let g="";e.forEach(v=>{v.text&&(g+=v.text)}),m=g}else typeof e=="object"&&e&&e.text?m=e.text:m=e;r.insertText(m,u,d)}else m=l,r.replaceWith(u,d,m);n.updateSelection&&Tx(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:m}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:m})}return!0},Mx=()=>({state:t,dispatch:e})=>NS(t,e),$x=()=>({state:t,dispatch:e})=>MS(t,e),Ax=()=>({state:t,dispatch:e})=>vp(t,e),Dx=()=>({state:t,dispatch:e})=>kp(t,e),Px=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Os(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Ix=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Os(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Rx=()=>({state:t,dispatch:e})=>TS(t,e),Vx=()=>({state:t,dispatch:e})=>OS(t,e);function Fp(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Lx(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))fa()||Fp()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const Bx=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=Lx(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,l))});return a==null||a.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Ni(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?Ae(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(d,p)=>{if(d.isText)return;const f=Math.max(r,p),h=Math.min(i,p+d.nodeSize);l.push({node:d,from:f,to:h})});const a=i-r,c=l.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>Gs(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,p)=>d+p.to-p.from,0)>=a}const zx=(t,e={})=>({state:n,dispatch:r})=>{const i=Ae(t,n.schema);return Ni(n,i,e)?$S(n,r):!1},jx=()=>({state:t,dispatch:e})=>Ep(t,e),Fx=t=>({state:e,dispatch:n})=>{const r=Ae(t,e.schema);return HS(r)(e,n)},Hx=()=>({state:t,dispatch:e})=>_p(t,e);function Qs(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Hp(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const Ux=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const l=Qs(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=Ae(t,r.schema)),l==="mark"&&(o=Nn(t,r.schema)),i&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,Hp(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(Hp(d.attrs,e)))})})}),!0):!1},Wx=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Kx=()=>({tr:t,dispatch:e})=>{if(e){const n=new dt(t.doc);t.setSelection(n)}return!0},qx=()=>({state:t,dispatch:e})=>Sp(t,e),Jx=()=>({state:t,dispatch:e})=>wp(t,e),Gx=()=>({state:t,dispatch:e})=>IS(t,e),Yx=()=>({state:t,dispatch:e})=>LS(t,e),Qx=()=>({state:t,dispatch:e})=>VS(t,e);function pa(t,e,n={},r={}){return Oi(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const Xx=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:o,commands:l})=>{var a,c;const{doc:u}=s;if(n.preserveWhitespace!=="full"){const d=pa(t,i.schema,n,{errorOnInvalidContent:(a=r.errorOnInvalidContent)!==null&&a!==void 0?a:i.options.enableContentCheck});return o&&s.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function Up(t,e){const n=Nn(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,a=>{o.push(...a.marks)});const l=o.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function Zx(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ek(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function ha(t){return e=>ek(e.$from,t)}function tk(t,e){const n={from:0,to:t.content.size};return Ip(t,n,e)}function nk(t,e){const n=Ae(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const o=s.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function rk(t,e){const n=Qs(typeof e=="string"?e:e.name,t.schema);return n==="node"?nk(t,e):n==="mark"?Up(t,e):{}}function Wp(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=da(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function Xs(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function ma(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Nn(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Gs(d.attrs,n,{strict:!1}));let o=0;const l=[];if(i.forEach(({$from:d,$to:p})=>{const f=d.pos,h=p.pos;t.doc.nodesBetween(f,h,(m,g)=>{if(!m.isText&&!m.marks.length)return;const v=Math.max(f,g),b=Math.min(h,g+m.nodeSize),E=b-v;o+=E,l.push(...m.marks.map(x=>({mark:x,from:v,to:b})))})}),o===0)return!1;const a=l.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Gs(d.mark.attrs,n,{strict:!1})).reduce((d,p)=>d+p.to-p.from,0),c=l.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,p)=>d+p.to-p.from,0);return(a>0?a+c:a)>=o}function ik(t,e,n={}){if(!e)return Ni(t,null,n)||ma(t,null,n);const r=Qs(e,t.schema);return r==="node"?Ni(t,e,n):r==="mark"?ma(t,e,n):!1}function Kp(t,e){const{nodeExtensions:n}=Hs(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=te(L(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function ga(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(ga(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function sk(t){return t instanceof z}function ok(t,e,n){var r;const{selection:i}=e;let s=null;if(Bp(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:l,$to:a})=>{let c=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(u,d,p)=>{if(c)return!1;if(u.isInline){const f=!p||p.type.allowsMarkType(n),h=!!n.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(n));c=f&&h}return!c}),c})}const lk=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:l}=s,a=Nn(t,r.schema);if(i)if(o){const c=Up(r,a);n.addStoredMark(a.create({...c,...e}))}else l.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(p,f)=>{const h=Math.max(f,u),m=Math.min(f+p.nodeSize,d);p.marks.find(v=>v.type===a)?p.marks.forEach(v=>{a===v.type&&n.addMark(h,m,a.create({...v.attrs,...e}))}):n.addMark(h,m,a.create(e))})});return ok(r,n,a)},ak=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),ck=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Ae(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>Np(s,{...o,...e})(n)?!0:l.clearNodes()).command(({state:l})=>Np(s,{...o,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},uk=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Zn(t,0,r.content.size),s=z.create(r,i);e.setSelection(s)}return!0},dk=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=K.atStart(r).from,l=K.atEnd(r).to,a=Zn(i,o,l),c=Zn(s,o,l),u=K.create(r,a,c);e.setSelection(u)}return!0},fk=t=>({state:e,dispatch:n})=>{const r=Ae(t,e.schema);return KS(r)(e,n)};function qp(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const pk=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:l,$to:a}=s,c=i.extensionManager.attributes,u=Xs(c,l.node().type.name,l.node().attrs);if(s instanceof z&&s.node.isBlock)return!l.parentOffset||!Jt(o,l.pos)?!1:(r&&(t&&qp(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const d=a.parentOffset===a.parent.content.size,p=l.depth===0?void 0:Zx(l.node(-1).contentMatchAt(l.indexAfter(-1)));let f=d&&p?[{type:p,attrs:u}]:void 0,h=Jt(e.doc,e.mapping.map(l.pos),1,f);if(!f&&!h&&Jt(e.doc,e.mapping.map(l.pos),1,p?[{type:p}]:void 0)&&(h=!0,f=p?[{type:p,attrs:u}]:void 0),r){if(h&&(s instanceof K&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,f),p&&!d&&!l.parentOffset&&l.parent.type!==p)){const m=e.mapping.map(l.before()),g=e.doc.resolve(m);l.node(-1).canReplaceWith(g.index(),g.index()+1,p)&&e.setNodeMarkup(e.mapping.map(l.before()),p)}t&&qp(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return h},hk=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const l=Ae(t,r.schema),{$from:a,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(c))return!1;const d=a.node(-1);if(d.type!==l)return!1;const p=s.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==l||a.index(-2)!==a.node(-2).childCount-1)return!1;if(i){let v=O.empty;const b=a.index(-1)?1:a.index(-2)?2:3;for(let $=a.depth-b;$>=a.depth-3;$-=1)v=O.from(a.node($).copy(v));const E=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,x={...Xs(p,a.node().type.name,a.node().attrs),...e},_=((o=l.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(x))||void 0;v=v.append(O.from(l.createAndFill(null,_)||void 0));const N=a.before(a.depth-(b-1));n.replace(N,a.after(-E),new R(v,4-b,0));let T=-1;n.doc.nodesBetween(N,n.doc.content.size,($,q)=>{if(T>-1)return!1;$.isTextblock&&$.content.size===0&&(T=q+1)}),T>-1&&n.setSelection(K.near(n.doc.resolve(T))),n.scrollIntoView()}return!0}const f=c.pos===a.end()?d.contentMatchAt(0).defaultType:null,h={...Xs(p,d.type.name,d.attrs),...e},m={...Xs(p,a.node().type.name,a.node().attrs),...e};n.delete(a.pos,c.pos);const g=f?[{type:l,attrs:h},{type:f,attrs:m}]:[{type:l,attrs:h}];if(!Jt(n.doc,a.pos,2))return!1;if(i){const{selection:v,storedMarks:b}=r,{splittableMarks:E}=s.extensionManager,x=b||v.$to.parentOffset&&v.$from.marks();if(n.split(a.pos,2,g).scrollIntoView(),!x||!i)return!0;const _=x.filter(N=>E.includes(N.type.name));n.ensureMarks(_)}return!0},ya=(t,e)=>{const n=ha(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&bn(t.doc,n.pos)&&t.join(n.pos),!0},va=(t,e)=>{const n=ha(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&bn(t.doc,r)&&t.join(r),!0};var mk=Object.freeze({__proto__:null,blur:cx,clearContent:ux,clearNodes:dx,command:fx,createParagraphNear:px,cut:hx,deleteCurrentNode:mx,deleteNode:gx,deleteRange:yx,deleteSelection:vx,enter:bx,exitCode:Sx,extendMarkRange:xx,first:kx,focus:_x,forEach:Cx,insertContent:Ex,insertContentAt:Nx,joinBackward:Ax,joinDown:$x,joinForward:Dx,joinItemBackward:Px,joinItemForward:Ix,joinTextblockBackward:Rx,joinTextblockForward:Vx,joinUp:Mx,keyboardShortcut:Bx,lift:zx,liftEmptyBlock:jx,liftListItem:Fx,newlineInCode:Hx,resetAttributes:Ux,scrollIntoView:Wx,selectAll:Kx,selectNodeBackward:qx,selectNodeForward:Jx,selectParentNode:Gx,selectTextblockEnd:Yx,selectTextblockStart:Qx,setContent:Xx,setMark:lk,setMeta:ak,setNode:ck,setNodeSelection:uk,setTextSelection:dk,sinkListItem:fk,splitBlock:pk,splitListItem:hk,toggleList:(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:l,chain:a,commands:c,can:u})=>{const{extensions:d,splittableMarks:p}=i.extensionManager,f=Ae(t,o.schema),h=Ae(e,o.schema),{selection:m,storedMarks:g}=o,{$from:v,$to:b}=m,E=v.blockRange(b),x=g||m.$to.parentOffset&&m.$from.marks();if(!E)return!1;const _=ha(N=>Kp(N.type.name,d))(m);if(E.depth>=1&&_&&E.depth-_.depth<=1){if(_.node.type===f)return c.liftListItem(h);if(Kp(_.node.type.name,d)&&f.validContent(_.node.content)&&l)return a().command(()=>(s.setNodeMarkup(_.pos,f),!0)).command(()=>ya(s,f)).command(()=>va(s,f)).run()}return!n||!x||!l?a().command(()=>u().wrapInList(f,r)?!0:c.clearNodes()).wrapInList(f,r).command(()=>ya(s,f)).command(()=>va(s,f)).run():a().command(()=>{const N=u().wrapInList(f,r),T=x.filter($=>p.includes($.type.name));return s.ensureMarks(T),N?!0:c.clearNodes()}).wrapInList(f,r).command(()=>ya(s,f)).command(()=>va(s,f)).run()},toggleMark:(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=Nn(t,r.schema);return ma(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},toggleNode:(t,e,n={})=>({state:r,commands:i})=>{const s=Ae(t,r.schema),o=Ae(e,r.schema),l=Ni(r,s,n);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),l?i.setNode(o,a):i.setNode(s,{...a,...n})},toggleWrap:(t,e={})=>({state:n,commands:r})=>{const i=Ae(t,n.schema);return Ni(n,i,e)?r.lift(i):r.wrapIn(i,e)},undoInputRule:()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,l=s.transform;for(let a=l.steps.length-1;a>=0;a-=1)o.step(l.steps[a].invert(l.docs[a]));if(s.text){const a=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,a))}else o.delete(s.from,s.to)}return!0}}return!1},unsetAllMarks:()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},unsetMark:(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=n,a=Nn(t,r.schema),{$from:c,empty:u,ranges:d}=l;if(!i)return!0;if(u&&o){let{from:p,to:f}=l;const h=(s=c.marks().find(g=>g.type===a))===null||s===void 0?void 0:s.attrs,m=da(c,a,h);m&&(p=m.from,f=m.to),n.removeMark(p,f,a)}else d.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,a)});return n.removeStoredMark(a),!0},updateAttributes:(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const l=Qs(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=Ae(t,r.schema)),l==="mark"&&(o=Nn(t,r.schema)),i&&n.selection.ranges.forEach(a=>{const c=a.$from.pos,u=a.$to.pos;let d,p,f,h;n.selection.empty?r.doc.nodesBetween(c,u,(m,g)=>{s&&s===m.type&&(f=Math.max(g,c),h=Math.min(g+m.nodeSize,u),d=g,p=m)}):r.doc.nodesBetween(c,u,(m,g)=>{g<c&&s&&s===m.type&&(f=Math.max(g,c),h=Math.min(g+m.nodeSize,u),d=g,p=m),g>=c&&g<=u&&(s&&s===m.type&&n.setNodeMarkup(g,void 0,{...m.attrs,...e}),o&&m.marks.length&&m.marks.forEach(v=>{if(o===v.type){const b=Math.max(g,c),E=Math.min(g+m.nodeSize,u);n.addMark(b,E,o.create({...v.attrs,...e}))}}))}),p&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...p.attrs,...e}),o&&p.marks.length&&p.marks.forEach(m=>{o===m.type&&n.addMark(f,h,o.create({...m.attrs,...e}))}))}),!0):!1},wrapIn:(t,e={})=>({state:n,dispatch:r})=>{const i=Ae(t,n.schema);return BS(i,e)(n,r)},wrapInList:(t,e={})=>({state:n,dispatch:r})=>{const i=Ae(t,n.schema);return zS(i,e)(n,r)}});const gk=je.create({name:"commands",addCommands(){return{...mk}}}),yk=je.create({name:"drop",addProseMirrorPlugins(){return[new Ye({key:new Tt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),vk=je.create({name:"editable",addProseMirrorPlugins(){return[new Ye({key:new Tt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),bk=new Tt("focusEvents"),Sk=je.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ye({key:bk,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),xk=je.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:a,doc:c}=l,{empty:u,$anchor:d}=a,{pos:p,parent:f}=d,h=d.parent.isTextblock&&p>0?l.doc.resolve(p-1):d,m=h.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=m&&h.parent.childCount===1?g===d.pos:Q.atStart(c).from===p;return!u||!f.type.isTextblock||f.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return fa()||Fp()?s:i},addProseMirrorPlugins(){return[new Ye({key:new Tt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(m=>m.getMeta("composition")))return;const r=t.some(m=>m.docChanged)&&!e.doc.eq(n.doc),i=t.some(m=>m.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:l}=e.selection,a=Q.atStart(e.doc).from,c=Q.atEnd(e.doc).to;if(s||!(o===a&&l===c)||!ga(n.doc))return;const p=n.tr,f=js({state:n,transaction:p}),{commands:h}=new Fs({editor:this.editor,state:f});if(h.clearNodes(),!!p.steps.length)return p}})]}}),kk=je.create({name:"paste",addProseMirrorPlugins(){return[new Ye({key:new Tt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),wk=je.create({name:"tabindex",addProseMirrorPlugins(){return[new Ye({key:new Tt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class er{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new er(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new er(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new er(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!i&&l.depth<=this.depth)return;const a=new er(l,this.editor,i,i?n:null);i&&(a.actualDepth=this.depth+1),e.push(new er(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let l=0;l<o.length;l+=1){const a=o[l];if(s[a]!==n[a])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(a=>n[a]===o.node.attrs[a])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const _k=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Ck(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let Ek=class extends qS{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Ck(_k,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=$p(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=r.filter(l=>!l.key.startsWith(o))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[vk,ax.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),gk,Sk,xk,wk,yk,kk].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Or(i,this)}createCommandManager(){this.commandManager=new Fs({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=pa(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),n=pa(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=zp(n,this.options.autofocus);this.view=new up(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Sr.create({doc:n,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return rk(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return ik(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ca(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return tk(this.state.doc,{blockSeparator:n,textSerializers:{...Rp(this.schema),...r}})}get isEmpty(){return ga(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new er(n,this)}get $doc(){return this.$pos(0)}};function Nr(t){return new Us({find:t.find,handler:({state:e,range:n,match:r})=>{const i=te(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],l=r[0];if(o){const a=l.search(/\S/),c=n.from+l.indexOf(o),u=c+o.length;if(Wp(n.from,n.to,e.doc).filter(f=>f.mark.type.excluded.find(m=>m===t.type&&m!==f.mark.type)).filter(f=>f.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+a,c);const p=n.from+a+o.length;s.addMark(n.from+a,p,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function Tk(t){return new Us({find:t.find,handler:({state:e,range:n,match:r})=>{const i=te(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let l=n.to;const a=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>l?u=l:l=u+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(u,l,a)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(l))}s.scrollIntoView()}})}function ba(t){return new Us({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=te(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Mi(t){return new Us({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=te(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),a=o.doc.resolve(n.from).blockRange(),c=a&&wl(a,t.type,s);if(!c)return null;if(o.wrap(a,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:p}=e,{splittableMarks:f}=t.editor.extensionManager,h=p||d.$to.parentOffset&&d.$from.marks();if(h){const m=h.filter(g=>f.includes(g.type.name));o.ensureMarks(m)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&bn(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}class st{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=te(L(this,"addOptions",{name:this.name}))),this.storage=te(L(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new st(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>qs(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new st(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=te(L(n,"addOptions",{name:n.name})),n.storage=te(L(n,"addStorage",{name:n.name,options:n.options})),n}}function Mr(t){return new nx({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=te(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,l=r[r.length-1],a=r[0];let c=n.to;if(l){const u=a.search(/\S/),d=n.from+a.indexOf(l),p=d+l.length;if(Wp(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===t.type&&g!==h.mark.type)).filter(h=>h.to>d).length)return null;p<n.to&&o.delete(p,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+l.length,o.addMark(n.from+u,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function Ok(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof z){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function Jp(t){return Qh((e,n)=>({get(){return e(),t},set(r){t=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class Nk extends Ek{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=Jp(this.view.state),this.reactiveExtensionStorage=Jp(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),Xa(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){const r=super.registerPlugin(e,n);return this.reactiveState&&(this.reactiveState.value=r),r}unregisterPlugin(e){const n=super.unregisterPlugin(e);return this.reactiveState&&n&&(this.reactiveState.value=n),n}}const Gp=_e({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=M(),n=cn();return xc(()=>{const r=t.editor;r&&r.options.element&&e.value&&Ji(()=>{if(!e.value||!r.options.element.firstChild)return;const i=be(e.value);e.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,n&&(r.appContext={...n.appContext,provides:n.provides}),r.setOptions({element:i}),r.createNodeViews()})}),dc(()=>{const r=t.editor;r&&(r.contentComponent=null,r.appContext=null)}),{rootEl:e}},render(){return Vo("div",{ref:t=>{this.rootEl=t}})}}),Yp=(t={})=>{const e=lr();return _t(()=>{e.value=new Nk(t)}),dc(()=>{var n,r,i;const s=(n=e.value)===null||n===void 0?void 0:n.options.element,o=s==null?void 0:s.cloneNode(!0);(r=s==null?void 0:s.parentNode)===null||r===void 0||r.replaceChild(o,s),(i=e.value)===null||i===void 0||i.destroy()}),e},Mk=/^\s*>\s$/,$k=st.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",ze(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Mi({find:Mk,type:this.type})]}}),Ak=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Dk=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Pk=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Ik=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Rk=Bt.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",ze(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Nr({find:Ak,type:this.type}),Nr({find:Pk,type:this.type})]},addPasteRules(){return[Mr({find:Dk,type:this.type}),Mr({find:Ik,type:this.type})]}}),Vk="listItem",Qp="textStyle",Xp=/^\s*([-+*])\s$/,Lk=st.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ze(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Vk,this.editor.getAttributes(Qp)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Mi({find:Xp,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Mi({find:Xp,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Qp),editor:this.editor})),[t]}}),Bk=/(^|[^`])`([^`]+)`(?!`)/,zk=/(^|[^`])`([^`]+)`(?!`)/g,jk=Bt.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ze(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Nr({find:Bk,type:this.type})]},addPasteRules(){return[Mr({find:zk,type:this.type})]}}),Fk=/^```([a-z]+)?[\s\n]$/,Hk=/^~~~([a-z]+)?[\s\n]$/,Uk=st.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ze(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:c})=>(c.setSelection(Q.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[ba({find:Fk,type:this.type,getAttributes:t=>({language:t[1]})}),ba({find:Hk,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ye({key:new Tt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:l}=t.state,a=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},a)),o.selection.$from.parent.type!==this.type&&o.setSelection(K.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),Wk=st.create({name:"doc",topNode:!0,content:"block+"});function Kk(t={}){return new Ye({view(e){return new qk(e,t)}})}class qk{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,l=s.height/i.offsetHeight;if(n){let d=e.nodeBefore,p=e.nodeAfter;if(d||p){let f=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(f){let h=f.getBoundingClientRect(),m=d?h.bottom:h.top;d&&p&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let g=this.width/2*l;r={left:h.left,right:h.right,top:m-g,bottom:m+g}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*o;r={left:d.left-p,right:d.left+p,top:d.top,bottom:d.bottom}}let a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!a||a==document.body&&getComputedStyle(a).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=a.getBoundingClientRect(),p=d.width/a.offsetWidth,f=d.height/a.offsetHeight;c=d.left-a.scrollLeft*p,u=d.top-a.scrollTop*f}this.element.style.left=(r.left-c)/o+"px",this.element.style.top=(r.top-u)/l+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Hd(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Jk=je.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Kk(this.options)]}});class xe extends Q{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return xe.valid(r)?new xe(r):Q.near(r)}content(){return R.empty}eq(e){return e instanceof xe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new xe(e.resolve(n.pos))}getBookmark(){return new Sa(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Gk(e)||!Yk(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&xe.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let l=e.node(o);if(n>0?e.indexAfter(o)<l.childCount:e.index(o)>0){s=l.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let a=e.doc.resolve(i);if(xe.valid(a))return a}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!z.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let l=e.doc.resolve(i);if(xe.valid(l))return l}return null}}}xe.prototype.visible=!1,xe.findFrom=xe.findGapCursorFrom,Q.jsonID("gapcursor",xe);class Sa{constructor(e){this.pos=e}map(e){return new Sa(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return xe.valid(n)?new xe(n):Q.near(n)}}function Gk(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Yk(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Qk(){return new Ye({props:{decorations:tw,createSelectionBetween(t,e,n){return e.pos==n.pos&&xe.valid(n)?new xe(n):null},handleClick:Zk,handleKeyDown:Xk,handleDOMEvents:{beforeinput:ew}}})}const Xk=gp({ArrowLeft:Zs("horiz",-1),ArrowRight:Zs("horiz",1),ArrowUp:Zs("vert",-1),ArrowDown:Zs("vert",1)});function Zs(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,l=e>0?o.$to:o.$from,a=o.empty;if(o instanceof K){if(!s.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let c=xe.findGapCursorFrom(l,e,a);return c?(i&&i(r.tr.setSelection(new xe(c))),!0):!1}}function Zk(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!xe.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&z.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new xe(r))),!0)}function ew(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof xe))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=O.empty;for(let o=r.length-1;o>=0;o--)i=O.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new R(i,0,0));return s.setSelection(K.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function tw(t){if(!(t.selection instanceof xe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Oe.create(t.doc,[xt.widget(t.selection.head,e,{key:"gapcursor"})])}const nw=je.create({name:"gapCursor",addProseMirrorPlugins(){return[Qk()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=te(L(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),rw=st.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ze(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,a=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&a&&o){const d=a.filter(p=>l.includes(p.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),iw=st.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ze(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ba({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var eo=200,De=function(){};De.prototype.append=function(e){return e.length?(e=De.from(e),!this.length&&e||e.length<eo&&this.leafAppend(e)||this.length<eo&&e.leafPrepend(this)||this.appendInner(e)):this},De.prototype.prepend=function(e){return e.length?De.from(e).append(this):this},De.prototype.appendInner=function(e){return new sw(this,e)},De.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?De.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))},De.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},De.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)},De.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i},De.from=function(e){return e instanceof De?e:e&&e.length?new Zp(e):De.empty};var Zp=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,l){for(var a=s;a<o;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,l){for(var a=s-1;a>=o;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=eo)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=eo)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(De);De.empty=new Zp([]);var sw=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),o)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,o+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(De);const ow=500;class Ot{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,l,a,c=[],u=[];return this.items.forEach((d,p)=>{if(!d.step){i||(i=this.remapping(r,p+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new zt(d.map));let f=d.step.map(i.slice(s)),h;f&&o.maybeStep(f).doc&&(h=o.mapping.maps[o.mapping.maps.length-1],c.push(new zt(h,void 0,void 0,c.length+u.length))),s--,h&&i.appendMap(h,s)}else o.maybeStep(d.step);if(d.selection)return l=i?d.selection.map(i.slice(s)):d.selection,a=new Ot(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:o,selection:l}}addTransform(e,n,r,i){let s=[],o=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),p=new zt(e.mapping.maps[u],d,n),f;(f=a&&a.merge(p))&&(p=f,u?s.pop():l=l.slice(0,l.length-1)),s.push(p),n&&(o++,n=void 0),i||(a=p)}let c=o-r.depth;return c>aw&&(l=lw(l,c),o-=c),new Ot(l.append(s),o)}remapping(e,n){let r=new hi;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ot(this.items.append(e.map(n=>new zt(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},i);let a=n;this.items.forEach(p=>{let f=s.getMirror(--a);if(f==null)return;o=Math.min(o,f);let h=s.maps[f];if(p.step){let m=e.steps[f].invert(e.docs[f]),g=p.selection&&p.selection.map(s.slice(a+1,f));g&&l++,r.push(new zt(h,m,g))}else r.push(new zt(h))},i);let c=[];for(let p=n;p<o;p++)c.push(new zt(s.maps[p]));let u=this.items.slice(0,i).append(c).append(r),d=new Ot(u,l);return d.emptyItemCount()>ow&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&s++;else if(o.step){let a=o.step.map(n.slice(r)),c=a&&a.getMap();if(r--,c&&n.appendMap(c,r),a){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new zt(c.invert(),a,u),p,f=i.length-1;(p=i.length&&i[f].merge(d))?i[f]=p:i.push(d)}}else o.map&&r--},this.items.length,0),new Ot(De.from(i.reverse()),s)}}Ot.empty=new Ot(De.empty,0);function lw(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class zt{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new zt(n.getMap().invert(),n,this.selection)}}}class Mn{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const aw=20;function cw(t,e,n,r){let i=n.getMeta(tr),s;if(i)return i.historyState;n.getMeta(fw)&&(t=new Mn(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(tr))return o.getMeta(tr).redo?new Mn(t.done.addTransform(n,void 0,r,to(e)),t.undone,eh(n.mapping.maps),t.prevTime,t.prevComposition):new Mn(t.done,t.undone.addTransform(n,void 0,r,to(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!uw(n,t.prevRanges)),c=o?xa(t.prevRanges,n.mapping):eh(n.mapping.maps);return new Mn(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,to(e)),Ot.empty,c,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Mn(t.done.rebased(n,s),t.undone.rebased(n,s),xa(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Mn(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),xa(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function uw(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function eh(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function xa(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function dw(t,e,n){let r=to(e),i=tr.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),a=new Mn(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(o).setMeta(tr,{redo:n,historyState:a})}let ka=!1,th=null;function to(t){let e=t.plugins;if(th!=e){ka=!1,th=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ka=!0;break}}return ka}const tr=new Tt("history"),fw=new Tt("closeHistory");function pw(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ye({key:tr,state:{init(){return new Mn(Ot.empty,Ot.empty,null,0,-1)},apply(e,n,r){return cw(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?rh:r=="historyRedo"?ih:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function nh(t,e){return(n,r)=>{let i=tr.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=dw(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const rh=nh(!1,!0),ih=nh(!0,!0),hw=je.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>rh(t,e),redo:()=>({state:t,dispatch:e})=>ih(t,e)}},addProseMirrorPlugins(){return[pw(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),mw=st.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ze(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Ok(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):sk(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:l})=>{var a;if(l){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(K.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(z.create(o.doc,c.pos)):o.setSelection(K.create(o.doc,c.pos));else{const d=(a=c.parent.type.contentMatch.defaultType)===null||a===void 0?void 0:a.create();d&&(o.insert(u,d),o.setSelection(K.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Tk({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),gw=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,yw=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,vw=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,bw=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Sw=Bt.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ze(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Nr({find:gw,type:this.type}),Nr({find:vw,type:this.type})]},addPasteRules(){return[Mr({find:yw,type:this.type}),Mr({find:bw,type:this.type})]}}),xw=st.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ze(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),kw="listItem",sh="textStyle",oh=/^(\d+)\.\s$/,ww=st.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ze(this.options.HTMLAttributes,n),0]:["ol",ze(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(kw,this.editor.getAttributes(sh)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Mi({find:oh,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Mi({find:oh,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(sh)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),_w=st.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ze(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Cw=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Ew=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Tw=Bt.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ze(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Nr({find:Cw,type:this.type})]},addPasteRules(){return[Mr({find:Ew,type:this.type})]}}),Ow=st.create({name:"text",group:"inline"}),lh=je.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(Rk.configure(this.options.bold)),this.options.blockquote!==!1&&t.push($k.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(Lk.configure(this.options.bulletList)),this.options.code!==!1&&t.push(jk.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(Uk.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(Wk.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Jk.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(nw.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(rw.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(iw.configure(this.options.heading)),this.options.history!==!1&&t.push(hw.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(mw.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(Sw.configure(this.options.italic)),this.options.listItem!==!1&&t.push(xw.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(ww.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(_w.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(Tw.configure(this.options.strike)),this.options.text!==!1&&t.push(Ow.configure(this.options.text)),t}}),ah=Bt.create({name:"deletion",addAttributes(){return{user:{default:null}}},parseHTML(){return[{tag:"del",getAttrs:t=>typeof t=="string"?{}:{user:t.getAttribute("data-user")}}]},renderHTML({HTMLAttributes:t}){const e=t.user||"unknown";return["del",ze({title:`新增者：${e}`},t),0]},addCommands(){return{setDeletion:t=>({commands:e})=>e.setMark(this.name,t)}}}),Nw=je.create({name:"deletionOnKey",addKeyboardShortcuts(){return{Backspace:({editor:t})=>{const{state:e,commands:n}=t,{from:r,to:i}=e.selection,s=this.options.user;return r===i?!1:(n.setMark("deletion",{user:s}),!0)},Delete:({editor:t})=>{const{state:e,commands:n}=t,{from:r,to:i}=e.selection,s=this.options.user;return r===i?!1:(n.setMark("deletion",{user:s}),!0)}}}}),ch=Bt.create({name:"insertion",addAttributes(){return{user:{default:null}}},parseHTML(){return[{tag:"span[data-insertion]"}]},renderHTML({HTMLAttributes:t}){const e=t.user||"unknown";return["span",ze({"data-insertion":"true",style:"color: green; background-color: #e6ffe6;",title:`新增者：${e}`},t),0]},addCommands(){return{setInsertion:t=>({commands:e})=>e.setMark(this.name,t),unsetInsertion:()=>({commands:t})=>t.unsetMark(this.name)}}}),Mw=je.create({name:"insertionOnInput",addProseMirrorPlugins(){return[new Ye({key:new Tt("insertionOnInput"),props:{handleTextInput:(t,e,n,r)=>{const{state:i,dispatch:s}=t,{tr:o,schema:l}=i,a=this.options.user,c=l.marks.deletion,u=l.marks.insertion;if(o.insertText(r,e,n),c&&o.removeMark(e,e+r.length,c),u){const d=u.create({user:a});o.addMark(e,e+r.length,d)}return s(o),!0}}})]}}),$w={class:"p-4 space-y-4"},Aw={class:"space-x-2"},Dw={key:0,class:"prose border p-4 rounded shadow bg-gray-50 relative"},Pw=["innerHTML"],no="欣怡",Iw=mn(_e({__name:"TiptapEditor",setup(t){const e=Yp({content:"<p>Hello 選文字後按 Backspace 就會標記刪除</p>",extensions:[lh,ah.configure({user:no}),Nw.configure({user:no}),ch.configure({user:no}),Mw.configure({user:no})]}),n=Yp({editable:!1,extensions:[lh,ah,ch]}),r=M(""),i=()=>{var c;const a=(c=e.value)==null?void 0:c.getJSON();a&&(localStorage.setItem("draft",JSON.stringify(a)),alert("草稿已儲存！"))},s=()=>{var c;const a=localStorage.getItem("draft");if(a){const u=JSON.parse(a);(c=e.value)==null||c.commands.setContent(u)}},o=()=>{var c;const a=localStorage.getItem("draft");if(a){const u=JSON.parse(a);(c=n.value)==null||c.commands.setContent(u)}},l=()=>{var u;const a=((u=e.value)==null?void 0:u.getHTML())||"",c=new DOMParser().parseFromString(a,"text/html");c.querySelectorAll("del").forEach(d=>d.remove()),c.querySelectorAll("span[data-insertion]").forEach(d=>{const p=d,f=document.createTextNode(p.textContent||"");d.replaceWith(f)}),r.value=c.body.innerHTML};return(a,c)=>{const u=D("Button");return S(),C("div",$w,[y("div",null,[c[0]||(c[0]=y("h2",{class:"text-lg font-semibold mb-2"},"內容編輯區",-1)),k(be(Gp),{editor:be(e),class:"border border-gray-300 p-4 rounded shadow-sm min-h-[150px]"},null,8,["editor"])]),y("div",Aw,[k(u,{label:"儲存草稿",onClick:i}),k(u,{label:"載入草稿到原來的textarea",onClick:s}),k(u,{label:"載入草稿到下方預覽",onClick:o}),k(u,{label:"審核變更",onClick:l,severity:"warning"})]),y("div",null,[c[1]||(c[1]=y("h3",{class:"font-bold"},"草稿預覽（唯讀）",-1)),k(be(Gp),{editor:be(n),class:"border p-2 rounded shadow bg-gray-50"},null,8,["editor"])]),r.value?(S(),C("div",Dw,[c[2]||(c[2]=y("h4",null,"審核後結果：",-1)),y("div",{innerHTML:r.value},null,8,Pw)])):Ln("",!0)])}}}),[["__scopeId","data-v-fcc13030"]]),Rw=_e({__name:"Textcheck",setup(t){return(e,n)=>(S(),G(Iw))}}),Zt={getProductsData(){return[{id:"005",check:"1",status:"A",feeno:"0201234",name:"林偉哲",sex:"男",birthday:"1971-08-30(52y11m17d)",tag:[{id:"tag1",tagname:"跌",button:"0",color:"danger"}],din:"0",page:[{pagename:"報",button:"0"},{pagename:"危",button:"0"}]},{id:"009",check:"0",status:"",feeno:"",name:"陳大興",sex:"男",birthday:"",tag:[],din:"1",page:[]},{id:"001",check:"1",status:"C",feeno:"0201235",name:"林小美",sex:"女",birthday:"2013-03-20(11y4m17d)",tag:[{id:"tag1",tagname:"跌",button:"0",color:"danger"},{id:"tag2",tagname:"管理",button:"0",color:"info"}],din:"1",page:[]}]},getProductsWithOrdersData(){return[{id:"1000",code:"f230fh0g3",name:"Bamboo Watch",description:"Product Description1111111111111111111111111111111111111111111111111111",image:"bamboo-watch.jpg",price:65,category:"Accessories",quantity:24,inventoryStatus:"INSTOCK",rating:5,orders:[{id:"1000-0",productCode:"f230fh0g3",date:"2020-09-13",amount:65,quantity:1,customer:"David James",status:"PENDING"},{id:"1000-1",productCode:"f230fh0g3",date:"2020-05-14",amount:130,quantity:2,customer:"Leon Rodrigues",status:"DELIVERED"},{id:"1000-2",productCode:"f230fh0g3",date:"2019-01-04",amount:65,quantity:1,customer:"Juan Alejandro",status:"RETURNED"},{id:"1000-3",productCode:"f230fh0g3",date:"2020-09-13",amount:195,quantity:3,customer:"Claire Morrow",status:"CANCELLED"}]},{id:"1001",code:"nvklal433",name:"Black Watch",description:"Product Description",image:"black-watch.jpg",price:72,category:"Accessories",quantity:61,inventoryStatus:"INSTOCK",rating:4,orders:[{id:"1001-0",productCode:"nvklal433",date:"2020-05-14",amount:72,quantity:1,customer:"Maisha Jefferson",status:"DELIVERED"},{id:"1001-1",productCode:"nvklal433",date:"2020-02-28",amount:144,quantity:2,customer:"Octavia Murillo",status:"PENDING"}]},{id:"1002",code:"zz21cz3c1",name:"Blue Band",description:"Product Description",image:"blue-band.jpg",price:79,category:"Fitness",quantity:2,inventoryStatus:"LOWSTOCK",rating:3,orders:[{id:"1002-0",productCode:"zz21cz3c1",date:"2020-07-05",amount:79,quantity:1,customer:"Stacey Leja",status:"DELIVERED"},{id:"1002-1",productCode:"zz21cz3c1",date:"2020-02-06",amount:79,quantity:1,customer:"Ashley Wickens",status:"DELIVERED"}]},{id:"1003",code:"244wgerg2",name:"Blue T-Shirt",description:"Product Description",image:"blue-t-shirt.jpg",price:29,category:"Clothing",quantity:25,inventoryStatus:"INSTOCK",rating:5,orders:[]},{id:"1004",code:"h456wer53",name:"Bracelet",description:"Product Description11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",image:"bracelet.jpg",price:15,category:"Accessories",quantity:73,inventoryStatus:"INSTOCK",rating:4,orders:[{id:"1004-0",productCode:"h456wer53",date:"2020-09-05",amount:60,quantity:4,customer:"Mayumi Misaki",status:"PENDING"},{id:"1004-1",productCode:"h456wer53",date:"2019-04-16",amount:2,quantity:30,customer:"Francesco Salvatore",status:"DELIVERED"}]},{id:"1005",code:"av2231fwg",name:"Brown Purse",description:"Product Description",image:"brown-purse.jpg",price:120,category:"Accessories",quantity:0,inventoryStatus:"OUTOFSTOCK",rating:4,orders:[{id:"1005-0",productCode:"av2231fwg",date:"2020-01-25",amount:120,quantity:1,customer:"Isabel Sinclair",status:"RETURNED"},{id:"1005-1",productCode:"av2231fwg",date:"2019-03-12",amount:240,quantity:2,customer:"Lionel Clifford",status:"DELIVERED"},{id:"1005-2",productCode:"av2231fwg",date:"2019-05-05",amount:120,quantity:1,customer:"Cody Chavez",status:"DELIVERED"}]},{id:"1006",code:"bib36pfvm",name:"Chakra Bracelet",description:"Product Description",image:"chakra-bracelet.jpg",price:32,category:"Accessories",quantity:5,inventoryStatus:"LOWSTOCK",rating:3,orders:[{id:"1006-0",productCode:"bib36pfvm",date:"2020-02-24",amount:32,quantity:1,customer:"Arvin Darci",status:"DELIVERED"},{id:"1006-1",productCode:"bib36pfvm",date:"2020-01-14",amount:64,quantity:2,customer:"Izzy Jones",status:"PENDING"}]},{id:"1007",code:"mbvjkgip5",name:"Galaxy Earrings",description:"Product Description1111111111111111111111111111111111111111111111111111",image:"galaxy-earrings.jpg",price:34,category:"Accessories",quantity:23,inventoryStatus:"INSTOCK",rating:5,orders:[{id:"1007-0",productCode:"mbvjkgip5",date:"2020-06-19",amount:34,quantity:1,customer:"Jennifer Smith",status:"DELIVERED"}]},{id:"1008",code:"vbb124btr",name:"Game Controller",description:"Product Description",image:"game-controller.jpg",price:99,category:"Electronics",quantity:2,inventoryStatus:"LOWSTOCK",rating:4,orders:[{id:"1008-0",productCode:"vbb124btr",date:"2020-01-05",amount:99,quantity:1,customer:"Jeanfrancois David",status:"DELIVERED"},{id:"1008-1",productCode:"vbb124btr",date:"2020-01-19",amount:198,quantity:2,customer:"Ivar Greenwood",status:"RETURNED"}]},{id:"1009",code:"cm230f032",name:"Gaming Set",description:"Product Description",image:"gaming-set.jpg",price:299,category:"Electronics",quantity:63,inventoryStatus:"INSTOCK",rating:3,orders:[{id:"1009-0",productCode:"cm230f032",date:"2020-06-24",amount:299,quantity:1,customer:"Kadeem Mujtaba",status:"PENDING"},{id:"1009-1",productCode:"cm230f032",date:"2020-05-11",amount:299,quantity:1,customer:"Ashley Wickens",status:"DELIVERED"},{id:"1009-2",productCode:"cm230f032",date:"2019-02-07",amount:299,quantity:1,customer:"Julie Johnson",status:"DELIVERED"},{id:"1009-3",productCode:"cm230f032",date:"2020-04-26",amount:299,quantity:1,customer:"Tony Costa",status:"CANCELLED"}]},{id:"1010",code:"plb34234v",name:"Gold Phone Case",description:"Product Description1111111111111111111111111111111111111111111111111111",image:"gold-phone-case.jpg",price:24,category:"Accessories",quantity:0,inventoryStatus:"OUTOFSTOCK",rating:4,orders:[{id:"1010-0",productCode:"plb34234v",date:"2020-02-04",amount:24,quantity:1,customer:"James Butt",status:"DELIVERED"},{id:"1010-1",productCode:"plb34234v",date:"2020-05-05",amount:48,quantity:2,customer:"Josephine Darakjy",status:"DELIVERED"}]},{id:"1011",code:"4920nnc2d",name:"Green Earbuds",description:"Product Description",image:"green-earbuds.jpg",price:89,category:"Electronics",quantity:23,inventoryStatus:"INSTOCK",rating:4,orders:[{id:"1011-0",productCode:"4920nnc2d",date:"2020-06-01",amount:89,quantity:1,customer:"Art Venere",status:"DELIVERED"}]},{id:"1012",code:"250vm23cc",name:"Green T-Shirt",description:"Product Description",image:"green-t-shirt.jpg",price:49,category:"Clothing",quantity:74,inventoryStatus:"INSTOCK",rating:5,orders:[{id:"1012-0",productCode:"250vm23cc",date:"2020-02-05",amount:49,quantity:1,customer:"Lenna Paprocki",status:"DELIVERED"},{id:"1012-1",productCode:"250vm23cc",date:"2020-02-15",amount:49,quantity:1,customer:"Donette Foller",status:"PENDING"}]},{id:"1013",code:"fldsmn31b",name:"Grey T-Shirt",description:"Product Description",image:"grey-t-shirt.jpg",price:48,category:"Clothing",quantity:0,inventoryStatus:"OUTOFSTOCK",rating:3,orders:[{id:"1013-0",productCode:"fldsmn31b",date:"2020-04-01",amount:48,quantity:1,customer:"Simona Morasca",status:"DELIVERED"}]},{id:"1014",code:"waas1x2as",name:"Headphones",description:"Product Description",image:"headphones.jpg",price:175,category:"Electronics",quantity:8,inventoryStatus:"LOWSTOCK",rating:5,orders:[{id:"1014-0",productCode:"waas1x2as",date:"2020-05-15",amount:175,quantity:1,customer:"Lenna Paprocki",status:"DELIVERED"},{id:"1014-1",productCode:"waas1x2as",date:"2020-01-02",amount:175,quantity:1,customer:"Donette Foller",status:"CANCELLED"}]},{id:"1015",code:"vb34btbg5",name:"Light Green T-Shirt",description:"Product Description",image:"light-green-t-shirt.jpg",price:49,category:"Clothing",quantity:34,inventoryStatus:"INSTOCK",rating:4,orders:[{id:"1015-0",productCode:"vb34btbg5",date:"2020-07-02",amount:98,quantity:2,customer:"Mitsue Tollner",status:"DELIVERED"}]},{id:"1016",code:"k8l6j58jl",name:"Lime Band",description:"Product Description",image:"lime-band.jpg",price:79,category:"Fitness",quantity:12,inventoryStatus:"INSTOCK",rating:3,orders:[]},{id:"1017",code:"v435nn85n",name:"Mini Speakers",description:"Product Description",image:"mini-speakers.jpg",price:85,category:"Clothing",quantity:42,inventoryStatus:"INSTOCK",rating:4,orders:[{id:"1017-0",productCode:"v435nn85n",date:"2020-07-12",amount:85,quantity:1,customer:"Minna Amigon",status:"DELIVERED"}]},{id:"1018",code:"09zx9c0zc",name:"Painted Phone Case",description:"Product Description",image:"painted-phone-case.jpg",price:56,category:"Accessories",quantity:41,inventoryStatus:"INSTOCK",rating:5,orders:[{id:"1018-0",productCode:"09zx9c0zc",date:"2020-07-01",amount:56,quantity:1,customer:"Abel Maclead",status:"DELIVERED"},{id:"1018-1",productCode:"09zx9c0zc",date:"2020-05-02",amount:56,quantity:1,customer:"Minna Amigon",status:"RETURNED"}]},{id:"1019",code:"mnb5mb2m5",name:"Pink Band",description:"Product Description",image:"pink-band.jpg",price:79,category:"Fitness",quantity:63,inventoryStatus:"INSTOCK",rating:4,orders:[]},{id:"1020",code:"r23fwf2w3",name:"Pink Purse",description:"Product Description",image:"pink-purse.jpg",price:110,category:"Accessories",quantity:0,inventoryStatus:"OUTOFSTOCK",rating:4,orders:[{id:"1020-0",productCode:"r23fwf2w3",date:"2020-05-29",amount:110,quantity:1,customer:"Kiley Caldarera",status:"DELIVERED"},{id:"1020-1",productCode:"r23fwf2w3",date:"2020-02-11",amount:220,quantity:2,customer:"Graciela Ruta",status:"DELIVERED"}]},{id:"1021",code:"pxpzczo23",name:"Purple Band",description:"Product Description",image:"purple-band.jpg",price:79,category:"Fitness",quantity:6,inventoryStatus:"LOWSTOCK",rating:3,orders:[{id:"1021-0",productCode:"pxpzczo23",date:"2020-02-02",amount:79,quantity:1,customer:"Cammy Albares",status:"DELIVERED"}]},{id:"1022",code:"2c42cb5cb",name:"Purple Gemstone Necklace",description:"Product Description",image:"purple-gemstone-necklace.jpg",price:45,category:"Accessories",quantity:62,inventoryStatus:"INSTOCK",rating:4,orders:[{id:"1022-0",productCode:"2c42cb5cb",date:"2020-06-29",amount:45,quantity:1,customer:"Mattie Poquette",status:"DELIVERED"},{id:"1022-1",productCode:"2c42cb5cb",date:"2020-02-11",amount:135,quantity:3,customer:"Meaghan Garufi",status:"DELIVERED"}]},{id:"1023",code:"5k43kkk23",name:"Purple T-Shirt",description:"Product Description",image:"purple-t-shirt.jpg",price:49,category:"Clothing",quantity:2,inventoryStatus:"LOWSTOCK",rating:5,orders:[{id:"1023-0",productCode:"5k43kkk23",date:"2020-04-15",amount:49,quantity:1,customer:"Gladys Rim",status:"RETURNED"}]},{id:"1024",code:"lm2tny2k4",name:"Shoes",description:"Product Description",image:"shoes.jpg",price:64,category:"Clothing",quantity:0,inventoryStatus:"INSTOCK",rating:4,orders:[]},{id:"1025",code:"nbm5mv45n",name:"Sneakers",description:"Product Description",image:"sneakers.jpg",price:78,category:"Clothing",quantity:52,inventoryStatus:"INSTOCK",rating:4,orders:[{id:"1025-0",productCode:"nbm5mv45n",date:"2020-02-19",amount:78,quantity:1,customer:"Yuki Whobrey",status:"DELIVERED"},{id:"1025-1",productCode:"nbm5mv45n",date:"2020-05-21",amount:78,quantity:1,customer:"Fletcher Flosi",status:"PENDING"}]},{id:"1026",code:"zx23zc42c",name:"Teal T-Shirt",description:"Product Description",image:"teal-t-shirt.jpg",price:49,category:"Clothing",quantity:3,inventoryStatus:"LOWSTOCK",rating:3,orders:[{id:"1026-0",productCode:"zx23zc42c",date:"2020-04-24",amount:98,quantity:2,customer:"Bette Nicka",status:"DELIVERED"}]},{id:"1027",code:"acvx872gc",name:"Yellow Earbuds",description:"Product Description",image:"yellow-earbuds.jpg",price:89,category:"Electronics",quantity:35,inventoryStatus:"INSTOCK",rating:3,orders:[{id:"1027-0",productCode:"acvx872gc",date:"2020-01-29",amount:89,quantity:1,customer:"Veronika Inouye",status:"DELIVERED"},{id:"1027-1",productCode:"acvx872gc",date:"2020-06-11",amount:89,quantity:1,customer:"Willard Kolmetz",status:"DELIVERED"}]},{id:"1028",code:"tx125ck42",name:"Yoga Mat",description:"Product Description",image:"yoga-mat.jpg",price:20,category:"Fitness",quantity:15,inventoryStatus:"INSTOCK",rating:5,orders:[]},{id:"1029",code:"gwuby345v",name:"Yoga Set",description:"Product Description",image:"yoga-set.jpg",price:20,category:"Fitness",quantity:25,inventoryStatus:"INSTOCK",rating:8,orders:[{id:"1029-0",productCode:"gwuby345v",date:"2020-02-14",amount:4,quantity:80,customer:"Maryann Royster",status:"DELIVERED"}]}]},getProductsMini(){return Promise.resolve(this.getProductsData().slice(0,5))},getProductsSmall(){return Promise.resolve(this.getProductsData().slice(0,10))},getProducts(){return Promise.resolve(this.getProductsData())},getProductsWithOrdersSmall(){return Promise.resolve(this.getProductsWithOrdersData().slice(0,10))},getProductsWithOrders(){return Promise.resolve(this.getProductsWithOrdersData())}},Vw={class:"card"},Lw={class:"flex justify-end"},Bw={key:0},zw={key:0},jw={key:1},Fw={key:1},Hw={key:0},Uw={key:1},Ww={key:2},Kw={key:2,class:"flex flex-wrap gap-1"},qw={key:3},Jw={key:0},Gw={key:1},Yw={key:4,class:"card flex flex-wrap gap-2"},Qw={key:5},Xw={class:"whitespace-normal w-80 break-word"},Zw={key:0,class:"block text-gray-500 cursor-not-allowed",title:"此欄位不可編輯"},e_={key:1,class:"block text-gray-500 cursor-not-allowed",title:"此欄位不可編輯"},t_={key:0},n_={key:0},r_={key:1},i_={key:1},s_={key:0},o_={key:1},l_={key:2},a_={key:2,class:"flex flex-wrap gap-1"},c_={key:3},u_={key:0},d_={key:1},f_={key:4,class:"card flex flex-wrap gap-2"},p_={key:5},h_={class:"block w-80 truncate"},m_=_e({__name:"Datatable",setup(t){function e(p){return p.status==="C"?"cursor-not-allowed":""}const n=M(),r=M(null),i=M([]),s=M([{field:"id",header:"診號"},{field:"check",header:"報到"},{field:"status",header:"狀態"},{field:"feeno",header:"病歷號"},{field:"name",header:"姓名"},{field:"sex",header:"性別"},{field:"birthday",header:"生日"},{field:"tag",header:"註記"},{field:"din",header:"身分"},{field:"page",header:"報告"}]),o=M({global:{value:null,matchMode:I.CONTAINS},id:{value:null,matchMode:I.STARTS_WITH},check:{value:null,matchMode:I.STARTS_WITH},status:{value:null,matchMode:I.EQUALS},feeno:{value:null,matchMode:I.CONTAINS},name:{value:null,matchMode:I.CONTAINS},sex:{value:null,matchMode:I.EQUALS},birthday:{value:null,matchMode:I.CONTAINS},tag:{value:null,matchMode:I.CONTAINS},din:{value:null,matchMode:I.EQUALS},page:{value:null,matchMode:I.CONTAINS}});let l=null;function a({props:p,context:f}){const h=p.field??"",m=f==null?void 0:f.index;if(typeof m!="number")return{};m===0&&l===null?l=0:l!=null&&m===0&&l++;const g=l!==null?n.value[l]:void 0;return g?c(g,h)?{}:{class:"cursor-not-allowed text-gray-500",title:"此欄位不可編輯"}:{}}function c(p,f){if(!p)return!0;const{status:h,sex:m}=p;return console.log("欄位:",f,"狀態:",h,"性別:",m),!(f==="sex"&&m==="男")}_t(()=>{Zt.getProductsMini().then(p=>n.value=p)});const u=p=>{const{data:f,newValue:h,field:m}=p;h!=null&&String(h).trim().length>0?f[m]=h:console.warn("Invalid value. Cell edit canceled.")},d=p=>{let{newData:f,index:h}=p;n.value[h]=f};return(p,f)=>{const h=D("Tab"),m=D("TabList"),g=D("InputIcon"),v=D("InputText"),b=D("IconField"),E=D("Tag"),x=D("Column"),_=D("DataTable"),N=D("TabPanel"),T=D("Button"),$=D("TabPanels"),q=D("Tabs");return S(),C("div",Vw,[f[16]||(f[16]=y("div",{class:"hidden"}," text-red-100 text-red-800 bg-red-100 text-blue-100 text-blue-800 bg-blue-100 ",-1)),k(q,{value:"0"},{default:A(()=>[k(m,null,{default:A(()=>[k(h,{value:"0"},{default:A(()=>[...f[3]||(f[3]=[F("乳房外科特別門診(早)",-1)])]),_:1}),k(h,{value:"1"},{default:A(()=>[...f[4]||(f[4]=[F("一般外科(午)",-1)])]),_:1}),k(h,{value:"2"},{default:A(()=>[...f[5]||(f[5]=[F("一般外科(晚)",-1)])]),_:1})]),_:1}),k($,null,{default:A(()=>[k(N,{value:"0"},{default:A(()=>[k(_,{selection:r.value,"onUpdate:selection":f[1]||(f[1]=J=>r.value=J),filters:o.value,dataKey:"id",value:n.value,editMode:"cell",onCellEditComplete:u,size:"small",resizableColumns:"",columnResizeMode:"fit",showGridlines:"",paginator:"",rows:10,rowClass:e,filterDisplay:"row"},{header:A(()=>[y("div",Lw,[k(b,null,{default:A(()=>[k(g,null,{default:A(()=>[...f[6]||(f[6]=[y("i",{class:"pi pi-search"},null,-1)])]),_:1}),k(v,{modelValue:o.value.global.value,"onUpdate:modelValue":f[0]||(f[0]=J=>o.value.global.value=J),placeholder:"Keyword Search"},null,8,["modelValue"])]),_:1})])]),default:A(()=>[(S(!0),C(oe,null,Se(s.value,J=>(S(),G(x,{key:J.field,field:J.field,header:J.header,class:"max-w-200 whitespace-normal break-word",size:"small",pt:{bodyCell:a}},{body:A(({data:H,field:j})=>[j==="check"?(S(),C("div",Bw,[H[j]==="1"?(S(),C("span",zw,[...f[7]||(f[7]=[y("i",{class:"pi pi-check"},null,-1)])])):(S(),C("span",jw,[...f[8]||(f[8]=[y("i",{class:"pi pi-times"},null,-1)])]))])):j==="status"?(S(),C("div",Fw,[H[j]==="A"?(S(),C("span",Hw,[...f[9]||(f[9]=[y("i",{class:"pi pi-times text-red-500"},null,-1),F("暫存",-1)])])):H[j]==="C"?(S(),C("span",Uw,[...f[10]||(f[10]=[y("i",{class:"pi pi-check text-green-500"},null,-1),F("已完成",-1)])])):(S(),C("span",Ww,"待看診"))])):j==="tag"?(S(),C("div",Kw,[(S(!0),C(oe,null,Se(H[j],(Y,Pe)=>(S(),G(E,{key:Y.id||Pe,outlined:"",class:ht([Y.color==="danger"?"p-tag-danger":Y.color==="warning"?"p-tag-warning":Y.color==="info"?"p-tag-info":Y.color==="success"?"p-tag-success":"","font-medium transition p-1 m-1",Y.button==="0"?"underline":""]),value:Y.tagname},null,8,["class","value"]))),128))])):j==="din"?(S(),C("div",qw,[H[j]==="1"?(S(),C("span",Jw,"健保")):(S(),C("span",Gw,"自費"))])):j==="page"?(S(),C("div",Yw,[(S(!0),C(oe,null,Se(H[j],(Y,Pe)=>(S(),G(E,{key:Y.id||Pe,severity:"secondary",value:Y.pagename},null,8,["value"]))),128))])):(S(),C("div",Qw,[y("span",Xw,we(typeof j=="string"&&j in H?H[j]:""),1)]))]),editor:A(({data:H,field:j})=>[H.status==="C"?(S(),C("span",Zw,we(j==="status"?"已完成":H[j]),1)):j==="sex"&&H[j]==="男"?(S(),C("span",e_,we(H[j]),1)):(S(),G(v,{key:2,modelValue:H[j],"onUpdate:modelValue":Y=>H[j]=Y,size:"small",fluid:""},null,8,["modelValue","onUpdate:modelValue"]))]),filter:A(({filterModel:H,filterCallback:j})=>[k(v,{modelValue:H.value,"onUpdate:modelValue":Y=>H.value=Y,type:"text",onInput:Y=>j()},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1},8,["field","header","pt"]))),128))]),_:1},8,["selection","filters","value"])]),_:1}),k(N,{value:"1"},{default:A(()=>[k(_,{editingRows:i.value,"onUpdate:editingRows":f[2]||(f[2]=J=>i.value=J),value:n.value,editMode:"row",dataKey:"id",onRowEditSave:d,size:"small",resizableColumns:"",columnResizeMode:"fit",showGridlines:"",paginator:"",roweditoriniticon:"",rows:10,pt:{}},{default:A(()=>[(S(!0),C(oe,null,Se(s.value,J=>(S(),G(x,{key:J.field,field:J.field,header:J.header,class:"max-w-200 truncate",size:"small"},{body:A(({data:H,field:j})=>[j==="check"?(S(),C("div",t_,[H[j]==="1"?(S(),C("span",n_,[...f[11]||(f[11]=[y("i",{class:"pi pi-check"},null,-1)])])):(S(),C("span",r_,[...f[12]||(f[12]=[y("i",{class:"pi pi-times"},null,-1)])]))])):j==="status"?(S(),C("div",i_,[H[j]==="A"?(S(),C("span",s_,[...f[13]||(f[13]=[y("i",{class:"pi pi-times text-red-500"},null,-1),F("暫存",-1)])])):H[j]==="C"?(S(),C("span",o_,[...f[14]||(f[14]=[y("i",{class:"pi pi-check text-green-500"},null,-1),F("已完成",-1)])])):(S(),C("span",l_,"待看診"))])):j==="tag"?(S(),C("div",a_,[(S(!0),C(oe,null,Se(H[j],(Y,Pe)=>(S(),G(E,{key:Y.id||Pe,class:ht([Y.color==="danger"?"p-tag-danger":Y.color==="warning"?"p-tag-warning":Y.color==="info"?"p-tag-info":Y.color==="success"?"p-tag-success":"","font-medium transition p-1 m-1",Y.button==="0"?"underline":""]),value:Y.tagname},null,8,["class","value"]))),128))])):j==="din"?(S(),C("div",c_,[H[j]==="1"?(S(),C("span",u_,"健保")):(S(),C("span",d_,"自費"))])):j==="page"?(S(),C("div",f_,[(S(!0),C(oe,null,Se(H[j],(Y,Pe)=>(S(),G(E,{key:Y.id||Pe,severity:"secondary",value:Y.pagename},null,8,["value"]))),128))])):(S(),C("div",p_,[y("span",h_,we(typeof j=="string"&&j in H?H[j]:""),1)]))]),editor:A(({data:H,field:j})=>[k(v,{modelValue:H[j],"onUpdate:modelValue":Y=>H[j]=Y,autofocus:"",fluid:"",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["field","header"]))),128)),k(x,{header:"操作",size:"small"},{body:A(({editorInitCallback:J})=>[k(T,{size:"small",label:"編輯",icon:"pi pi-pencil",severity:"secondary",class:"p-link",text:"",onClick:J},null,8,["onClick"]),k(T,{size:"small",label:"刪除",icon:"pi pi-trash",severity:"secondary",text:""})]),editor:A(({editorSaveCallback:J,editorCancelCallback:H,index:j})=>[k(T,{label:"儲存",icon:"pi pi-save",text:"",onClick:J},null,8,["onClick"]),k(T,{label:"取消",icon:"pi pi-times",severity:"danger",text:"",onClick:H},null,8,["onClick"])]),_:1})]),_:1},8,["editingRows","value"])]),_:1}),k(N,{value:"2"},{default:A(()=>[...f[15]||(f[15]=[y("p",{class:"m-0"}," At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus. ",-1)])]),_:1})]),_:1})]),_:1})])}}}),g_={class:"card"},y_={class:"flex flex-wrap items-center justify-between gap-2"},v_={key:1},b_={__name:"DatatableSaveCell",setup(t){const e=ys(),n=M(),r=M([]),i=M({}),s=M([{field:"code",header:"Code"},{field:"name",header:"Name"},{field:"quantity",header:"Quantity"},{field:"price",header:"Price"},{field:"category",header:"Category"},{field:"description",header:"Description"},{field:"rating",header:"Rating"}]);_t(()=>{Zt.getProductsWithOrders().then(f=>{n.value=f,r.value=JSON.parse(JSON.stringify(f))})});const o=(f,h,m)=>{var g;return((g=i.value[f])==null?void 0:g[h])!==void 0&&String(m)!==String(i.value[f][h])?"bg-yellow-400":""},l=M(null),a=f=>{const{data:h,field:m}=f;l.value=h[m]},c=f=>{let{data:h,newValue:m,field:g}=f;const v=h.id,b=l.value;if(m===b){console.log("資料沒有變動，不做任何事");return}switch(g){case"quantity":case"price":d(m)?h[g]=m:f.preventDefault();break;default:m.trim().length>0?h[g]=m:f.preventDefault();break}h[g]=m,i.value[v]||(i.value[v]={}),g in i.value[v]||(i.value[v][g]=b)},u=()=>{localStorage.setItem("savedProducts",JSON.stringify(n.value)),e.add({severity:"success",summary:"成功",detail:"資料已儲存",life:3e3})},d=f=>{let h=String(f);if(h=h.trim(),!h)return!1;h=h.replace(/^0+/,"")||"0";var m=Math.floor(Number(h));return m!==1/0&&String(m)===h&&m>=0},p=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f);return(f,h)=>{const m=D("Button"),g=D("InputText"),v=D("InputNumber"),b=D("Column"),E=D("DataTable"),x=D("Toast");return S(),C(oe,null,[y("div",g_,[k(E,{value:n.value,editMode:"cell",onCellEditComplete:c,onCellEditInit:a,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],size:"small",stripedRows:"",showGridlines:"",selectionMode:"single",pt:{table:{style:"min-width: 50rem"},column:{bodycell:({state:_})=>({class:"!p-0"})}}},{header:A(()=>[y("div",y_,[h[1]||(h[1]=y("span",{class:"text-xl font-bold"},"測試",-1)),k(m,{label:"存檔",rounded:"",raised:"",onClick:h[0]||(h[0]=_=>u())})])]),default:A(()=>[(S(!0),C(oe,null,Se(s.value,_=>(S(),G(b,{key:_.field,field:_.field,header:_.header},{header:A(()=>[_.field==="price"?(S(),G(m,{key:0,label:"操作",size:"small",rounded:"",onClick:N=>f.onHeaderButtonClick(_.field)},null,8,["onClick"])):(S(),C("span",v_,we(_.header),1))]),body:A(({data:N,field:T})=>[y("div",{class:ht([o(N.id,T),T==="description"?"w-[200px] whitespace-normal break-words":""])},we(T==="price"?p(N[T]):N[T]),3)]),editor:A(({data:N,field:T})=>[T!=="price"?(S(),G(g,{key:0,modelValue:N[T],"onUpdate:modelValue":$=>N[T]=$,autofocus:"",fluid:"",size:"small"},null,8,["modelValue","onUpdate:modelValue"])):(S(),G(v,{key:1,modelValue:N[T],"onUpdate:modelValue":$=>N[T]=$,mode:"currency",currency:"USD",locale:"en-US",autofocus:"",fluid:"",size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1032,["field","header"]))),128))]),_:1},8,["value"])]),k(x)],64)}}},uh=mn(_e({__name:"Tabs2",props:{items:{},activeId:{},variant:{},scrollable:{type:Boolean},closable:{type:Boolean}},emits:["change","close"],setup(t,{emit:e}){const n=t,r=e,i=nt(()=>Array.isArray(n.items)?n.items.findIndex(a=>a.id===n.activeId):-1),s=nt(()=>{switch(n.variant){case"his":return"bg-blue-100 text-blue-700";case"fn":return"bg-green-100 text-green-700";case"card-1":return"bg-purple-100 text-purple-700";case"card-2":return"bg-yellow-100 text-yellow-700";default:return""}});function o(a){console.log("使用者切換到：",a),r("change",String(a))}const l=a=>{r("close",a)};return(a,c)=>{const u=D("Button");return S(),G(be(al),{value:n.activeId,scrollable:a.scrollable,"onUpdate:value":o},{default:A(()=>[k(be(ul),{pt:{tablist:{class:"gap-1 !border-white !border-0"}}},{default:A(()=>[(S(!0),C(oe,null,Se(n.items,d=>(S(),G(be(dl),{key:d.id,value:d.id,class:"!rounded-tl-md !rounded-tr-md !border !border-b-0 !border-gray-400 !px-4",pt:{headerAction:{class:[s.value,a.activeId===d.id?"font-bold bg-blue-500 ":"","flex items-center justify-between"]}}},{default:A(()=>[F(we(d.name)+" ",1),a.closable?(S(),G(u,{key:0,icon:"pi pi-times",severity:"danger",text:"",size:"small",class:"absolute top-0 right-0",onClick:p=>l(d.id)},null,8,["onClick"])):Ln("",!0)]),_:2},1032,["value","pt"]))),128))]),_:1}),k(be(fl),{class:"!p-0"},{default:A(()=>[(S(!0),C(oe,null,Se(n.items,(d,p)=>(S(),G(be(pl),{key:d.id,header:d.name,disabled:d.disabled,value:d.id},{default:A(()=>[i.value===p&&d.panel?(S(),G(ur(d.panel),{key:0})):Pt(a.$slots,d.id,{key:1},void 0,!0)]),_:2},1032,["header","disabled","value"]))),128))]),_:3})]),_:3},8,["value","scrollable"])}}}),[["__scopeId","data-v-f8bc971d"]]),S_={key:0},x_={key:0},k_={key:1},w_={key:1},__={key:0},C_={key:1},E_={key:2},T_={key:2,class:"flex flex-wrap gap-1"},O_={key:3},N_={key:0},M_={key:1},$_={key:4,class:"card flex flex-wrap gap-2"},A_={key:5},D_={class:"whitespace-normal w-80 break-word"},P_={key:0},I_={key:0},R_={key:1},V_={key:1},L_={key:0},B_={key:1},z_={key:2},j_={key:2,class:"flex flex-wrap gap-1"},F_={key:3},H_={key:0},U_={key:1},W_={key:4,class:"card flex flex-wrap gap-2"},K_={key:5},q_={class:"block w-30 truncate"},wa=_e({__name:"DatatableSample",props:{items:{},columns:{}},emits:["save-row","delete-row"],setup(t,{emit:e}){const n=M(),r=M(null),i=M([]),s=M([{field:"id",header:"診號"},{field:"check",header:"報到"},{field:"status",header:"狀態"},{field:"feeno",header:"病歷號"},{field:"name",header:"姓名"},{field:"sex",header:"性別"},{field:"birthday",header:"生日"},{field:"tag",header:"註記"},{field:"din",header:"身分"},{field:"page",header:"報告"}]),o=M({global:{value:null,matchMode:I.CONTAINS}});return(()=>{o.value={global:{value:null,matchMode:I.CONTAINS},id:{operator:W.AND,constraints:[{value:null,matchMode:I.STARTS_WITH}]},check:{operator:W.AND,constraints:[{value:null,matchMode:I.STARTS_WITH}]},status:{value:null,matchMode:I.IN},feeno:{operator:W.AND,constraints:[{value:null,matchMode:I.DATE_IS}]},name:{operator:W.AND,constraints:[{value:null,matchMode:I.EQUALS}]},sex:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},birthday:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},tag:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},din:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},page:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]}}})(),_t(()=>{Zt.getProductsMini().then(a=>n.value=a)}),(a,c)=>{const u=D("Tab"),d=D("TabList"),p=D("Tag"),f=D("Column"),h=D("DataTable"),m=D("TabPanel"),g=D("InputText"),v=D("Button"),b=D("TabPanels"),E=D("Tabs"),x=D("ard");return S(),G(x,{class:"card"},{default:A(()=>[k(E,{value:"0"},{default:A(()=>[k(d,null,{default:A(()=>[k(u,{value:"0"},{default:A(()=>[...c[2]||(c[2]=[F("乳房外科特別門診(早)",-1)])]),_:1}),k(u,{value:"1"},{default:A(()=>[...c[3]||(c[3]=[F("一般外科(午)",-1)])]),_:1}),k(u,{value:"2"},{default:A(()=>[...c[4]||(c[4]=[F("一般外科(晚)",-1)])]),_:1})]),_:1}),k(b,null,{default:A(()=>[k(m,{value:"0"},{default:A(()=>[k(h,{selection:r.value,"onUpdate:selection":c[0]||(c[0]=_=>r.value=_),dataKey:"id",value:n.value,size:"small",resizableColumns:"",columnResizeMode:"fit",showGridlines:"",paginator:"",rows:10},{default:A(()=>[(S(!0),C(oe,null,Se(s.value,_=>(S(),G(f,{key:_.field,field:_.field,header:_.header,class:"max-w-200 whitespace-normal break-word",size:"small"},{body:A(({data:N,field:T})=>[T==="check"?(S(),C("div",S_,[N[T]==="1"?(S(),C("span",x_,[...c[5]||(c[5]=[y("i",{class:"pi pi-check"},null,-1)])])):(S(),C("span",k_,[...c[6]||(c[6]=[y("i",{class:"pi pi-times"},null,-1)])]))])):T==="status"?(S(),C("div",w_,[N[T]==="A"?(S(),C("span",__,[...c[7]||(c[7]=[y("i",{class:"pi pi-times text-red-500"},null,-1),F("暫存",-1)])])):N[T]==="C"?(S(),C("span",C_,[...c[8]||(c[8]=[y("i",{class:"pi pi-check text-green-500"},null,-1),F("已完成",-1)])])):(S(),C("span",E_,"待看診"))])):T==="tag"?(S(),C("div",T_,[(S(!0),C(oe,null,Se(N[T],($,q)=>(S(),G(p,{key:$.id||q,outlined:"",class:ht([$.color==="danger"?"p-tag-danger":$.color==="warning"?"p-tag-warning":$.color==="info"?"p-tag-info":$.color==="success"?"p-tag-success":"","font-medium transition p-1 m-1",$.button==="0"?"underline":""]),value:$.tagname},null,8,["class","value"]))),128))])):T==="din"?(S(),C("div",O_,[N[T]==="1"?(S(),C("span",N_,"健保")):(S(),C("span",M_,"自費"))])):T==="page"?(S(),C("div",$_,[(S(!0),C(oe,null,Se(N[T],($,q)=>(S(),G(p,{key:$.id||q,severity:"secondary",value:$.pagename},null,8,["value"]))),128))])):(S(),C("div",A_,[y("span",D_,we(typeof T=="string"&&T in N?N[T]:""),1)]))]),_:1},8,["field","header"]))),128))]),_:1},8,["selection","value"])]),_:1}),k(m,{value:"1"},{default:A(()=>[k(h,{editingRows:i.value,"onUpdate:editingRows":c[1]||(c[1]=_=>i.value=_),value:n.value,editMode:"row",dataKey:"id",size:"small",resizableColumns:"",columnResizeMode:"fit",selectionMode:"single",showGridlines:"",stripedRows:"",paginator:"",roweditoriniticon:"",rows:10,pt:{}},{default:A(()=>[(S(!0),C(oe,null,Se(s.value,_=>(S(),G(f,{key:_.field,field:_.field,header:_.header,class:"max-w-200 truncate",size:"small"},{body:A(({data:N,field:T})=>[T==="check"?(S(),C("div",P_,[N[T]==="1"?(S(),C("span",I_,[...c[9]||(c[9]=[y("i",{class:"pi pi-check"},null,-1)])])):(S(),C("span",R_,[...c[10]||(c[10]=[y("i",{class:"pi pi-times"},null,-1)])]))])):T==="status"?(S(),C("div",V_,[N[T]==="A"?(S(),C("span",L_,[...c[11]||(c[11]=[y("i",{class:"pi pi-times text-red-500"},null,-1),F("暫存",-1)])])):N[T]==="C"?(S(),C("span",B_,[...c[12]||(c[12]=[y("i",{class:"pi pi-check text-green-500"},null,-1),F("已完成",-1)])])):(S(),C("span",z_,"待看診"))])):T==="tag"?(S(),C("div",j_,[(S(!0),C(oe,null,Se(N[T],($,q)=>(S(),G(p,{key:$.id||q,class:ht([$.color==="danger"?"p-tag-danger":$.color==="warning"?"p-tag-warning":$.color==="info"?"p-tag-info":$.color==="success"?"p-tag-success":"","font-medium transition p-1 m-1",$.button==="0"?"underline":""]),value:$.tagname},null,8,["class","value"]))),128))])):T==="din"?(S(),C("div",F_,[N[T]==="1"?(S(),C("span",H_,"健保")):(S(),C("span",U_,"自費"))])):T==="page"?(S(),C("div",W_,[(S(!0),C(oe,null,Se(N[T],($,q)=>(S(),G(p,{key:$.id||q,severity:"secondary",value:$.pagename},null,8,["value"]))),128))])):(S(),C("div",K_,[y("span",q_,we(typeof T=="string"&&T in N?N[T]:""),1)]))]),editor:A(({data:N,field:T})=>[k(g,{modelValue:N[T],"onUpdate:modelValue":$=>N[T]=$,autofocus:"",fluid:"",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["field","header"]))),128)),k(f,{header:"操作"},{body:A(({editorInitCallback:_,data:N})=>[k(v,{size:"small",label:"編輯",icon:"pi pi-pencil",text:"",onClick:_},null,8,["onClick"]),k(v,{size:"small",label:"刪除",icon:"pi pi-trash",text:"",onClick:T=>a.$emit("delete-row",N)},null,8,["onClick"])]),editor:A(({editorSaveCallback:_,editorCancelCallback:N,data:T})=>[k(v,{label:"儲存",icon:"pi pi-save",text:"",onClick:_},null,8,["onClick"]),k(v,{label:"取消",icon:"pi pi-times",severity:"danger",text:"",onClick:N},null,8,["onClick"])]),_:1})]),_:1},8,["editingRows","value"])]),_:1}),k(m,{value:"2"},{default:A(()=>[...c[13]||(c[13]=[y("p",{class:"m-0"}," At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus. ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})}}}),J_={class:"flex-grow"},G_={class:"flex flex-wrap justify-between"},Y_={class:"flex flex-wrap gap-x-4 gap-y-2 divide-x-1 divide-solid divide-gray-300 mb-2"},Q_={class:"pr-2"},X_={class:"flex items-center gap-3 pr-2"},Z_={class:"flex items-center gap-1",for:"ingredient1"},eC={class:"flex items-center gap-1",for:"ingredient2"},tC={class:"flex items-center gap-3 pr-2"},nC={class:"flex items-center gap-1",for:"ingredient1"},rC={class:"flex items-center gap-1",for:"ingredient2"},iC={class:"flex items-center gap-1",for:"ingredient1"},sC={class:"flex items-center gap-2"},oC={class:"flex items-center gap-1",for:"ingredient1"},lC={class:"flex items-center gap-1",for:"ingredient2"},aC=mn(_e({__name:"TabPane5",setup(t){const e=M("實體IC"),n=M(["實體IC","虛擬IC"]),r=M(),i=M([{name:"New York",code:"NY"},{name:"Rome",code:"RM"}]),s=M([]),o=(p,f)=>{console.log("要儲存的資料",p),f()},l=p=>{console.log("要刪除的資料",p)},a=M(),c=M([{field:"id",header:"診號"},{field:"check",header:"報到"},{field:"status",header:"狀態"},{field:"feeno",header:"病歷號"},{field:"name",header:"姓名"},{field:"sex",header:"性別"},{field:"birthday",header:"生日"},{field:"tag",header:"註記"},{field:"din",header:"身分"},{field:"page",header:"報告"}]),u=M({global:{value:null,matchMode:I.CONTAINS}});return(()=>{u.value={global:{value:null,matchMode:I.CONTAINS},id:{operator:W.AND,constraints:[{value:null,matchMode:I.STARTS_WITH}]},check:{operator:W.AND,constraints:[{value:null,matchMode:I.STARTS_WITH}]},status:{value:null,matchMode:I.IN},feeno:{operator:W.AND,constraints:[{value:null,matchMode:I.DATE_IS}]},name:{operator:W.AND,constraints:[{value:null,matchMode:I.EQUALS}]},sex:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},birthday:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},tag:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},din:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},page:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]}}})(),(p,f)=>{const h=D("Button"),m=D("SelectButton"),g=D("Checkbox"),v=D("Select");return S(),C("div",J_,[y("div",G_,[f[9]||(f[9]=y("div",{class:"flex gap-2 mb-3"},[y("div",{class:"bg-primary h-[20px] w-2"}),y("p",{class:"text-primary text-lg"},"病患等候清單")],-1)),k(h,{label:"未確認清單(5)",severity:"secondary",size:"small"})]),y("div",Y_,[y("div",Q_,[k(m,{modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=b=>e.value=b),options:n.value,size:"small"},null,8,["modelValue","options"])]),y("div",X_,[y("label",Z_,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[1]||(f[1]=b=>s.value=b),inputId:"ingredient1",name:"pizza",value:"自費",size:"small"},null,8,["modelValue"]),f[10]||(f[10]=F(" 自費 ",-1))]),y("label",eC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[2]||(f[2]=b=>s.value=b),inputId:"ingredient2",name:"pizza",value:"健保欠卡",size:"small"},null,8,["modelValue"]),f[11]||(f[11]=F(" 健保欠卡 ",-1))]),k(v,{modelValue:r.value,"onUpdate:modelValue":f[3]||(f[3]=b=>r.value=b),editable:"",options:i.value,showClear:"",optionLabel:"name",placeholder:"異常碼",size:"small"},null,8,["modelValue","options"]),f[12]||(f[12]=y("label",{class:"flex items-center"},[F(" 看診號： "),y("p",null,"--")],-1))]),y("div",tC,[y("label",nC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[4]||(f[4]=b=>s.value=b),inputId:"ingredient3",name:"pizza",value:"Cheese",size:"small"},null,8,["modelValue"]),f[13]||(f[13]=F(" 已完成(4) ",-1))]),y("label",rC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[5]||(f[5]=b=>s.value=b),inputId:"ingredient4",name:"pizza",value:"Mushroom",size:"small"},null,8,["modelValue"]),f[14]||(f[14]=F(" 暫存(2) ",-1))]),y("label",iC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[6]||(f[6]=b=>s.value=b),inputId:"ingredient5",name:"pizza",value:"Cheese1",size:"small"},null,8,["modelValue"]),f[15]||(f[15]=F(" 待看診(3) ",-1))])]),y("div",sC,[y("label",oC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[7]||(f[7]=b=>s.value=b),inputId:"ingredient6",name:"pizza",value:"Cheese2",size:"small"},null,8,["modelValue"]),f[16]||(f[16]=F(" 已報到 ",-1))]),y("label",lC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[8]||(f[8]=b=>s.value=b),inputId:"ingredient7",name:"pizza",value:"Mushroom1",size:"small"},null,8,["modelValue"]),f[17]||(f[17]=F(" 未報到 ",-1))])])]),k(h,{label:"查詢",size:"small"}),k(wa,{items:a.value,columns:c.value,onSaveRow:o,onDeleteRow:l},null,8,["items","columns"])])}}}),[["__scopeId","data-v-d4f6e896"]]),cC={class:"flex-grow border-1 border-gray-200 p-2 bg-white shadow-lg"},uC={class:"flex items-start"},dC={class:"flex-wrap"},fC={class:"flex items-center gap-2"},pC={class:"flex items-center gap-1",for:"ingredient1"},hC={class:"flex items-start mt-2"},mC={class:"flex border-1 border-gray-200"},gC={class:"flex-wrap p-2"},yC={class:"flex items-start gap-3 pr-2"},vC={class:"flex border-1 border-gray-200"},bC={class:"flex-wrap"},SC={class:"flex items-center gap-2"},xC={class:"flex items-center gap-1",for:"ingredient1"},kC=mn(_e({__name:"TabPane6",setup(t){M("實體IC"),M(["實體IC","虛擬IC"]),M(),M([{name:"New York",code:"NY"},{name:"Rome",code:"RM"}]),M([]),M(),M([{field:"id",header:"診號"},{field:"check",header:"報到"},{field:"status",header:"狀態"},{field:"feeno",header:"病歷號"},{field:"name",header:"姓名"},{field:"sex",header:"性別"},{field:"birthday",header:"生日"},{field:"tag",header:"註記"},{field:"din",header:"身分"},{field:"page",header:"報告"}]);const e=M({global:{value:null,matchMode:I.CONTAINS}});return(()=>{e.value={global:{value:null,matchMode:I.CONTAINS},id:{operator:W.AND,constraints:[{value:null,matchMode:I.STARTS_WITH}]},check:{operator:W.AND,constraints:[{value:null,matchMode:I.STARTS_WITH}]},status:{value:null,matchMode:I.IN},feeno:{operator:W.AND,constraints:[{value:null,matchMode:I.DATE_IS}]},name:{operator:W.AND,constraints:[{value:null,matchMode:I.EQUALS}]},sex:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},birthday:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},tag:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},din:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},page:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]}}})(),(r,i)=>{const s=D("Tag"),o=D("Button"),l=D("Tab"),a=D("TabList"),c=D("TabPanel"),u=D("TabPanels"),d=D("Tabs");return S(),C(oe,null,[y("div",cC,[y("div",uC,[k(s,{icon:"pi pi-info",class:"mr-1 p-5",size:"small",severity:"secondary",rounded:""}),y("div",dC,[i[2]||(i[2]=Fm('<div class="flex items-center gap-3 pr-2" data-v-54ea67ba><dl class="flex flex-wrap gap-x-4" data-v-54ea67ba><div class="flex flex-nowrap" data-v-54ea67ba><dt data-v-54ea67ba>身高</dt><dd class="font-bold text-purple-700 ml-1" data-v-54ea67ba>170.0cm</dd></div><div class="flex flex-nowrap" data-v-54ea67ba><dt data-v-54ea67ba>體重</dt><dd class="font-bold text-purple-700 ml-1" data-v-54ea67ba>170.0cm</dd></div><div class="flex flex-nowrap" data-v-54ea67ba><dt data-v-54ea67ba>BMI</dt><dd class="font-bold text-purple-700 ml-1" data-v-54ea67ba>18.5</dd></div><div class="flex flex-nowrap" data-v-54ea67ba><dt data-v-54ea67ba>BSA</dt><dd class="font-bold text-purple-700 ml-1" data-v-54ea67ba>1.95</dd></div><div class="flex flex-nowrap" data-v-54ea67ba><dt data-v-54ea67ba>血壓</dt><dd class="font-bold text-purple-700 ml-1" data-v-54ea67ba>132/70 mmHg</dd></div><div class="flex flex-nowrap" data-v-54ea67ba><dt data-v-54ea67ba>體溫</dt><dd class="font-bold text-purple-700 ml-1" data-v-54ea67ba>36.2℃</dd></div><div class="flex flex-nowrap" data-v-54ea67ba><dt data-v-54ea67ba>血糖</dt><dd class="font-bold text-purple-700 ml-1" data-v-54ea67ba>00 mg/dL</dd></div><div class="flex flex-nowrap" data-v-54ea67ba><dt data-v-54ea67ba>脈搏</dt><dd class="font-bold text-purple-700 ml-1" data-v-54ea67ba>000次/分</dd></div></dl></div>',1)),y("div",fC,[y("label",pC,[i[1]||(i[1]=F(" 疼痛指數 : ",-1)),k(o,{size:"small",class:"!gap-[0.2rem] flex items-center"},{default:A(()=>[...i[0]||(i[0]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-emoji-smile",viewBox:"0 0 16 16"},[y("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),y("path",{d:"M4.285 9.567a.5.5 0 0 1 .683.183A3.5 3.5 0 0 0 8 11.5a3.5 3.5 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5m4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5"})],-1),y("span",{class:"align-middle"},"0",-1)])]),_:1})]),k(o,{label:"編輯",size:"small",icon:"pi pi-pencil",severity:"secondary"})])])])]),y("div",hC,[y("div",mC,[y("div",gC,[y("div",yC,[k(d,{value:"0"},{default:A(()=>[k(a,null,{default:A(()=>[k(o,{label:"CPOE",size:"small"}),k(l,{value:"0"},{default:A(()=>[...i[3]||(i[3]=[F("就醫資訊",-1)])]),_:1}),k(l,{value:"1"},{default:A(()=>[...i[4]||(i[4]=[F("過敏藥(4)",-1)])]),_:1}),k(l,{value:"2"},{default:A(()=>[...i[5]||(i[5]=[F("個人重大傷病",-1)])]),_:1})]),_:1}),k(u,null,{default:A(()=>[k(c,{value:"0"},{default:A(()=>[...i[6]||(i[6]=[y("div",{class:"horizontal-label flex gap-2 items-center flex-wrap"},[y("div",{class:"label-wrapper show-colon text-right"},[y("label",{for:"name1"},"診號"),y("span",null,":")]),y("div",{class:"flex flex-wrap divide-x divide-gray-300 gap-x-1"},[y("span",{class:"pr-1"},"001")])],-1),y("div",{class:"horizontal-label flex gap-2 items-center flex-wrap"},[y("div",{class:"label-wrapper show-colon text-right"},[y("label",{for:"name1"},"卡序"),y("span",null,":")]),y("div",{class:"flex flex-wrap divide-x divide-gray-300 gap-x-1"},[y("span",{class:"pr-1"},"IC07")])],-1),y("div",{class:"horizontal-label flex gap-2 items-center flex-wrap"},[y("div",{class:"label-wrapper show-colon text-right"},[y("label",{for:"name1"},"優待身分"),y("span",null,":")]),y("div",{class:"flex flex-wrap divide-x divide-gray-300 gap-x-1"},[y("span",{class:"pr-1"},"70歲以上年長者")])],-1),y("div",{class:"grid grid-cols-[auto_1rem_auto] gap-x-2 place-content-center mb-2"},[y("label",{class:"text-right"},"診號"),y("span",null,":"),y("span",null,"001")],-1),y("div",{class:"grid grid-cols-[auto_1rem_auto] gap-x-2 place-content-center mb-2"},[y("label",{class:"text-right"},"卡序"),y("span",null,":"),y("span",null,"IC07")],-1),y("div",{class:"grid grid-cols-[auto_1rem_auto] gap-x-2 place-content-center"},[y("label",{class:"text-right"},"優待身分"),y("span",null,":"),y("span",null,"70歲以上年長者")],-1)])]),_:1}),k(c,{value:"1"},{default:A(()=>[...i[7]||(i[7]=[y("p",{class:"m-0"},null,-1)])]),_:1}),k(c,{value:"2"},{default:A(()=>[...i[8]||(i[8]=[y("p",{class:"m-0"}," At vero eos et accusamus ",-1)])]),_:1})]),_:1})]),_:1})])])]),y("div",vC,[y("div",bC,[y("div",SC,[y("label",xC,[i[10]||(i[10]=F(" 疼痛指數 : ",-1)),k(o,{size:"small",class:"!gap-[0.2rem] flex items-center"},{default:A(()=>[...i[9]||(i[9]=[y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-emoji-smile",viewBox:"0 0 16 16"},[y("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),y("path",{d:"M4.285 9.567a.5.5 0 0 1 .683.183A3.5 3.5 0 0 0 8 11.5a3.5 3.5 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5m4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5"})],-1),y("span",{class:"align-middle"},"0",-1)])]),_:1})]),k(o,{label:"編輯",size:"small",icon:"pi pi-pencil",severity:"secondary"})])])])])],64)}}}),[["__scopeId","data-v-54ea67ba"]]),wC={class:"flex flex-col md:flex-row items-start gap-4"},_C={class:"flex-grow min-w-0"},CC=_e({__name:"PatientList",setup(t){const e=M(),n=M("his"),r=M(!0),i=M(!0),s=lr([{id:"REGSFN05",name:"病患候診清單",panel:aC},{id:"REGSFN06",name:"門診醫囑",panel:kC,disabled:!0}]),o=M(s.value[1].id),l=c=>{const u=s.value.filter(d=>d.id!==c);s.value=u},a=c=>{console.log("Parent received change:",c),o.value=c};return _t(()=>{Zt.getProductsMini().then(c=>e.value=c)}),(c,u)=>(S(),C("div",wC,[y("div",_C,[k(uh,{"active-id":o.value,variant:n.value,items:s.value,scrollable:i.value,closable:r.value,class:"",onChange:a,onClose:l},null,8,["active-id","variant","items","scrollable","closable"])])]))}}),EC={class:"flex gap-3"},TC={class:"flex-auto"},OC={class:"flex-grow"},NC=_e({__name:"TabPane3",setup(t){return(e,n)=>(S(),C("div",EC,[n[0]||(n[0]=y("div",{class:"space-y-3"},[y("div",{class:"flex-none mr-2 border-1 border-gray-300 p-2"},[y("div",{class:"flex gap-2 mb-3"},[y("div",{class:"bg-primary h-[20px] w-2"}),y("p",{class:"text-primary text-lg"},"病人資訊")]),y("div",{class:"flex-grow"},[y("div",{class:"horizontal-label flex gap-2 items-center flex-wrap"},[y("div",{class:"label-wrapper show-colon text-right"},[y("label",{for:"name1"},"看診"),y("span",null,":")]),y("div",{class:"flex flex-wrap divide-x divide-gray-300 gap-x-1"},[y("span",{class:"pr-1"},"2024-12-14"),y("span",{class:"pr-1"},"午"),y("span",{class:"pr-1"},"李華陀")])]),y("div",{class:"horizontal-label flex gap-2 items-center flex-wrap"},[y("div",{class:"label-wrapper show-colon text-right"},[y("label",{for:"name3"},"科別"),y("span",null,":")]),y("div",{class:"flex flex-wrap divide-x divide-gray-300 gap-x-1"},[y("span",{class:"pr-1"},"感染科"),y("span",{class:"pr-1"},"類流感門診")])]),y("hr",{class:"h-px my-2 bg-gray-200 border-0 dark:bg-gray-700"}),y("div",{class:"horizontal-label flex gap-2 items-center flex-wrap"},[y("div",{class:"label-wrapper show-colon text-right"},[y("label",{for:"name4"},"姓名"),y("span",null,":")]),y("div",{class:"flex flex-wrap divide-x divide-gray-300 gap-x-1"},[y("span",{class:"pr-1"},"林祥白"),y("span",{class:"pr-1"},"男")])]),y("div",{class:"horizontal-label flex gap-2 items-center flex-wrap"},[y("div",{class:"label-wrapper show-colon text-right"},[y("label",{for:"name4"},"生日"),y("span",null,":")]),y("div",{class:"flex flex-wrap divide-x divide-gray-300 gap-x-1"},[y("span",{class:"pr-1"},"1971-08-30(54y10m30d)")])]),y("div",{class:"mt-1 flex gap-1 items-center"},[y("div",{class:"bg-orange-300 border-surface-500 relative inline-block min-h-10 min-w-10 overflow-hidden rounded-full border px-0.5 py-1.5 text-center select-none font-bold","data-pd-tooltip":"true"},[y("span",{class:"text-color"},"跌")]),y("div",{role:"button",class:"border-sky-700 relative inline-block min-h-5 min-w-5 overflow-hidden border px-0.5 py-1.5 text-center select-none cursor-pointer rounded-md hover:border-2 font-bold"},[y("span",{class:"text-sky-700 underline"},"管理")]),y("div",{role:"button",class:"border-sky-700 relative inline-block min-h-5 min-w-5 overflow-hidden border px-0.5 py-1.5 text-center select-none cursor-pointer rounded-md hover:border-2 font-bold"},[y("span",{class:"text-sky-700 underline"},"過敏")]),y("div",{role:"button",class:"border-sky-700 relative inline-block min-h-5 min-w-5 overflow-hidden border px-0.5 py-1.5 text-center select-none cursor-pointer rounded-md hover:border-2 font-bold"},[y("span",{class:"text-sky-700 underline"},"重大")])])])]),y("div",{class:"flex-none mr-2 border-1 border-gray-300 p-2"},[y("div",{class:"flex gap-2 mb-3"},[y("div",{class:"bg-primary h-[20px] w-2"}),y("p",{class:"text-primary text-lg"},"功能選單")]),y("div",{class:"flex-grow"})])],-1)),y("div",TC,[y("div",OC,[k(CC)])])]))}}),MC={class:"flex-grow"},$C={class:"flex flex-wrap justify-between"},AC={class:"flex flex-wrap gap-x-4 gap-y-2 divide-x-1 divide-solid divide-gray-300 mb-2"},DC={class:"pr-2"},PC={class:"flex items-center gap-3 pr-2"},IC={class:"flex items-center gap-1",for:"ingredient1"},RC={class:"flex items-center gap-1",for:"ingredient2"},VC={class:"flex items-center gap-3 pr-2"},LC={class:"flex items-center gap-1",for:"ingredient1"},BC={class:"flex items-center gap-1",for:"ingredient2"},zC={class:"flex items-center gap-1",for:"ingredient1"},jC={class:"flex items-center gap-2"},FC={class:"flex items-center gap-1",for:"ingredient1"},HC={class:"flex items-center gap-1",for:"ingredient2"},UC=mn(_e({__name:"TabPane4",setup(t){const e=M("實體IC"),n=M(["實體IC","虛擬IC"]),r=M(),i=M([{name:"New York",code:"NY"},{name:"Rome",code:"RM"}]),s=M([]);M([]);const o=(p,f)=>{console.log("要儲存的資料",p),f()},l=p=>{console.log("要刪除的資料",p)},a=M(),c=M([{field:"id",header:"診號"},{field:"check",header:"報到"},{field:"status",header:"狀態"},{field:"feeno",header:"病歷號"},{field:"name",header:"姓名"},{field:"sex",header:"性別"},{field:"birthday",header:"生日"},{field:"tag",header:"註記"},{field:"din",header:"身分"},{field:"page",header:"報告"}]),u=M({global:{value:null,matchMode:I.CONTAINS}});return(()=>{u.value={global:{value:null,matchMode:I.CONTAINS},id:{operator:W.AND,constraints:[{value:null,matchMode:I.STARTS_WITH}]},check:{operator:W.AND,constraints:[{value:null,matchMode:I.STARTS_WITH}]},status:{value:null,matchMode:I.IN},feeno:{operator:W.AND,constraints:[{value:null,matchMode:I.DATE_IS}]},name:{operator:W.AND,constraints:[{value:null,matchMode:I.EQUALS}]},sex:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},birthday:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},tag:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},din:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},page:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]}}})(),(p,f)=>{const h=D("Button"),m=D("SelectButton"),g=D("Checkbox"),v=D("Select");return S(),C("div",MC,[y("div",$C,[f[9]||(f[9]=y("div",{class:"flex gap-2 mb-3"},[y("div",{class:"bg-primary h-[20px] w-2"}),y("p",{class:"text-primary text-lg"},"病患等候清單")],-1)),k(h,{label:"未確認清單(5)",severity:"secondary",size:"small"})]),y("div",AC,[y("div",DC,[k(m,{modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=b=>e.value=b),options:n.value,size:"small"},null,8,["modelValue","options"])]),y("div",PC,[y("label",IC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[1]||(f[1]=b=>s.value=b),inputId:"ingredient1",name:"pizza",value:"自費",size:"small"},null,8,["modelValue"]),f[10]||(f[10]=F(" 自費 ",-1))]),y("label",RC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[2]||(f[2]=b=>s.value=b),inputId:"ingredient2",name:"pizza",value:"健保欠卡",size:"small"},null,8,["modelValue"]),f[11]||(f[11]=F(" 健保欠卡 ",-1))]),k(v,{modelValue:r.value,"onUpdate:modelValue":f[3]||(f[3]=b=>r.value=b),editable:"",options:i.value,showClear:"",optionLabel:"name",placeholder:"異常碼",size:"small"},null,8,["modelValue","options"]),f[12]||(f[12]=y("label",{class:"flex items-center"},[F(" 看診號： "),y("p",null,"--")],-1))]),y("div",VC,[y("label",LC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[4]||(f[4]=b=>s.value=b),inputId:"ingredient3",name:"pizza",value:"Cheese",size:"small"},null,8,["modelValue"]),f[13]||(f[13]=F(" 已完成(4) ",-1))]),y("label",BC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[5]||(f[5]=b=>s.value=b),inputId:"ingredient4",name:"pizza",value:"Mushroom",size:"small"},null,8,["modelValue"]),f[14]||(f[14]=F(" 暫存(2) ",-1))]),y("label",zC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[6]||(f[6]=b=>s.value=b),inputId:"ingredient5",name:"pizza",value:"Cheese1",size:"small"},null,8,["modelValue"]),f[15]||(f[15]=F(" 待看診(3) ",-1))])]),y("div",jC,[y("label",FC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[7]||(f[7]=b=>s.value=b),inputId:"ingredient6",name:"pizza",value:"Cheese2",size:"small"},null,8,["modelValue"]),f[16]||(f[16]=F(" 已報到 ",-1))]),y("label",HC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[8]||(f[8]=b=>s.value=b),inputId:"ingredient7",name:"pizza",value:"Mushroom1",size:"small"},null,8,["modelValue"]),f[17]||(f[17]=F(" 未報到 ",-1))])])]),k(h,{label:"查詢",size:"small"}),k(wa,{items:a.value,columns:c.value,onSaveRow:o,onDeleteRow:l},null,8,["items","columns"])])}}}),[["__scopeId","data-v-954428b2"]]),WC={class:"flex-grow min-w-0 h-full"},KC=_e({__name:"CPOEDemo",setup(t){const e=M(),n=M("his"),r=M(!0),i=M(!0),s=lr([{id:"REGSFN01",name:"病患清單",panel:NC,disabled:!0},{id:"REGSFN02",name:"門診醫囑",panel:UC}]),o=M(s.value[0].id),l=c=>{const u=s.value.filter(d=>d.id!==c);s.value=u},a=c=>{console.log("Parent received change:",c),o.value=c};return M([{field:"id",header:"診號"},{field:"status",header:"狀態"},{field:"name",header:"姓名"}]),_t(()=>{Zt.getProductsMini().then(c=>e.value=c)}),(c,u)=>(S(),C("div",WC,[k(uh,{"active-id":o.value,variant:n.value,items:s.value,scrollable:i.value,closable:r.value,onChange:a,onClose:l},null,8,["active-id","variant","items","scrollable","closable"])]))}}),dh=mn(_e({__name:"Tabs",props:{items:{},activeId:{},variant:{},scrollable:{type:Boolean},closable:{type:Boolean}},emits:["change","close"],setup(t,{emit:e}){const n=t,r=e,i=nt(()=>Array.isArray(n.items)?n.items.findIndex(a=>a.id===n.activeId):-1),s=nt(()=>{switch(n.variant){case"his":return"bg-blue-100 text-blue-700";case"fn":return"bg-green-100 text-green-700";case"card-1":return"bg-purple-100 text-purple-700";case"card-2":return"bg-yellow-100 text-yellow-700";default:return""}});function o(a){console.log("使用者切換到：",a),r("change",String(a))}const l=a=>{r("close",a)};return(a,c)=>{const u=D("Button");return S(),G(be(al),{value:n.activeId,scrollable:a.scrollable,"onUpdate:value":o},{default:A(()=>[k(be(ul),{pt:{tablist:{class:"gap-1 !border-white !border-0 !p-0"}}},{default:A(()=>[(S(!0),C(oe,null,Se(n.items,d=>(S(),G(be(dl),{key:d.id,value:d.id,class:"!rounded-tl-md !rounded-tr-md !border !border-b-0 !border-gray-400 !px-4",pt:{headerAction:{class:[s.value,a.activeId===d.id?"font-bold bg-blue-500 ":"","flex items-center justify-between"]}}},{default:A(()=>[F(we(d.name)+" ",1),a.closable?(S(),G(u,{key:0,icon:"pi pi-times",severity:"danger",text:"",size:"small",class:"absolute top-0 right-0",onClick:p=>l(d.id)},null,8,["onClick"])):Ln("",!0)]),_:2},1032,["value","pt"]))),128))]),_:1}),k(be(fl),{class:"border-1 border-gray-300"},{default:A(()=>[(S(!0),C(oe,null,Se(n.items,(d,p)=>(S(),G(be(pl),{key:d.id,header:d.name,disabled:d.disabled,value:d.id},{default:A(()=>[i.value===p&&d.panel?(S(),G(ur(d.panel),{key:0})):Pt(a.$slots,d.id,{key:1},void 0,!0)]),_:2},1032,["header","disabled","value"]))),128))]),_:3})]),_:3},8,["value","scrollable"])}}}),[["__scopeId","data-v-bb25d29e"]]),qC={class:"flex-grow"},JC={class:"flex flex-wrap justify-between"},GC={class:"flex flex-wrap gap-x-4 gap-y-2 divide-x-1 divide-solid divide-gray-300 mb-2"},YC={class:"pr-2"},QC={class:"flex items-center gap-3 pr-2"},XC={class:"flex items-center gap-1",for:"ingredient1"},ZC={class:"flex items-center gap-1",for:"ingredient2"},eE={class:"flex items-center gap-3 pr-2"},tE={class:"flex items-center gap-1",for:"ingredient1"},nE={class:"flex items-center gap-1",for:"ingredient2"},rE={class:"flex items-center gap-1",for:"ingredient1"},iE={class:"flex items-center gap-2"},sE={class:"flex items-center gap-1",for:"ingredient1"},oE={class:"flex items-center gap-1",for:"ingredient2"},fh=mn(_e({__name:"TabPane1",setup(t){const e=M("實體IC"),n=M(["實體IC","虛擬IC"]),r=M(),i=M([{name:"New York",code:"NY"},{name:"Rome",code:"RM"}]),s=M([]);M([]);const o=(p,f)=>{console.log("要儲存的資料",p),f()},l=p=>{console.log("要刪除的資料",p)},a=M(),c=M([{field:"id",header:"診號"},{field:"check",header:"報到"},{field:"status",header:"狀態"},{field:"feeno",header:"病歷號"},{field:"name",header:"姓名"},{field:"sex",header:"性別"},{field:"birthday",header:"生日"},{field:"tag",header:"註記"},{field:"din",header:"身分"},{field:"page",header:"報告"}]),u=M({global:{value:null,matchMode:I.CONTAINS}});return(()=>{u.value={global:{value:null,matchMode:I.CONTAINS},id:{operator:W.AND,constraints:[{value:null,matchMode:I.STARTS_WITH}]},check:{operator:W.AND,constraints:[{value:null,matchMode:I.STARTS_WITH}]},status:{value:null,matchMode:I.IN},feeno:{operator:W.AND,constraints:[{value:null,matchMode:I.DATE_IS}]},name:{operator:W.AND,constraints:[{value:null,matchMode:I.EQUALS}]},sex:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},birthday:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},tag:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},din:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]},page:{operator:W.OR,constraints:[{value:null,matchMode:I.EQUALS}]}}})(),(p,f)=>{const h=D("Button"),m=D("SelectButton"),g=D("Checkbox"),v=D("Select");return S(),C("div",qC,[y("div",JC,[f[9]||(f[9]=y("div",{class:"flex gap-2 mb-3"},[y("div",{class:"bg-primary h-[20px] w-2"}),y("p",{class:"text-primary text-lg"},"病患等候清單")],-1)),k(h,{label:"未確認清單(5)",severity:"secondary",size:"small"})]),y("div",GC,[y("div",YC,[k(m,{modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=b=>e.value=b),options:n.value,size:"small"},null,8,["modelValue","options"])]),y("div",QC,[y("label",XC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[1]||(f[1]=b=>s.value=b),inputId:"ingredient1",name:"pizza",value:"自費",size:"small"},null,8,["modelValue"]),f[10]||(f[10]=F(" 自費 ",-1))]),y("label",ZC,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[2]||(f[2]=b=>s.value=b),inputId:"ingredient2",name:"pizza",value:"健保欠卡",size:"small"},null,8,["modelValue"]),f[11]||(f[11]=F(" 健保欠卡 ",-1))]),k(v,{modelValue:r.value,"onUpdate:modelValue":f[3]||(f[3]=b=>r.value=b),editable:"",options:i.value,showClear:"",optionLabel:"name",placeholder:"異常碼",size:"small"},null,8,["modelValue","options"]),f[12]||(f[12]=y("label",{class:"flex items-center"},[F(" 看診號： "),y("p",null,"--")],-1))]),y("div",eE,[y("label",tE,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[4]||(f[4]=b=>s.value=b),inputId:"ingredient3",name:"pizza",value:"Cheese",size:"small"},null,8,["modelValue"]),f[13]||(f[13]=F(" 已完成(4) ",-1))]),y("label",nE,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[5]||(f[5]=b=>s.value=b),inputId:"ingredient4",name:"pizza",value:"Mushroom",size:"small"},null,8,["modelValue"]),f[14]||(f[14]=F(" 暫存(2) ",-1))]),y("label",rE,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[6]||(f[6]=b=>s.value=b),inputId:"ingredient5",name:"pizza",value:"Cheese1",size:"small"},null,8,["modelValue"]),f[15]||(f[15]=F(" 待看診(3) ",-1))])]),y("div",iE,[y("label",sE,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[7]||(f[7]=b=>s.value=b),inputId:"ingredient6",name:"pizza",value:"Cheese2",size:"small"},null,8,["modelValue"]),f[16]||(f[16]=F(" 已報到 ",-1))]),y("label",oE,[k(g,{modelValue:s.value,"onUpdate:modelValue":f[8]||(f[8]=b=>s.value=b),inputId:"ingredient7",name:"pizza",value:"Mushroom1",size:"small"},null,8,["modelValue"]),f[17]||(f[17]=F(" 未報到 ",-1))])])]),k(h,{label:"查詢",size:"small"}),k(wa,{items:a.value,columns:c.value,onSaveRow:o,onDeleteRow:l},null,8,["items","columns"])])}}}),[["__scopeId","data-v-3f8e95e9"]]),lE={class:"p-4"},ph=mn(_e({__name:"TabPane2",props:{tabId:{}},setup(t){return(e,n)=>(S(),C("div",lE,[n[2]||(n[2]=y("h2",{class:"text-xl font-bold mb-2"},"Tab 面板內容",-1)),y("p",null,[n[0]||(n[0]=F("這是 ",-1)),y("strong",null,we(e.tabId),1),n[1]||(n[1]=F(" 的內容區塊。",-1))])]))}}),[["__scopeId","data-v-5daa1651"]]),aE={class:"flex flex-col md:flex-row items-start gap-4"},cE={class:"flex-grow min-w-0"},uE={class:"w-full md:w-80 flex-shrink-0 mt-18 md:mt-18"},dE={key:0},fE={class:"block truncate"},pE={key:1},hE={key:0},mE={key:1},gE={key:2},yE={key:2},vE={class:"block truncate"},bE=_e({__name:"CPOEDemo2",setup(t){const e=M(),n=M("his"),r=M(!0),i=M(!0),s=lr([{id:"REGSFN01",name:"門診醫囑",panel:fh,disabled:!0},{id:"REGSFN02",name:"病患清單",panel:ph}]),o=M(s.value[0].id),l=u=>{const d=s.value.filter(p=>p.id!==u);s.value=d},a=u=>{console.log("Parent received change:",u),o.value=u},c=M([{field:"id",header:"診號"},{field:"status",header:"狀態"},{field:"name",header:"姓名"}]);return _t(()=>{Zt.getProductsMini().then(u=>e.value=u)}),(u,d)=>{const p=D("Column"),f=D("DataTable"),h=D("Card");return S(),C("div",aE,[y("div",cE,[k(dh,{"active-id":o.value,variant:n.value,items:s.value,scrollable:i.value,closable:r.value,onChange:a,onClose:l},null,8,["active-id","variant","items","scrollable","closable"])]),y("div",uE,[k(h,{class:"h-full flex flex-col p-2"},{header:A(()=>[...d[0]||(d[0]=[y("div",{class:"flex gap-4"},[y("div",{class:"flex gap-2 items-center flex-1"},[y("div",{class:"bg-primary h-[25px] w-2"}),y("p",{class:"text-primary text-lg m-0"},"當日急件報告")]),y("div",{class:"flex flex-col justify-end flex-1"},[y("p",null,"3分鐘前更新"),y("p",null,"總比數：3")])],-1)])]),content:A(()=>[k(f,{value:e.value,editMode:"row",dataKey:"id",size:"small",resizableColumns:"",columnResizeMode:"fit",selectionMode:"single",showGridlines:"",stripedRows:"",paginator:"",roweditoriniticon:"",rows:10,pt:{}},{default:A(()=>[(S(!0),C(oe,null,Se(c.value,m=>(S(),G(p,{key:m.field,field:m.field,header:m.header,class:"max-w-200 truncate",size:"small"},{body:A(({data:g,field:v})=>[v==="id"?(S(),C("div",dE,[y("span",fE,"早診"+we(typeof v=="string"&&v in g?g[v]:""),1)])):v==="status"?(S(),C("div",pE,[g[v]==="A"?(S(),C("span",hE,[...d[1]||(d[1]=[y("i",{class:"pi pi-times text-red-500"},null,-1),F("2/2",-1)])])):g[v]==="C"?(S(),C("span",mE,[...d[2]||(d[2]=[y("i",{class:"pi pi-check text-green-500"},null,-1),F("0/1",-1)])])):(S(),C("span",gE,"1/5"))])):(S(),C("div",yE,[y("span",vE,we(typeof v=="string"&&v in g?g[v]:""),1)]))]),_:1},8,["field","header"]))),128))]),_:1},8,["value"])]),footer:A(()=>[...d[3]||(d[3]=[])]),_:1})])])}}}),SE={class:"flex flex-col md:flex-row items-start gap-4"},xE={class:"flex-grow min-w-0"},kE={class:"w-full md:w-80 flex-shrink-0 mt-18 md:mt-18"},wE={key:0},_E={class:"block truncate"},CE={key:1},EE={key:0},TE={key:1},OE={key:2},NE={key:2},ME={class:"block truncate"},$E=_e({__name:"PatientList",setup(t){const e=M(),n=M("his"),r=M(!0),i=M(!0),s=lr([{id:"REGSFN01",name:"病患清單",panel:fh,disabled:!0},{id:"REGSFN02",name:"門診醫囑",panel:ph}]),o=M(s.value[0].id),l=u=>{const d=s.value.filter(p=>p.id!==u);s.value=d},a=u=>{console.log("Parent received change:",u),o.value=u},c=M([{field:"id",header:"診號"},{field:"status",header:"狀態"},{field:"name",header:"姓名"}]);return _t(()=>{Zt.getProductsMini().then(u=>e.value=u)}),(u,d)=>{const p=D("Column"),f=D("DataTable"),h=D("Card");return S(),C("div",SE,[y("div",xE,[k(dh,{"active-id":o.value,variant:n.value,items:s.value,scrollable:i.value,closable:r.value,onChange:a,onClose:l},null,8,["active-id","variant","items","scrollable","closable"])]),y("div",kE,[k(h,{class:"h-full flex flex-col p-2"},{header:A(()=>[...d[0]||(d[0]=[y("div",{class:"flex gap-4"},[y("div",{class:"flex gap-2 items-center flex-1"},[y("div",{class:"bg-primary h-[25px] w-2"}),y("p",{class:"text-primary text-lg m-0"},"當日急件報告")]),y("div",{class:"flex flex-col justify-end flex-1"},[y("p",null,"3分鐘前更新"),y("p",null,"總比數：3")])],-1)])]),content:A(()=>[k(f,{value:e.value,editMode:"row",dataKey:"id",size:"small",resizableColumns:"",columnResizeMode:"fit",selectionMode:"single",showGridlines:"",stripedRows:"",paginator:"",roweditoriniticon:"",rows:10,pt:{}},{default:A(()=>[(S(!0),C(oe,null,Se(c.value,m=>(S(),G(p,{key:m.field,field:m.field,header:m.header,class:"max-w-200 truncate",size:"small"},{body:A(({data:g,field:v})=>[v==="id"?(S(),C("div",wE,[y("span",_E,"早診"+we(typeof v=="string"&&v in g?g[v]:""),1)])):v==="status"?(S(),C("div",CE,[g[v]==="A"?(S(),C("span",EE,[...d[1]||(d[1]=[y("i",{class:"pi pi-times text-red-500"},null,-1),F("2/2",-1)])])):g[v]==="C"?(S(),C("span",TE,[...d[2]||(d[2]=[y("i",{class:"pi pi-check text-green-500"},null,-1),F("0/1",-1)])])):(S(),C("span",OE,"1/5"))])):(S(),C("div",NE,[y("span",ME,we(typeof v=="string"&&v in g?g[v]:""),1)]))]),_:1},8,["field","header"]))),128))]),_:1},8,["value"])]),_:1})])])}}}),AE={class:"card"},DE={class:"flex flex-wrap items-center justify-between gap-2"},PE={key:0},IE={key:1},RE=[{path:"/his-primevue-app",name:"Home",component:F0},{path:"/his-primevue-app/Textcheck",name:"Textcheck",component:Rw},{path:"/his-primevue-app/CPOEDemo",name:"CPOEDemo",component:KC},{path:"/his-primevue-app/Datatable",name:"Datatable",component:m_},{path:"/his-primevue-app/PatientList",name:"PatientList",component:$E},{path:"/his-primevue-app/CPOEDemo2",name:"CPOEDemo2",component:bE},{path:"/his-primevue-app/DatatableSaveCell",name:"DatatableSaveCell",component:b_},{path:"/his-primevue-app/DatatableVirtualScroll",name:"DatatableVirtualScroll",component:{__name:"DatatableVirtualScroll",setup(t){const e=ys(),n=M(),r=M([]),i=M({}),s=M([{field:"code",header:"Code"},{field:"name",header:"Name"},{field:"quantity",header:"Quantity"},{field:"price",header:"Price"},{field:"category",header:"Category"},{field:"description",header:"Description"},{field:"rating",header:"Rating"}]);_t(()=>{Zt.getProductsWithOrders().then(f=>{n.value=f,r.value=JSON.parse(JSON.stringify(f))})});const o=(f,h,m)=>{var g;return((g=i.value[f])==null?void 0:g[h])!==void 0&&String(m)!==String(i.value[f][h])?"bg-yellow-400":""},l=M(null),a=f=>{const{data:h,field:m}=f;l.value=h[m]},c=f=>{let{data:h,newValue:m,field:g}=f;const v=h.id,b=l.value;if(m===b){console.log("資料沒有變動，不做任何事");return}switch(g){case"quantity":case"price":d(m)?h[g]=m:f.preventDefault();break;default:m.trim().length>0?h[g]=m:f.preventDefault();break}h[g]=m,i.value[v]||(i.value[v]={}),g in i.value[v]||(i.value[v][g]=b)},u=()=>{localStorage.setItem("savedProducts",JSON.stringify(n.value)),e.add({severity:"success",summary:"成功",detail:"資料已儲存",life:3e3})},d=f=>{let h=String(f);if(h=h.trim(),!h)return!1;h=h.replace(/^0+/,"")||"0";var m=Math.floor(Number(h));return m!==1/0&&String(m)===h&&m>=0},p=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f);return(f,h)=>{const m=D("Button"),g=D("InputText"),v=D("InputNumber"),b=D("Column"),E=D("DataTable"),x=D("Toast");return S(),C(oe,null,[y("div",AE,[k(E,{value:n.value,editMode:"cell",onCellEditComplete:c,onCellEditInit:a,size:"small",stripedRows:"",showGridlines:"",selectionMode:"single",scrollable:"",scrollHeight:"500px",virtualScrollerOptions:{itemSize:30},pt:{table:{style:"min-width: 50rem"},column:{bodycell:({state:_})=>({class:"!p-0",style:"white-space: normal; word-break: break-word; max-height: 60px; overflow: hidden;width: 50%;"})}}},{header:A(()=>[y("div",DE,[h[1]||(h[1]=y("span",{class:"text-xl font-bold"},"測試",-1)),k(m,{label:"存檔",rounded:"",raised:"",onClick:h[0]||(h[0]=_=>u())})])]),default:A(()=>[(S(!0),C(oe,null,Se(s.value,_=>(S(),G(b,{key:_.field,field:_.field,header:_.header},{body:A(({data:N,field:T})=>[T==="description"?(S(),C("div",PE,[y("div",{class:ht(o(N.id,T))},we(N[T]),3)])):(S(),C("div",IE,[y("div",{class:ht(o(N.id,T))},we(T==="price"?p(N[T]):N[T]),3)]))]),editor:A(({data:N,field:T})=>[T!=="price"?(S(),G(g,{key:0,modelValue:N[T],"onUpdate:modelValue":$=>N[T]=$,autofocus:"",fluid:"",size:"small"},null,8,["modelValue","onUpdate:modelValue"])):(S(),G(v,{key:1,modelValue:N[T],"onUpdate:modelValue":$=>N[T]=$,mode:"currency",currency:"USD",locale:"en-US",autofocus:"",fluid:"",size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1},8,["field","header"]))),128))]),_:1},8,["value"])]),k(x)],64)}}}},{path:"/his-primevue-app/DatatableReorder",name:"DatatableReorder",component:{__name:"DatatableReorder",setup(t){const e=M([]),n=ys();_t(()=>{Zt.getProductsWithOrders().then(a=>{e.value=a.map((c,u)=>({...c,order:u}))})});const r=()=>{const a=new Set;for(const c of e.value){if(a.has(c.order))return!0;a.add(c.order)}return!1},i=()=>{const a=e.value.length;e.value.forEach(u=>{let d=Number(u.order);isNaN(d)||d<0?u._tmpOrder=-1/0:d>=a?u._tmpOrder=1/0:u._tmpOrder=d});const c=[...e.value].sort((u,d)=>u._tmpOrder-d._tmpOrder);c.forEach((u,d)=>{u.order=d,delete u._tmpOrder}),e.value=c,r()?n.add({severity:"warn",summary:"有重複順序，已自動調整",life:3e3}):n.add({severity:"success",summary:"順序已更新",life:2e3})},s=a=>{e.value=a.value,e.value.forEach((c,u)=>{c.order=u}),n.add({severity:"success",summary:"Rows Reordered",life:3e3})},o=M([{field:"code",header:"Code"},{field:"name",header:"Name"},{field:"category",header:"Category"},{field:"quantity",header:"Quantity"}]),l=()=>{n.add({severity:"success",summary:"Column Reordered",life:3e3})};return(a,c)=>{const u=D("Column"),d=D("InputNumber"),p=D("DataTable"),f=D("Toast");return S(),C("div",null,[k(p,{value:e.value,reorderableColumns:!0,onColumnReorder:l,onRowReorder:s,tableStyle:"min-width: 50rem",sortField:"order",dataKey:"code",sortOrder:1,onSort:a.onSort},{default:A(()=>[k(u,{rowReorder:"",headerStyle:"width: 3rem",reorderableColumn:!1}),k(u,{header:"#",headerStyle:"width: 3rem"},{body:A(h=>[y("span",null,we(h.data.order),1)]),_:1}),k(u,{header:"#",headerStyle:"width: 3rem"},{body:A(h=>[k(d,{modelValue:h.data.order,"onUpdate:modelValue":m=>h.data.order=m,onBlur:i,showButtons:"",class:"w-full text-center"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),(S(!0),C(oe,null,Se(o.value,h=>(S(),G(u,{field:h.field,header:h.header,key:h.field},null,8,["field","header"]))),128))]),_:1},8,["value","onSort"]),k(f)])}}}}];Wv({history:nv(),routes:RE}),window.MyVueApp={createMyApp}}));
